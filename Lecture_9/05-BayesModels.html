<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta http-equiv="Content-Style-Type" content="text/css" />
  <meta name="generator" content="pandoc" />
  <meta name="author" content="Sanjiv R.Das" />
  <title>Bayes Models: Learning from Experience</title>
  <style type="text/css">code{white-space: pre;}</style>
  <style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
  </style>
  <link href="data:text/css;charset=utf-8,%0Abody%0A%7B%0Amargin%3A%200%200%200%200%3B%0Apadding%3A%200%200%200%200%3B%0Awidth%3A%20100%25%3B%0Aheight%3A%20100%25%3B%0Acolor%3A%20black%3B%0Abackground%2Dcolor%3A%20white%3B%0Afont%2Dfamily%3A%20%22Gill%20Sans%20MT%22%2C%20%22Gill%20Sans%22%2C%20GillSans%2C%20sans%2Dserif%3B%0Afont%2Dsize%3A%2014pt%3B%0A%7D%0Adiv%2Etoolbar%20%7B%0Aposition%3A%20fixed%3B%20z%2Dindex%3A%20200%3B%0Atop%3A%20auto%3B%20bottom%3A%200%3B%20left%3A%200%3B%20right%3A%200%3B%0Aheight%3A%201%2E2em%3B%20text%2Dalign%3A%20right%3B%0Apadding%2Dleft%3A%201em%3B%0Apadding%2Dright%3A%201em%3B%20font%2Dsize%3A%2060%25%3B%0Acolor%3A%20DimGray%3B%0Abackground%2Dcolor%3A%20rgb%28240%2C240%2C240%29%3B%0Aborder%2Dtop%3A%20solid%201px%20rgb%28180%2C180%2C180%29%3B%0A%7D%0Adiv%2Etoolbar%20span%2Ecopyright%20%7B%0Acolor%3A%20DimGray%3B%0Amargin%2Dleft%3A%200%2E5em%3B%0A%7D%0Adiv%2Einitial%5Fprompt%20%7B%0Aposition%3A%20absolute%3B%0Az%2Dindex%3A%201000%3B%0Abottom%3A%201%2E2em%3B%0Awidth%3A%20100%25%3B%0Abackground%2Dcolor%3A%20rgb%28200%2C200%2C200%29%3B%0Aopacity%3A%200%2E35%3B%0Abackground%2Dcolor%3A%20rgb%28200%2C200%2C200%2C%200%2E35%29%3B%0Acursor%3A%20pointer%3B%0A%7D%0Adiv%2Einitial%5Fprompt%20p%2Ehelp%20%7B%0Atext%2Dalign%3A%20center%3B%0A%7D%0Adiv%2Einitial%5Fprompt%20p%2Eclose%20%7B%0Atext%2Dalign%3A%20right%3B%0Afont%2Dstyle%3A%20italic%3B%0A%7D%0Adiv%2Eslidy%5Ftoc%20%7B%0Aposition%3A%20absolute%3B%0Az%2Dindex%3A%20300%3B%0Awidth%3A%2060%25%3B%0Amax%2Dwidth%3A%2030em%3B%0Aheight%3A%2030em%3B%0Aoverflow%3A%20auto%3B%0Atop%3A%20auto%3B%0Aright%3A%20auto%3B%0Aleft%3A%204em%3B%0Abottom%3A%204em%3B%0Apadding%3A%201em%3B%0Abackground%3A%20rgb%28240%2C240%2C240%29%3B%0Aborder%2Dstyle%3A%20solid%3B%0Aborder%2Dwidth%3A%202px%3B%0Afont%2Dsize%3A%2060%25%3B%0A%7D%0Adiv%2Eslidy%5Ftoc%20%2Etoc%5Fheading%20%7B%0Atext%2Dalign%3A%20center%3B%0Awidth%3A%20100%25%3B%0Amargin%3A%200%3B%0Amargin%2Dbottom%3A%201em%3B%0Aborder%2Dbottom%2Dstyle%3A%20solid%3B%0Aborder%2Dbottom%2Dcolor%3A%20rgb%28180%2C180%2C180%29%3B%0Aborder%2Dbottom%2Dwidth%3A%201px%3B%0A%7D%0Adiv%2Eslide%20%7B%0Az%2Dindex%3A%2020%3B%0Amargin%3A%200%200%200%200%3B%0Apadding%2Dtop%3A%200%3B%0Apadding%2Dbottom%3A%200%3B%0Apadding%2Dleft%3A%2020px%3B%0Apadding%2Dright%3A%2020px%3B%0Aborder%2Dwidth%3A%200%3B%0Aclear%3A%20both%3B%0Atop%3A%200%3B%0Abottom%3A%200%3B%0Aleft%3A%200%3B%0Aright%3A%200%3B%0Aline%2Dheight%3A%20120%25%3B%0Abackground%2Dcolor%3A%20transparent%3B%0A%7D%0Adiv%2Ebackground%20%7B%0Adisplay%3A%20none%3B%0A%7D%0Adiv%2Ehandout%20%7B%0Amargin%2Dleft%3A%2020px%3B%0Amargin%2Dright%3A%2020px%3B%0A%7D%0Adiv%2Eslide%2Etitlepage%20%7B%0Atext%2Dalign%3A%20center%3B%0A%7D%0Adiv%2Eslide%2Etitlepage%20h1%20%7B%0Apadding%2Dtop%3A%2010%25%3B%0Amargin%2Dright%3A%200%3B%0A%7D%0Adiv%2Eslide%20h1%20%7B%0Apadding%2Dleft%3A%200%3B%0Apadding%2Dright%3A%2020pt%3B%0Apadding%2Dtop%3A%204pt%3B%0Apadding%2Dbottom%3A%204pt%3B%0Amargin%2Dtop%3A%200%3B%0Amargin%2Dleft%3A%200%3B%0Amargin%2Dright%3A%2060pt%3B%0Amargin%2Dbottom%3A%200%2E5em%3B%0Adisplay%3A%20block%3B%20font%2Dsize%3A%20160%25%3B%0Aline%2Dheight%3A%201%2E2em%3B%0Abackground%3A%20transparent%3B%0A%7D%0A%40media%20screen%20and%20%28max%2Ddevice%2Dwidth%3A%201024px%29%0A%7B%0Adiv%2Eslide%20%7B%20font%2Dsize%3A%20100%25%3B%20%7D%0A%7D%0A%40media%20screen%20and%20%28max%2Ddevice%2Dwidth%3A%20800px%29%0A%7B%0Adiv%2Eslide%20%7B%20font%2Dsize%3A%20200%25%3B%20%7D%0Adiv%2Eslidy%5Ftoc%20%7B%0Atop%3A%201em%3B%0Aleft%3A%201em%3B%0Aright%3A%20auto%3B%0Awidth%3A%2080%25%3B%0Afont%2Dsize%3A%20180%25%3B%0A%7D%0A%7D%0Adiv%2Etoc%2Dheading%20%7B%0Awidth%3A%20100%25%3B%0Aborder%2Dbottom%3A%20solid%201px%20rgb%28180%2C180%2C180%29%3B%0Amargin%2Dbottom%3A%201em%3B%0Atext%2Dalign%3A%20center%3B%0A%7D%0Aimg%20%7B%0Aimage%2Drendering%3A%20optimize%2Dquality%3B%0A%7D%0Apre%20%7B%0Afont%2Dsize%3A%2080%25%3B%0Afont%2Dweight%3A%20bold%3B%0Aline%2Dheight%3A%20120%25%3B%0Apadding%2Dtop%3A%200%2E2em%3B%0Apadding%2Dbottom%3A%200%2E2em%3B%0Apadding%2Dleft%3A%201em%3B%0Apadding%2Dright%3A%201em%3B%0Aborder%2Dstyle%3A%20solid%3B%0Aborder%2Dleft%2Dwidth%3A%201em%3B%0Aborder%2Dtop%2Dwidth%3A%20thin%3B%0Aborder%2Dright%2Dwidth%3A%20thin%3B%0Aborder%2Dbottom%2Dwidth%3A%20thin%3B%0Aborder%2Dcolor%3A%20%2395ABD0%3B%0Acolor%3A%20%2300428C%3B%0Abackground%2Dcolor%3A%20%23E4E5E7%3B%0A%7D%0Ali%20pre%20%7B%20margin%2Dleft%3A%200%3B%20%7D%0Ablockquote%20%7B%20font%2Dstyle%3A%20italic%20%7D%0Aimg%20%7B%20background%2Dcolor%3A%20transparent%20%7D%0Ap%2Ecopyright%20%7B%20font%2Dsize%3A%20smaller%20%7D%0A%2Ecenter%20%7B%20text%2Dalign%3A%20center%20%7D%0A%2Efootnote%20%7B%20font%2Dsize%3A%20smaller%3B%20margin%2Dleft%3A%202em%3B%20%7D%0Aa%20img%20%7B%20border%2Dwidth%3A%200%3B%20border%2Dstyle%3A%20none%20%7D%0Aa%3Avisited%20%7B%20color%3A%20navy%20%7D%0Aa%3Alink%20%7B%20color%3A%20navy%20%7D%0Aa%3Ahover%20%7B%20color%3A%20red%3B%20text%2Ddecoration%3A%20underline%20%7D%0Aa%3Aactive%20%7B%20color%3A%20red%3B%20text%2Ddecoration%3A%20underline%20%7D%0Aa%20%7Btext%2Ddecoration%3A%20none%7D%0A%2Etoolbar%20a%3Alink%20%7Bcolor%3A%20blue%7D%0A%2Etoolbar%20a%3Avisited%20%7Bcolor%3A%20blue%7D%0A%2Etoolbar%20a%3Aactive%20%7Bcolor%3A%20red%7D%0A%2Etoolbar%20a%3Ahover%20%7Bcolor%3A%20red%7D%0Aul%20%7B%20list%2Dstyle%2Dtype%3A%20square%3B%20%7D%0Aul%20ul%20%7B%20list%2Dstyle%2Dtype%3A%20disc%3B%20%7D%0Aul%20ul%20ul%20%7B%20list%2Dstyle%2Dtype%3A%20circle%3B%20%7D%0Aul%20ul%20ul%20ul%20%7B%20list%2Dstyle%2Dtype%3A%20disc%3B%20%7D%0Ali%20%7B%20margin%2Dleft%3A%200%2E5em%3B%20margin%2Dtop%3A%200%2E5em%3B%20%7D%0Ali%20li%20%7B%20font%2Dsize%3A%2085%25%3B%20font%2Dstyle%3A%20italic%20%7D%0Ali%20li%20li%20%7B%20font%2Dsize%3A%2085%25%3B%20font%2Dstyle%3A%20normal%20%7D%0Adiv%20dt%0A%7B%0Amargin%2Dleft%3A%200%3B%0Amargin%2Dtop%3A%201em%3B%0Amargin%2Dbottom%3A%200%2E5em%3B%0Afont%2Dweight%3A%20bold%3B%0A%7D%0Adiv%20dd%0A%7B%0Amargin%2Dleft%3A%202em%3B%0Amargin%2Dbottom%3A%200%2E5em%3B%0A%7D%0Ap%2Cpre%2Cul%2Col%2Cblockquote%2Ch2%2Ch3%2Ch4%2Ch5%2Ch6%2Cdl%2Ctable%20%7B%0Amargin%2Dleft%3A%201em%3B%0Amargin%2Dright%3A%201em%3B%0A%7D%0Ap%2Esubhead%20%7B%20font%2Dweight%3A%20bold%3B%20margin%2Dtop%3A%202em%3B%20%7D%0A%2Esmaller%20%7B%20font%2Dsize%3A%20smaller%20%7D%0A%2Ebigger%20%7B%20font%2Dsize%3A%20130%25%20%7D%0Atd%2Cth%20%7B%20padding%3A%200%2E2em%20%7D%0Aul%20%7B%0Amargin%3A%200%2E5em%201%2E5em%200%2E5em%201%2E5em%3B%0Apadding%3A%200%3B%0A%7D%0Aol%20%7B%0Amargin%3A%200%2E5em%201%2E5em%200%2E5em%201%2E5em%3B%0Apadding%3A%200%3B%0A%7D%0Aul%20%7B%20list%2Dstyle%2Dtype%3A%20square%3B%20%7D%0Aul%20ul%20%7B%20list%2Dstyle%2Dtype%3A%20disc%3B%20%7D%0Aul%20ul%20ul%20%7B%20list%2Dstyle%2Dtype%3A%20circle%3B%20%7D%0Aul%20ul%20ul%20ul%20%7B%20list%2Dstyle%2Dtype%3A%20disc%3B%20%7D%0Aul%20li%20%7B%20list%2Dstyle%3A%20square%3B%0Amargin%3A%200%2E1em%200em%200%2E6em%200%3B%0Apadding%3A%200%200%200%200%3B%0Aline%2Dheight%3A%20140%25%3B%0A%7D%0Aol%20li%20%7B%20margin%3A%200%2E1em%200em%200%2E6em%201%2E5em%3B%0Apadding%3A%200%200%200%200px%3B%0Aline%2Dheight%3A%20140%25%3B%0Alist%2Dstyle%2Dtype%3A%20decimal%3B%0A%7D%0Ali%20ul%20li%20%7B%20font%2Dsize%3A%2085%25%3B%20font%2Dstyle%3A%20italic%3B%0Alist%2Dstyle%2Dtype%3A%20disc%3B%0Abackground%3A%20transparent%3B%0Apadding%3A%200%200%200%200%3B%0A%7D%0Ali%20li%20ul%20li%20%7B%20font%2Dsize%3A%2085%25%3B%20font%2Dstyle%3A%20normal%3B%0Alist%2Dstyle%2Dtype%3A%20circle%3B%0Abackground%3A%20transparent%3B%0Apadding%3A%200%200%200%200%3B%0A%7D%0Ali%20li%20li%20ul%20li%20%7B%0Alist%2Dstyle%2Dtype%3A%20disc%3B%0Abackground%3A%20transparent%3B%0Apadding%3A%200%200%200%200%3B%0A%7D%0Ali%20ol%20li%20%7B%0Alist%2Dstyle%2Dtype%3A%20decimal%3B%0A%7D%0Ali%20li%20ol%20li%20%7B%0Alist%2Dstyle%2Dtype%3A%20decimal%3B%0A%7D%0A%0Aol%2Eoutline%20li%3Ahover%20%7B%20cursor%3A%20pointer%20%7D%0Aol%2Eoutline%20li%2Enofold%3Ahover%20%7B%20cursor%3A%20default%20%7D%0Aul%2Eoutline%20li%3Ahover%20%7B%20cursor%3A%20pointer%20%7D%0Aul%2Eoutline%20li%2Enofold%3Ahover%20%7B%20cursor%3A%20default%20%7D%0Aol%2Eoutline%20%7B%20list%2Dstyle%3Adecimal%3B%20%7D%0Aol%2Eoutline%20ol%20%7B%20list%2Dstyle%2Dtype%3Alower%2Dalpha%20%7D%0Aol%2Eoutline%20li%2Enofold%20%7B%0Apadding%3A%200%200%200%2020px%3B%0Abackground%3A%20transparent%20url%28data%3Aimage%2Fgif%3Bbase64%2CR0lGODdhCQAJAIACAMzMzOvr%2FywAAAAACQAJAAACD4SPoRvG614Dctb4MEMcFAA7%29%20no%2Drepeat%200px%200%2E5em%3B%0A%7D%0Aol%2Eoutline%20li%2Eunfolded%20%7B%0Apadding%3A%200%200%200%2020px%3B%0Abackground%3A%20transparent%20url%28data%3Aimage%2Fgif%3Bbase64%2CR0lGODdhCQAJAKEDAMPD%2F8zMzOvr%2F%2F%2F%2F%2FywAAAAACQAJAAACEYyPoivG614LAlg7ZZbxoR8UADs%3D%29%20no%2Drepeat%200px%200%2E5em%3B%0A%7D%0Aol%2Eoutline%20li%2Efolded%20%7B%0Apadding%3A%200%200%200%2020px%3B%0Abackground%3A%20transparent%20url%28data%3Aimage%2Fgif%3Bbase64%2CR0lGODdhCQAJAKEDAMPD%2F8zMzOvr%2F%2F%2F%2F%2FywAAAAACQAJAAACFIyPoiu2sJyCyoF7W3hxz850CFIAADs%3D%29%20no%2Drepeat%200px%200%2E5em%3B%0A%7D%0Aol%2Eoutline%20li%2Eunfolded%3Ahover%20%7B%0Apadding%3A%200%200%200%2020px%3B%0Abackground%3A%20transparent%20url%28data%3Aimage%2Fgif%3Bbase64%2CR0lGODdhCQAJAKEDAAAAAAAA%2F8PD%2F%2F%2F%2F%2FywAAAAACQAJAAACEYSPoivG614DIlg7ZZbxoQ8UADs%3D%29%20no%2Drepeat%200px%200%2E5em%3B%0A%7D%0Aol%2Eoutline%20li%2Efolded%3Ahover%20%7B%0Apadding%3A%200%200%200%2020px%3B%0Abackground%3A%20transparent%20url%28data%3Aimage%2Fgif%3Bbase64%2CR0lGODdhCQAJAKEDAAAAAAAA%2F8PD%2F%2F%2F%2F%2FywAAAAACQAJAAACFISPoiu2sZyCyoV7G3hxz850CFIAADs%3D%29%20no%2Drepeat%200px%200%2E5em%3B%0A%7D%0Aul%2Eoutline%20li%2Enofold%20%7B%0Apadding%3A%200%200%200%2020px%3B%0Abackground%3A%20transparent%20url%28data%3Aimage%2Fgif%3Bbase64%2CR0lGODdhCQAJAIACAMzMzOvr%2FywAAAAACQAJAAACD4SPoRvG614Dctb4MEMcFAA7%29%20no%2Drepeat%200px%200%2E5em%3B%0A%7D%0Aul%2Eoutline%20li%2Eunfolded%20%7B%0Apadding%3A%200%200%200%2020px%3B%0Abackground%3A%20transparent%20url%28data%3Aimage%2Fgif%3Bbase64%2CR0lGODdhCQAJAKEDAMPD%2F8zMzOvr%2F%2F%2F%2F%2FywAAAAACQAJAAACEYyPoivG614LAlg7ZZbxoR8UADs%3D%29%20no%2Drepeat%200px%200%2E5em%3B%0A%7D%0Aul%2Eoutline%20li%2Efolded%20%7B%0Apadding%3A%200%200%200%2020px%3B%0Abackground%3A%20transparent%20url%28data%3Aimage%2Fgif%3Bbase64%2CR0lGODdhCQAJAKEDAMPD%2F8zMzOvr%2F%2F%2F%2F%2FywAAAAACQAJAAACFIyPoiu2sJyCyoF7W3hxz850CFIAADs%3D%29%20no%2Drepeat%200px%200%2E5em%3B%0A%7D%0Aul%2Eoutline%20li%2Eunfolded%3Ahover%20%7B%0Apadding%3A%200%200%200%2020px%3B%0Abackground%3A%20transparent%20url%28data%3Aimage%2Fgif%3Bbase64%2CR0lGODdhCQAJAKEDAAAAAAAA%2F8PD%2F%2F%2F%2F%2FywAAAAACQAJAAACEYSPoivG614DIlg7ZZbxoQ8UADs%3D%29%20no%2Drepeat%200px%200%2E5em%3B%0A%7D%0Aul%2Eoutline%20li%2Efolded%3Ahover%20%7B%0Apadding%3A%200%200%200%2020px%3B%0Abackground%3A%20transparent%20url%28data%3Aimage%2Fgif%3Bbase64%2CR0lGODdhCQAJAKEDAAAAAAAA%2F8PD%2F%2F%2F%2F%2FywAAAAACQAJAAACFISPoiu2sZyCyoV7G3hxz850CFIAADs%3D%29%20no%2Drepeat%200px%200%2E5em%3B%0A%7D%0A%0Aa%2Etitleslide%20%7B%20font%2Dweight%3A%20bold%3B%20font%2Dstyle%3A%20italic%20%7D%0A%0Aimg%2Ehidden%20%7B%20display%3A%20none%3B%20visibility%3A%20hidden%20%7D%0Adiv%2Einitial%5Fprompt%20%7B%20display%3A%20none%3B%20visibility%3A%20hidden%20%7D%0Adiv%2Eslide%20%7B%0Avisibility%3A%20visible%3B%0Aposition%3A%20inherit%3B%0A%7D%0Adiv%2Ehandout%20%7B%0Aborder%2Dtop%2Dstyle%3A%20solid%3B%0Aborder%2Dtop%2Dwidth%3A%20thin%3B%0Aborder%2Dtop%2Dcolor%3A%20black%3B%0A%7D%0A%40media%20screen%20%7B%0A%2Ehidden%20%7B%20display%3A%20none%3B%20visibility%3A%20visible%20%7D%0Adiv%2Eslide%2Ehidden%20%7B%20display%3A%20block%3B%20visibility%3A%20visible%20%7D%0Adiv%2Ehandout%2Ehidden%20%7B%20display%3A%20block%3B%20visibility%3A%20visible%20%7D%0Adiv%2Ebackground%20%7B%20display%3A%20none%3B%20visibility%3A%20hidden%20%7D%0Abody%2Esingle%5Fslide%20div%2Einitial%5Fprompt%20%7B%20display%3A%20block%3B%20visibility%3A%20visible%20%7D%0Abody%2Esingle%5Fslide%20div%2Ebackground%20%7B%20display%3A%20block%3B%20visibility%3A%20visible%20%7D%0Abody%2Esingle%5Fslide%20div%2Ebackground%2Ehidden%20%7B%20display%3A%20none%3B%20visibility%3A%20hidden%20%7D%0Abody%2Esingle%5Fslide%20%2Einvisible%20%7B%20visibility%3A%20hidden%20%7D%0Abody%2Esingle%5Fslide%20%2Ehidden%20%7B%20display%3A%20none%3B%20visibility%3A%20hidden%20%7D%0Abody%2Esingle%5Fslide%20div%2Eslide%20%7B%20position%3A%20absolute%20%7D%0Abody%2Esingle%5Fslide%20div%2Ehandout%20%7B%20display%3A%20none%3B%20visibility%3A%20hidden%20%7D%0A%7D%0A%40media%20print%20%7B%0A%2Ehidden%20%7B%20display%3A%20block%3B%20visibility%3A%20visible%20%7D%0Adiv%2Eslide%20pre%20%7B%20font%2Dsize%3A%2060%25%3B%20padding%2Dleft%3A%200%2E5em%3B%20%7D%0Adiv%2Etoolbar%20%7B%20display%3A%20none%3B%20visibility%3A%20hidden%3B%20%7D%0Adiv%2Eslidy%5Ftoc%20%7B%20display%3A%20none%3B%20visibility%3A%20hidden%3B%20%7D%0Adiv%2Ebackground%20%7B%20display%3A%20none%3B%20visibility%3A%20hidden%3B%20%7D%0Adiv%2Eslide%20%7B%20page%2Dbreak%2Dbefore%3A%20always%20%7D%0A%0Adiv%2Eslide%2Efirst%2Dslide%20%7B%20page%2Dbreak%2Dbefore%3A%20avoid%20%7D%0A%7D%0A%0A%0A%2Ejslider%20table%20%7B%0Amargin%2Dleft%3A%200em%3B%0Amargin%2Dright%3A%200em%3B%0A%7D%0A%0Atable%2EdataTable%2C%20%2Eshiny%2Ddatatable%2Doutput%20div%20%7B%0Afont%2Dsize%3A%2014pt%3B%0A%7D%0A%0A%2EdataTables%5Finfo%2C%20%2EdataTables%5Fpaginate%20%7B%0Afont%2Dsize%3A%2019px%3B%0A%7D%0A%0Apre%2EsourceCode%2C%20code%2EsourceCode%20%7B%0Afont%2Dsize%3A%2080%25%3B%0A%7D%0A%0Alabel%2C%20button%2C%20input%2C%20select%2C%20textarea%20%7B%0Afont%2Dsize%3A%2014pt%3B%0A%7D%0A%0Aul%2Enav%2C%20ul%2Enav%20li%20%7B%0Alist%2Dstyle%2Dtype%3A%20none%3B%0A%7D%0A" rel="stylesheet" />
  <script src="data:application/x-javascript;base64,Lyogc2xpZHkuanMKCiAgIENvcHlyaWdodCAoYykgMjAwNS0yMDEzIFczQyAoTUlULCBFUkNJTSwgS2VpbyksIEFsbCBSaWdodHMgUmVzZXJ2ZWQuCiAgIFczQyBsaWFiaWxpdHksIHRyYWRlbWFyaywgZG9jdW1lbnQgdXNlIGFuZCBzb2Z0d2FyZSBsaWNlbnNpbmcKICAgcnVsZXMgYXBwbHksIHNlZToKCiAgIGh0dHA6Ly93d3cudzMub3JnL0NvbnNvcnRpdW0vTGVnYWwvY29weXJpZ2h0LWRvY3VtZW50cwogICBodHRwOi8vd3d3LnczLm9yZy9Db25zb3J0aXVtL0xlZ2FsL2NvcHlyaWdodC1zb2Z0d2FyZQoKICAgRGVmaW5lcyBzaW5nbGUgbmFtZSAidzNjX3NsaWR5IiBpbiBnbG9iYWwgbmFtZXNwYWNlCiAgIEFkZHMgZXZlbnQgaGFuZGxlcnMgd2l0aG91dCB0cmFtcGxpbmcgb24gYW55IG90aGVycwoqLwoKLy8gdGhlIHNsaWR5IG9iamVjdCBpbXBsZW1lbnRhdGlvbgp2YXIgdzNjX3NsaWR5ID0gewogIC8vIGNsYXNzaWZ5IHdoaWNoIGtpbmQgb2YgYnJvd3NlciB3ZSdyZSBydW5uaW5nIHVuZGVyCiAgbnNfcG9zOiAodHlwZW9mIHdpbmRvdy5wYWdlWU9mZnNldCE9J3VuZGVmaW5lZCcpLAogIGtodG1sOiAoKG5hdmlnYXRvci51c2VyQWdlbnQpLmluZGV4T2YoIktIVE1MIikgPj0gMCA/IHRydWUgOiBmYWxzZSksCiAgb3BlcmE6ICgobmF2aWdhdG9yLnVzZXJBZ2VudCkuaW5kZXhPZigiT3BlcmEiKSA+PSAwID8gdHJ1ZSA6IGZhbHNlKSwKICBpcGFkOiAoKG5hdmlnYXRvci51c2VyQWdlbnQpLmluZGV4T2YoImlQYWQiKSA+PSAwID8gdHJ1ZSA6IGZhbHNlKSwKICBpcGhvbmU6ICgobmF2aWdhdG9yLnVzZXJBZ2VudCkuaW5kZXhPZigiaVBob25lIikgPj0gMCA/IHRydWUgOiBmYWxzZSksCiAgYW5kcm9pZDogKChuYXZpZ2F0b3IudXNlckFnZW50KS5pbmRleE9mKCJBbmRyb2lkIikgPj0gMCA/IHRydWUgOiBmYWxzZSksCiAgaWU6ICh0eXBlb2YgZG9jdW1lbnQuYWxsICE9ICJ1bmRlZmluZWQiICYmICF0aGlzLm9wZXJhKSwKICBpZTY6ICghdGhpcy5uc19wb3MgJiYgbmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKCJNU0lFIDYiKSAhPSAtMSksCiAgaWU3OiAoIXRoaXMubnNfcG9zICYmIG5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZigiTVNJRSA3IikgIT0gLTEpLAogIGllODogKCF0aGlzLm5zX3BvcyAmJiBuYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoIk1TSUUgOCIpICE9IC0xKSwKICBpZTk6ICghdGhpcy5uc19wb3MgJiYgbmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKCJNU0lFIDkiKSAhPSAtMSksCgogIC8vIGRhdGEgZm9yIHN3aXBlIGFuZCBkb3VibGUgdGFwIGRldGVjdGlvbiBvbiB0b3VjaCBzY3JlZW5zCiAgbGFzdF90YXA6IDAsCiAgcHJldl90YXA6IDAsCiAgc3RhcnRfeDogMCwKICBzdGFydF95OiAwLAogIGRlbHRhX3g6IDAsCiAgZGVsdGFfeTogMCwKCiAgLy8gYXJlIHdlIHJ1bm5pbmcgYXMgWEhUTUw/IChkb2Vzbid0IHdvcmsgb24gT3BlcmEpCiAgaXNfeGh0bWw6IC94bWwvLnRlc3QoZG9jdW1lbnQuY29udGVudFR5cGUpLAoKICBzbGlkZV9udW1iZXI6IDAsIC8vIGludGVnZXIgc2xpZGUgY291bnQ6IDAsIDEsIDIsIC4uLgogIHNsaWRlX251bWJlcl9lbGVtZW50OiBudWxsLCAvLyBlbGVtZW50IGNvbnRhaW5pbmcgc2xpZGUgbnVtYmVyCiAgc2xpZGVzOiBbXSwgLy8gc2V0IHRvIGFycmF5IG9mIHNsaWRlIGRpdidzCiAgbm90ZXM6IFtdLCAvLyBzZXQgdG8gYXJyYXkgb2YgaGFuZG91dCBkaXYncwogIGJhY2tncm91bmRzOiBbXSwgLy8gc2V0IHRvIGFycmF5IG9mIGJhY2tncm91bmQgZGl2J3MKICBvYnNlcnZlcnM6IFtdLCAvLyBsaXN0IG9mIG9ic2VydmVyIGZ1bmN0aW9ucwogIHRvb2xiYXI6IG51bGwsIC8vIGVsZW1lbnQgY29udGFpbmluZyB0b29sYmFyCiAgdGl0bGU6IG51bGwsIC8vIGRvY3VtZW50IHRpdGxlCiAgbGFzdF9zaG93bjogbnVsbCwgLy8gbGFzdCBpbmNyZW1lbnRhbGx5IHNob3duIGl0ZW0KICBlb3M6IG51bGwsICAvLyBzcGFuIGVsZW1lbnQgZm9yIGVuZCBvZiBzbGlkZSBpbmRpY2F0b3IKICB0b2M6IG51bGwsIC8vIHRhYmxlIG9mIGNvbnRlbnRzCiAgb3V0bGluZTogbnVsbCwgLy8gb3V0bGluZSBlbGVtZW50IHdpdGggdGhlIGZvY3VzCiAgc2VsZWN0ZWRfdGV4dF9sZW46IDAsIC8vIGxlbmd0aCBvZiBkcmFnIHNlbGVjdGlvbiBvbiBkb2N1bWVudAogIHZpZXdfYWxsOiAwLCAgLy8gMSB0byB2aWV3IGFsbCBzbGlkZXMgKyBoYW5kb3V0cwogIHdhbnRfdG9vbGJhcjogdHJ1ZSwgIC8vIHVzZXIgcHJlZmVyZW5jZSB0byBzaG93L2hpZGUgdG9vbGJhcgogIG1vdXNlX2NsaWNrX2VuYWJsZWQ6IHRydWUsIC8vIGVuYWJsZXMgbGVmdCBjbGljayBmb3IgbmV4dCBzbGlkZQogIHNjcm9sbF9oYWNrOiAwLCAvLyBJRSB3b3JrIGFyb3VuZCBmb3IgcG9zaXRpb246IGZpeGVkCiAgZGlzYWJsZV9zbGlkZV9jbGljazogZmFsc2UsICAvLyB1c2VkIGJ5IGNsaWNrZWQgYW5jaG9ycwoKICBsYW5nOiAiZW4iLCAvLyB1cGRhdGVkIHRvIGxhbmd1YWdlIHNwZWNpZmllZCBieSBodG1sIGZpbGUKCiAgaGVscF9hbmNob3I6IG51bGwsIC8vIHVzZWQgZm9yIGtleWJvYXJkIGZvY3VzIGhhY2sgaW4gc2hvd1Rvb2xiYXIoKQogIGhlbHBfcGFnZTogImh0dHA6Ly93d3cudzMub3JnL1RhbGtzL1Rvb2xzL1NsaWR5Mi9oZWxwL2hlbHAuaHRtbCIsCiAgaGVscF90ZXh0OiAiTmF2aWdhdGUgd2l0aCBtb3VzZSBjbGljaywgc3BhY2UgYmFyLCBDdXJzb3IgTGVmdC9SaWdodCwgIiArCiAgICAgICAgICAgICAib3IgUGcgVXAgYW5kIFBnIERuLiBVc2UgUyBhbmQgQiB0byBjaGFuZ2UgZm9udCBzaXplLiIsCgogIHNpemVfaW5kZXg6IDAsCiAgc2l6ZV9hZGp1c3RtZW50OiAwLAogIHNpemVzOiAgbmV3IEFycmF5KCIxMHB0IiwgIjEycHQiLCAiMTRwdCIsICIxNnB0IiwgIjE4cHQiLCAiMjBwdCIsCiAgICAgICAgICAgICAgICAgICAgIjIycHQiLCAiMjRwdCIsICIyNnB0IiwgIjI4cHQiLCAiMzBwdCIsICIzMnB0IiksCgogIC8vIG5lZWRlZCBmb3IgZWZmaWNpZW50IHJlc2l6aW5nCiAgbGFzdF93aWR0aDogMCwKICBsYXN0X2hlaWdodDogMCwKCgogIC8vIE5lZWRlZCBmb3IgY3Jvc3MgYnJvd3NlciBzdXBwb3J0IGZvciByZWxhdGl2ZSB3aWR0aC9oZWlnaHQgb24KICAvLyBvYmplY3QgZWxlbWVudHMuIFRoZSB3b3JrIGFyb3VuZCBpcyB0byBzYXZlIHdpZHRoL2hlaWdodCBhdHRyaWJ1dGVzCiAgLy8gYW5kIHRoZW4gdG8gcmVjb21wdXRlIGFic29sdXRlIHdpZHRoL2hlaWdodCBkaW1lbnNpb25zIG9uIHJlc2l6aW5nCiAgIG9iamVjdHM6IFtdLAoKICAvLyBhdHRhY2ggaW5pdGlhbGlhdGlvbiBldmVudCBoYW5kbGVycwogIHNldF91cDogZnVuY3Rpb24gKCkgewogICAgdmFyIGluaXQgPSBmdW5jdGlvbigpIHsgdzNjX3NsaWR5LmluaXQoKTsgfTsKICAgIGlmICh0eXBlb2Ygd2luZG93LmFkZEV2ZW50TGlzdGVuZXIgIT0gInVuZGVmaW5lZCIpCiAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCJsb2FkIiwgaW5pdCwgZmFsc2UpOwogICAgZWxzZQogICAgICB3aW5kb3cuYXR0YWNoRXZlbnQoIm9ubG9hZCIsIGluaXQpOwogIH0sCgogIGhpZGVfc2xpZGVzOiBmdW5jdGlvbiAoKSB7CiAgICBpZiAoZG9jdW1lbnQuYm9keSAmJiAhdzNjX3NsaWR5LmluaXRpYWxpemVkKQogICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLnZpc2liaWxpdHkgPSAiaGlkZGVuIjsKICAgIGVsc2UKICAgICAgc2V0VGltZW91dCh3M2Nfc2xpZHkuaGlkZV9zbGlkZXMsIDUwKTsKICB9LAoKICAvLyBoYWNrIHRvIHBlcnN1YWRlIElFIHRvIGNvbXB1dGUgY29ycmVjdCBkb2N1bWVudCBoZWlnaHQKICAvLyBhcyBuZWVkZWQgZm9yIHNpbXVsYXRpbmcgZml4ZWQgcG9zaXRpb25pbmcgb2YgdG9vbGJhcgogIGllX2hhY2s6IGZ1bmN0aW9uICgpIHsKICAgIHdpbmRvdy5yZXNpemVCeSgwLC0xKTsKICAgIHdpbmRvdy5yZXNpemVCeSgwLCAxKTsKICB9LAoKICBpbml0OiBmdW5jdGlvbiAoKSB7CiAgICAvL2FsZXJ0KCJzbGlkeSBzdGFydGluZyB0ZXN0IDEwIik7CiAgICBkb2N1bWVudC5ib2R5LnN0eWxlLnZpc2liaWxpdHkgPSAidmlzaWJsZSI7CiAgICB0aGlzLmluaXRfbG9jYWxpemF0aW9uKCk7CiAgICB0aGlzLmFkZF90b29sYmFyKCk7CiAgICB0aGlzLndyYXBfaW1wbGljaXRfc2xpZGVzKCk7CiAgICB0aGlzLmNvbGxlY3Rfc2xpZGVzKCk7CiAgICB0aGlzLmNvbGxlY3Rfbm90ZXMoKTsKICAgIHRoaXMuY29sbGVjdF9iYWNrZ3JvdW5kcygpOwogICAgdGhpcy5vYmplY3RzID0gZG9jdW1lbnQuYm9keS5nZXRFbGVtZW50c0J5VGFnTmFtZSgib2JqZWN0Iik7CiAgICB0aGlzLnBhdGNoX2FuY2hvcnMoKTsKICAgIHRoaXMuc2xpZGVfbnVtYmVyID0gdGhpcy5maW5kX3NsaWRlX251bWJlcihsb2NhdGlvbi5ocmVmKTsKICAgIHdpbmRvdy5vZmZzY3JlZW5idWZmZXJpbmcgPSB0cnVlOwogICAgdGhpcy5zaXplX2FkanVzdG1lbnQgPSB0aGlzLmZpbmRfc2l6ZV9hZGp1c3QoKTsKICAgIHRoaXMudGltZV9sZWZ0ID0gdGhpcy5maW5kX2R1cmF0aW9uKCk7CiAgICB0aGlzLmhpZGVfaW1hZ2VfdG9vbGJhcigpOyAgLy8gc3VwcHJlc3MgSUUgaW1hZ2UgdG9vbGJhciBwb3B1cAogICAgdGhpcy5pbml0X291dGxpbmVyKCk7ICAvLyBhY3RpdmF0ZSBmb2xkL3VuZm9sZCBzdXBwb3J0CiAgICB0aGlzLnRpdGxlID0gZG9jdW1lbnQudGl0bGU7CiAgICB0aGlzLmtleWJvYXJkbGVzcyA9ICh0aGlzLmlwYWR8fHRoaXMuaXBob25lfHx0aGlzLmFuZHJvaWQpOwoKICAgIGlmICh0aGlzLmtleWJvYXJkbGVzcykKICAgIHsKICAgICAgdzNjX3NsaWR5LnJlbW92ZV9jbGFzcyh3M2Nfc2xpZHkudG9vbGJhciwgImhpZGRlbiIpCiAgICAgIHRoaXMud2FudF90b29sYmFyID0gMDsKICAgIH0KCiAgICAvLyB3b3JrIGFyb3VuZCBmb3Igb3BlcmEgYnVnCiAgICB0aGlzLmlzX3hodG1sID0gKGRvY3VtZW50LmJvZHkudGFnTmFtZSA9PSAiQk9EWSIgPyBmYWxzZSA6IHRydWUpOwoKICAgIGlmICh0aGlzLnNsaWRlcy5sZW5ndGggPiAwKQogICAgewogICAgICB2YXIgc2xpZGUgPSB0aGlzLnNsaWRlc1t0aGlzLnNsaWRlX251bWJlcl07CiAgIAogICAgICBpZiAodGhpcy5zbGlkZV9udW1iZXIgPiAwKQogICAgICB7CiAgICAgICAgdGhpcy5zZXRfdmlzaWJpbGl0eV9hbGxfaW5jcmVtZW50YWwoInZpc2libGUiKTsKICAgICAgICB0aGlzLmxhc3Rfc2hvd24gPSB0aGlzLnByZXZpb3VzX2luY3JlbWVudGFsX2l0ZW0obnVsbCk7CiAgICAgICAgdGhpcy5zZXRfZW9zX3N0YXR1cyh0cnVlKTsKICAgICAgfQogICAgICBlbHNlCiAgICAgIHsKICAgICAgICB0aGlzLmxhc3Rfc2hvd24gPSBudWxsOwogICAgICAgIHRoaXMuc2V0X3Zpc2liaWxpdHlfYWxsX2luY3JlbWVudGFsKCJoaWRkZW4iKTsKICAgICAgICB0aGlzLnNldF9lb3Nfc3RhdHVzKCF0aGlzLm5leHRfaW5jcmVtZW50YWxfaXRlbSh0aGlzLmxhc3Rfc2hvd24pKTsKICAgICAgfQoKICAgICAgdGhpcy5zZXRfbG9jYXRpb24oKTsKICAgICAgdGhpcy5hZGRfY2xhc3ModGhpcy5zbGlkZXNbMF0sICJmaXJzdC1zbGlkZSIpOwogICAgICB3M2Nfc2xpZHkuc2hvd19zbGlkZShzbGlkZSk7CiAgICB9CgogICAgdGhpcy50b2MgPSB0aGlzLnRhYmxlX29mX2NvbnRlbnRzKCk7CgogICAgdGhpcy5hZGRfaW5pdGlhbF9wcm9tcHQoKTsKCiAgICAvLyBiaW5kIGV2ZW50IGhhbmRsZXJzIHdpdGhvdXQgaW50ZXJmZXJpbmcgd2l0aCBjdXN0b20gcGFnZSBzY3JpcHRzCiAgICAvLyBUYXAgZXZlbnRzIGJlaGF2ZSB0b28gd2VpcmRseSB0byBzdXBwb3J0IGNsaWNrcyByZWxpYWJseSBvbgogICAgLy8gaVBob25lIGFuZCBpUGFkLCBzbyBleGNsdWRlIHRoZXNlIGZyb20gY2xpY2sgaGFuZGxlcgoKICAgIGlmICghdGhpcy5rZXlib2FyZGxlc3MpCiAgICB7CiAgICAgIHRoaXMuYWRkX2xpc3RlbmVyKGRvY3VtZW50LmJvZHksICJjbGljayIsIHRoaXMubW91c2VfYnV0dG9uX2NsaWNrKTsKICAgICAgdGhpcy5hZGRfbGlzdGVuZXIoZG9jdW1lbnQuYm9keSwgIm1vdXNlZG93biIsIHRoaXMubW91c2VfYnV0dG9uX2Rvd24pOwogICAgfQoKICAgIHRoaXMuYWRkX2xpc3RlbmVyKGRvY3VtZW50LCAia2V5ZG93biIsIHRoaXMua2V5X2Rvd24pOwogICAgdGhpcy5hZGRfbGlzdGVuZXIoZG9jdW1lbnQsICJrZXlwcmVzcyIsIHRoaXMua2V5X3ByZXNzKTsKICAgIHRoaXMuYWRkX2xpc3RlbmVyKHdpbmRvdywgInJlc2l6ZSIsIHRoaXMucmVzaXplZCk7CiAgICB0aGlzLmFkZF9saXN0ZW5lcih3aW5kb3csICJzY3JvbGwiLCB0aGlzLnNjcm9sbGVkKTsKICAgIHRoaXMuYWRkX2xpc3RlbmVyKHdpbmRvdywgInVubG9hZCIsIHRoaXMudW5sb2FkZWQpOwoKICAgIHRoaXMuYWRkX2xpc3RlbmVyKGRvY3VtZW50LCAiZ2VzdHVyZWNoYW5nZSIsIGZ1bmN0aW9uICgpCiAgICB7CiAgICAgIHJldHVybiBmYWxzZTsKICAgIH0pOwoKICAgIHRoaXMuYXR0YWNoX3RvdWNoX2hhbmRlcnModGhpcy5zbGlkZXMpOwoKICAgIC8vIHRoaXMgc2VlbXMgdG8gYmUgYSBkZWJ1Z2dpbmcgaGFjawogICAgLy9pZiAoIWRvY3VtZW50LmJvZHkub25jbGljaykKICAgIC8vICBkb2N1bWVudC5ib2R5Lm9uY2xpY2sgPSBmdW5jdGlvbiAoKSB7IH07CgogICAgdGhpcy5zaW5nbGVfc2xpZGVfdmlldygpOwoKICAgIC8vdGhpcy5zZXRfbG9jYXRpb24oKTsKCiAgICB0aGlzLnJlc2l6ZWQoKTsKCiAgICBpZiAodGhpcy5pZTcpCiAgICAgIHNldFRpbWVvdXQodzNjX3NsaWR5LmllX2hhY2ssIDEwMCk7CgogICAgdGhpcy5zaG93X3Rvb2xiYXIoKTsKCiAgICAvLyBmb3IgYmFjayBidXR0b24gZGV0ZWN0aW9uCiAgICBzZXRJbnRlcnZhbChmdW5jdGlvbiAoKSB7IHczY19zbGlkeS5jaGVja19sb2NhdGlvbigpOyB9LCAyMDApOwogICAgdzNjX3NsaWR5LmluaXRpYWxpemVkID0gdHJ1ZTsKICB9LAoKICAvLyBjcmVhdGUgZGl2IGVsZW1lbnQgd2l0aCBsaW5rcyB0byBlYWNoIHNsaWRlCiAgdGFibGVfb2ZfY29udGVudHM6IGZ1bmN0aW9uICgpIHsKICAgIHZhciB0b2MgPSB0aGlzLmNyZWF0ZV9lbGVtZW50KCJkaXYiKTsKICAgIHRoaXMuYWRkX2NsYXNzKHRvYywgInNsaWR5X3RvYyBoaWRkZW4iKTsKICAgIC8vdG9jLnNldEF0dHJpYnV0ZSgidGFiaW5kZXgiLCAiMCIpOwoKICAgIHZhciBoZWFkaW5nID0gdGhpcy5jcmVhdGVfZWxlbWVudCgiZGl2Iik7CiAgICB0aGlzLmFkZF9jbGFzcyhoZWFkaW5nLCAidG9jLWhlYWRpbmciKTsKICAgIGhlYWRpbmcuaW5uZXJIVE1MID0gdGhpcy5sb2NhbGl6ZSgiVGFibGUgb2YgQ29udGVudHMiKTsKCiAgICB0b2MuYXBwZW5kQ2hpbGQoaGVhZGluZyk7CiAgICB2YXIgcHJldmlvdXMgPSBudWxsOwoKICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5zbGlkZXMubGVuZ3RoOyArK2kpCiAgICB7CiAgICAgIHZhciB0aXRsZSA9IHRoaXMuaGFzX2NsYXNzKHRoaXMuc2xpZGVzW2ldLCAidGl0bGUiKTsKICAgICAgdmFyIG51bSA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKChpICsgMSkgKyAiLiAiKTsKCiAgICAgIHRvYy5hcHBlbmRDaGlsZChudW0pOwoKICAgICAgdmFyIGEgPSB0aGlzLmNyZWF0ZV9lbGVtZW50KCJhIik7CiAgICAgIGEuc2V0QXR0cmlidXRlKCJocmVmIiwgIiMoIiArIChpKzEpICsgIikiKTsKCiAgICAgIGlmICh0aXRsZSkKICAgICAgICB0aGlzLmFkZF9jbGFzcyhhLCAidGl0bGVzbGlkZSIpOwoKICAgICAgdmFyIG5hbWUgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSh0aGlzLnNsaWRlX25hbWUoaSkpOwogICAgICBhLmFwcGVuZENoaWxkKG5hbWUpOwogICAgICBhLm9uY2xpY2sgPSB3M2Nfc2xpZHkudG9jX2NsaWNrOwogICAgICBhLm9ua2V5ZG93biA9IHczY19zbGlkeS50b2Nfa2V5X2Rvd247CiAgICAgIGEucHJldmlvdXMgPSBwcmV2aW91czsKCiAgICAgIGlmIChwcmV2aW91cykKICAgICAgICBwcmV2aW91cy5uZXh0ID0gYTsKCiAgICAgIHRvYy5hcHBlbmRDaGlsZChhKTsKCiAgICAgIGlmIChpID09IDApCiAgICAgICAgdG9jLmZpcnN0ID0gYTsKCiAgICAgIGlmIChpIDwgdGhpcy5zbGlkZXMubGVuZ3RoIC0gMSkKICAgICAgewogICAgICAgIHZhciBiciA9IHRoaXMuY3JlYXRlX2VsZW1lbnQoImJyIik7CiAgICAgICAgdG9jLmFwcGVuZENoaWxkKGJyKTsKICAgICAgfQoKICAgICAgcHJldmlvdXMgPSBhOwogICAgfQoKICAgIHRvYy5mb2N1cyA9IGZ1bmN0aW9uICgpIHsKICAgICAgaWYgKHRoaXMuZmlyc3QpCiAgICAgICAgdGhpcy5maXJzdC5mb2N1cygpOwogICAgfQoKICAgIHRvYy5vbm1vdXNldXAgPSB3M2Nfc2xpZHkubW91c2VfYnV0dG9uX3VwOwoKICAgIHRvYy5vbmNsaWNrID0gZnVuY3Rpb24gKGUpIHsKICAgICAgZXx8KGU9d2luZG93LmV2ZW50KTsKCiAgICAgIGlmICh3M2Nfc2xpZHkuc2VsZWN0ZWRfdGV4dF9sZW4gPD0gMCkKICAgICAgICAgdzNjX3NsaWR5LmhpZGVfdGFibGVfb2ZfY29udGVudHModHJ1ZSk7CgogICAgICB3M2Nfc2xpZHkuc3RvcF9wcm9wYWdhdGlvbihlKTsKICAgIAogICAgICBpZiAoZS5jYW5jZWwgIT0gdW5kZWZpbmVkKQogICAgICAgIGUuY2FuY2VsID0gdHJ1ZTsKICAgICAgCiAgICAgIGlmIChlLnJldHVyblZhbHVlICE9IHVuZGVmaW5lZCkKICAgICAgICBlLnJldHVyblZhbHVlID0gZmFsc2U7CiAgICAgIAogICAgICByZXR1cm4gZmFsc2U7CiAgICB9OwoKICAgIGRvY3VtZW50LmJvZHkuaW5zZXJ0QmVmb3JlKHRvYywgZG9jdW1lbnQuYm9keS5maXJzdENoaWxkKTsKICAgIHJldHVybiB0b2M7CiAgfSwKCiAgaXNfc2hvd25fdG9jOiBmdW5jdGlvbiAoKSB7CiAgICByZXR1cm4gIXczY19zbGlkeS5oYXNfY2xhc3ModzNjX3NsaWR5LnRvYywgImhpZGRlbiIpOwogIH0sCgogIHNob3dfdGFibGVfb2ZfY29udGVudHM6IGZ1bmN0aW9uICgpIHsKICAgIHczY19zbGlkeS5yZW1vdmVfY2xhc3ModzNjX3NsaWR5LnRvYywgImhpZGRlbiIpOwogICAgdmFyIHRvYyA9IHczY19zbGlkeS50b2M7CiAgICB0b2MuZm9jdXMoKTsKCiAgICBpZiAodzNjX3NsaWR5LmllNyAmJiB3M2Nfc2xpZHkuc2xpZGVfbnVtYmVyID09IDApCiAgICAgIHNldFRpbWVvdXQodzNjX3NsaWR5LmllX2hhY2ssIDEwMCk7CiAgfSwKCiAgaGlkZV90YWJsZV9vZl9jb250ZW50czogZnVuY3Rpb24gKGZvY3VzKSB7CiAgICB3M2Nfc2xpZHkuYWRkX2NsYXNzKHczY19zbGlkeS50b2MsICJoaWRkZW4iKTsKCiAgICBpZiAoZm9jdXMgJiYgIXczY19zbGlkeS5vcGVyYSAmJgogICAgICAgICF3M2Nfc2xpZHkuaGFzX2NsYXNzKHczY19zbGlkeS50b2MsICJoaWRkZW4iKSkKICAgICAgdzNjX3NsaWR5LnNldF9mb2N1cygpOwogIH0sCgogIHRvZ2dsZV90YWJsZV9vZl9jb250ZW50czogZnVuY3Rpb24gKCkgewogICAgaWYgKHczY19zbGlkeS5pc19zaG93bl90b2MoKSkKICAgICAgdzNjX3NsaWR5LmhpZGVfdGFibGVfb2ZfY29udGVudHModHJ1ZSk7CiAgICBlbHNlCiAgICAgIHczY19zbGlkeS5zaG93X3RhYmxlX29mX2NvbnRlbnRzKCk7CiAgfSwKCiAgLy8gY2FsbGVkIG9uIGNsaWNraW5nIHRvYyBlbnRyeQogIHRvY19jbGljazogZnVuY3Rpb24gKGUpIHsKICAgIGlmICghZSkKICAgICAgZSA9IHdpbmRvdy5ldmVudDsKCiAgICB2YXIgdGFyZ2V0ID0gdzNjX3NsaWR5LmdldF90YXJnZXQoZSk7CgogICAgaWYgKHRhcmdldCAmJiB0YXJnZXQubm9kZVR5cGUgPT0gMSkKICAgIHsKICAgICAgdmFyIHVyaSA9IHRhcmdldC5nZXRBdHRyaWJ1dGUoImhyZWYiKTsKCiAgICAgIGlmICh1cmkpCiAgICAgIHsKICAgICAgICAvL2FsZXJ0KCJnb2luZyB0byAiICsgdXJpKTsKICAgICAgICB2YXIgc2xpZGUgPSB3M2Nfc2xpZHkuc2xpZGVzW3czY19zbGlkeS5zbGlkZV9udW1iZXJdOwogICAgICAgIHczY19zbGlkeS5oaWRlX3NsaWRlKHNsaWRlKTsKICAgICAgICB3M2Nfc2xpZHkuc2xpZGVfbnVtYmVyID0gdzNjX3NsaWR5LmZpbmRfc2xpZGVfbnVtYmVyKHVyaSk7CiAgICAgICAgc2xpZGUgPSB3M2Nfc2xpZHkuc2xpZGVzW3czY19zbGlkeS5zbGlkZV9udW1iZXJdOwogICAgICAgIHczY19zbGlkeS5sYXN0X3Nob3duID0gbnVsbDsKICAgICAgICB3M2Nfc2xpZHkuc2V0X2xvY2F0aW9uKCk7CiAgICAgICAgdzNjX3NsaWR5LnNldF92aXNpYmlsaXR5X2FsbF9pbmNyZW1lbnRhbCgiaGlkZGVuIik7CiAgICAgICAgdzNjX3NsaWR5LnNldF9lb3Nfc3RhdHVzKCF3M2Nfc2xpZHkubmV4dF9pbmNyZW1lbnRhbF9pdGVtKHczY19zbGlkeS5sYXN0X3Nob3duKSk7CiAgICAgICAgdzNjX3NsaWR5LnNob3dfc2xpZGUoc2xpZGUpOwogICAgICAgIC8vdGFyZ2V0LmZvY3VzKCk7CgogICAgICAgIHRyeQogICAgICAgIHsKICAgICAgICAgIGlmICghdzNjX3NsaWR5Lm9wZXJhKQogICAgICAgICAgICB3M2Nfc2xpZHkuc2V0X2ZvY3VzKCk7CiAgICAgICAgfQogICAgICAgIGNhdGNoIChlKQogICAgICAgIHsKICAgICAgICB9CiAgICAgIH0KICAgIH0KCiAgICB3M2Nfc2xpZHkuaGlkZV90YWJsZV9vZl9jb250ZW50cyh0cnVlKTsKICAgIGlmICh3M2Nfc2xpZHkuaWU3KSB3M2Nfc2xpZHkuaWVfaGFjaygpOwogICAgdzNjX3NsaWR5LnN0b3BfcHJvcGFnYXRpb24oZSk7CiAgICByZXR1cm4gdzNjX3NsaWR5LmNhbmNlbChlKTsKICB9LAoKICAvLyBjYWxsZWQgb25rZXlkb3duIGZvciB0b2MgZW50cnkKICB0b2Nfa2V5X2Rvd246IGZ1bmN0aW9uIChldmVudCkgewogICAgdmFyIGtleTsKCiAgICBpZiAoIWV2ZW50KQogICAgICB2YXIgZXZlbnQgPSB3aW5kb3cuZXZlbnQ7CgogICAgLy8ga2x1ZGdlIGFyb3VuZCBOUy9JRSBkaWZmZXJlbmNlcyAKICAgIGlmICh3aW5kb3cuZXZlbnQpCiAgICAgIGtleSA9IHdpbmRvdy5ldmVudC5rZXlDb2RlOwogICAgZWxzZSBpZiAoZXZlbnQud2hpY2gpCiAgICAgIGtleSA9IGV2ZW50LndoaWNoOwogICAgZWxzZQogICAgICByZXR1cm4gdHJ1ZTsgLy8gWWlrZXMhIHVua25vd24gYnJvd3NlcgoKICAgIC8vIGlnbm9yZSBldmVudCBpZiBrZXkgdmFsdWUgaXMgemVybwogICAgLy8gYXMgZm9yIGFsdCBvbiBPcGVyYSBhbmQgS29ucXVlcm9yCiAgICBpZiAoIWtleSkKICAgICAgcmV0dXJuIHRydWU7CgogICAgLy8gY2hlY2sgZm9yIGNvbmN1cnJlbnQgY29udHJvbC9jb21tYW5kL2FsdCBrZXkKICAgIC8vIGJ1dCBhcmUgdGhlc2Ugb25seSBwcmVzZW50IG9uIG1vdXNlIGV2ZW50cz8KCiAgICBpZiAoZXZlbnQuY3RybEtleSB8fCBldmVudC5hbHRLZXkpCiAgICAgIHJldHVybiB0cnVlOwoKICAgIGlmIChrZXkgPT0gMTMpCiAgICB7CiAgICAgIHZhciB1cmkgPSB0aGlzLmdldEF0dHJpYnV0ZSgiaHJlZiIpOwoKICAgICAgaWYgKHVyaSkKICAgICAgewogICAgICAgIC8vYWxlcnQoImdvaW5nIHRvICIgKyB1cmkpOwogICAgICAgdmFyIHNsaWRlID0gdzNjX3NsaWR5LnNsaWRlc1t3M2Nfc2xpZHkuc2xpZGVfbnVtYmVyXTsKICAgICAgICB3M2Nfc2xpZHkuaGlkZV9zbGlkZShzbGlkZSk7CiAgICAgICAgdzNjX3NsaWR5LnNsaWRlX251bWJlciA9IHczY19zbGlkeS5maW5kX3NsaWRlX251bWJlcih1cmkpOwogICAgICAgIHNsaWRlID0gdzNjX3NsaWR5LnNsaWRlc1t3M2Nfc2xpZHkuc2xpZGVfbnVtYmVyXTsKICAgICAgICB3M2Nfc2xpZHkubGFzdF9zaG93biA9IG51bGw7CiAgICAgICAgdzNjX3NsaWR5LnNldF9sb2NhdGlvbigpOwogICAgICAgIHczY19zbGlkeS5zZXRfdmlzaWJpbGl0eV9hbGxfaW5jcmVtZW50YWwoImhpZGRlbiIpOwogICAgICAgIHczY19zbGlkeS5zZXRfZW9zX3N0YXR1cyghdzNjX3NsaWR5Lm5leHRfaW5jcmVtZW50YWxfaXRlbSh3M2Nfc2xpZHkubGFzdF9zaG93bikpOwogICAgICAgIHczY19zbGlkeS5zaG93X3NsaWRlKHNsaWRlKTsKICAgICAgICAvL3RhcmdldC5mb2N1cygpOwoKICAgICAgICB0cnkKICAgICAgICB7CiAgICAgICAgICBpZiAoIXczY19zbGlkeS5vcGVyYSkKICAgICAgICAgICAgdzNjX3NsaWR5LnNldF9mb2N1cygpOwogICAgICAgIH0KICAgICAgICBjYXRjaCAoZSkKICAgICAgICB7CiAgICAgICAgfQogICAgICB9CgogICAgICB3M2Nfc2xpZHkuaGlkZV90YWJsZV9vZl9jb250ZW50cyh0cnVlKTsKCiAgICAgIGlmIChzZWxmLmllNykKICAgICAgIHczY19zbGlkeS5pZV9oYWNrKCk7CgogICAgICByZXR1cm4gdzNjX3NsaWR5LmNhbmNlbChldmVudCk7CiAgICB9CgogICAgaWYgKGtleSA9PSA0MCAmJiB0aGlzLm5leHQpCiAgICB7CiAgICAgIHRoaXMubmV4dC5mb2N1cygpOwogICAgICByZXR1cm4gdzNjX3NsaWR5LmNhbmNlbChldmVudCk7CiAgICB9CgogICAgaWYgKGtleSA9PSAzOCAmJiB0aGlzLnByZXZpb3VzKQogICAgewogICAgICB0aGlzLnByZXZpb3VzLmZvY3VzKCk7CiAgICAgIHJldHVybiB3M2Nfc2xpZHkuY2FuY2VsKGV2ZW50KTsKICAgIH0KCiAgICByZXR1cm4gdHJ1ZTsKICB9LAoKICB0b3VjaHN0YXJ0OiBmdW5jdGlvbiAoZSkKICB7CiAgICAvLyBhIGRvdWJsZSB0b3VjaCBvZnRlbiBzdGFydHMgd2l0aCBhCiAgICAvLyBzaW5nbGUgdG91Y2ggZHVlIHRvIGZpbmdlcnMgdG91Y2hpbmcKICAgIC8vIGRvd24gYXQgc2xpZ2h0bHkgZGlmZmVyZW50IHRpbWVzCiAgICAvLyB0aHVzIGF2b2lkIGNhbGxpbmcgcHJldmVudERlZmF1bHQgaGVyZQogICAgdGhpcy5wcmV2X3RhcCA9IHRoaXMubGFzdF90YXA7CiAgICB0aGlzLmxhc3RfdGFwID0gKG5ldyBEYXRlKS5nZXRUaW1lKCk7CgogICAgdmFyIHRhcF9kZWxheSA9IHRoaXMubGFzdF90YXAgLSB0aGlzLnByZXZfdGFwOwoKICAgIGlmICh0YXBfZGVsYXkgPD0gMjAwKQogICAgewogICAgICAvLyBkb3VibGUgdGFwCiAgICB9CgogICAgdmFyIHRvdWNoID0gZS50b3VjaGVzWzBdOwoKICAgIHRoaXMucGFnZVggPSB0b3VjaC5wYWdlWDsKICAgIHRoaXMucGFnZVkgPSB0b3VjaC5wYWdlWTsKICAgIHRoaXMuc2NyZWVuWCA9IHRvdWNoLnNjcmVlblg7CiAgICB0aGlzLnNjcmVlblkgPSB0b3VjaC5zY3JlZW5ZOwogICAgdGhpcy5jbGllbnRYID0gdG91Y2guY2xpZW50WDsKICAgIHRoaXMuY2xpZW50WSA9IHRvdWNoLmNsaWVudFk7CgogICAgdGhpcy5kZWx0YV94ID0gdGhpcy5kZWx0YV95ID0gMDsKICB9LAoKICB0b3VjaG1vdmU6IGZ1bmN0aW9uIChlKQogIHsKICAgIC8vIG92ZXJyaWRlIG5hdGl2ZSBnZXN0dXJlcyBmb3Igc2luZ2xlIHRvdWNoCiAgICBpZiAoZS50b3VjaGVzLmxlbmd0aCA+IDEpCiAgICAgIHJldHVybjsKCiAgICBlLnByZXZlbnREZWZhdWx0KCk7CiAgICB2YXIgdG91Y2ggPSBlLnRvdWNoZXNbMF07CiAgICB0aGlzLmRlbHRhX3ggPSB0b3VjaC5wYWdlWCAtIHRoaXMucGFnZVg7CiAgICB0aGlzLmRlbHRhX3kgPSB0b3VjaC5wYWdlWSAtIHRoaXMucGFnZVk7CiAgfSwKCiAgdG91Y2hlbmQ6IGZ1bmN0aW9uIChlKQogIHsKICAgIC8vIGRlZmF1bHQgYmVoYXZpb3IgZm9yIG11bHRpLXRvdWNoCiAgICBpZiAoZS50b3VjaGVzLmxlbmd0aCA+IDEpCiAgICAgIHJldHVybjsKCiAgICB2YXIgZGVsYXkgPSAobmV3IERhdGUpLmdldFRpbWUoKSAtIHRoaXMubGFzdF90YXA7CiAgICB2YXIgZHggPSB0aGlzLmRlbHRhX3g7CiAgICB2YXIgZHkgPSB0aGlzLmRlbHRhX3k7CiAgICB2YXIgYWJzX2R4ID0gTWF0aC5hYnMoZHgpOwogICAgdmFyIGFic19keSA9IE1hdGguYWJzKGR5KTsKCiAgICBpZiAoZGVsYXkgPCA1MDAgJiYgKGFic19keCA+IDEwMCB8fCBhYnNfZHkgPiAxMDApKQogICAgewogICAgICBpZiAoYWJzX2R4ID4gMC41ICogYWJzX2R5KQogICAgICB7CiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOwoKICAgICAgICBpZiAoZHggPCAwKQogICAgICAgICAgdzNjX3NsaWR5Lm5leHRfc2xpZGUodHJ1ZSk7CiAgICAgICAgZWxzZQogICAgICAgICAgdzNjX3NsaWR5LnByZXZpb3VzX3NsaWRlKHRydWUpOwogICAgICB9CiAgICAgIGVsc2UgaWYgKGFic19keSA+IDIgKiBhYnNfZHgpCiAgICAgIHsKICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7CiAgICAgICAgdzNjX3NsaWR5LnRvZ2dsZV90YWJsZV9vZl9jb250ZW50cygpOwogICAgICB9CiAgICB9CiAgfSwKCiAgLy8gIyMjIE9CU09MRVRFICMjIwogIGJlZm9yZV9wcmludDogZnVuY3Rpb24gKCkgewogICAgdGhpcy5zaG93X2FsbF9zbGlkZXMoKTsKICAgIHRoaXMuaGlkZV90b29sYmFyKCk7CiAgICBhbGVydCgiYmVmb3JlIHByaW50Iik7CiAgfSwKCiAgLy8gIyMjIE9CU09MRVRFICMjIwogIGFmdGVyX3ByaW50OiBmdW5jdGlvbiAoKSB7CiAgICBpZiAoIXRoaXMudmlld19hbGwpCiAgICB7CiAgICAgIHRoaXMuc2luZ2xlX3NsaWRlX3ZpZXcoKTsKICAgICAgdGhpcy5zaG93X3Rvb2xiYXIoKTsKICAgIH0KICAgIGFsZXJ0KCJhZnRlciBwcmludCIpOwogIH0sCgogIC8vICMjIyBPQlNPTEVURSAjIyMKICBwcmludF9zbGlkZXM6IGZ1bmN0aW9uICgpIHsKICAgIHRoaXMuYmVmb3JlX3ByaW50KCk7CiAgICB3aW5kb3cucHJpbnQoKTsKICAgIHRoaXMuYWZ0ZXJfcHJpbnQoKTsKICB9LAoKICAvLyAjIyMgT0JTT0xFVEUgPz8gIyMjCiAgdG9nZ2xlX3ZpZXc6IGZ1bmN0aW9uICgpIHsKICAgIGlmICh0aGlzLnZpZXdfYWxsKQogICAgewogICAgICB0aGlzLnNpbmdsZV9zbGlkZV92aWV3KCk7CiAgICAgIHRoaXMuc2hvd190b29sYmFyKCk7CiAgICAgIHRoaXMudmlld19hbGwgPSAwOwogICAgfQogICAgZWxzZQogICAgewogICAgICB0aGlzLnNob3dfYWxsX3NsaWRlcygpOwogICAgICB0aGlzLmhpZGVfdG9vbGJhcigpOwogICAgICB0aGlzLnZpZXdfYWxsID0gMTsKICAgIH0KICB9LAoKICAvLyBwcmVwYXJlIGZvciBwcmludGluZyAgIyMjIE9CU09MRVRFICMjIwogIHNob3dfYWxsX3NsaWRlczogZnVuY3Rpb24gKCkgewogICAgdGhpcy5yZW1vdmVfY2xhc3MoZG9jdW1lbnQuYm9keSwgInNpbmdsZV9zbGlkZSIpOwogICAgdGhpcy5zZXRfdmlzaWJpbGl0eV9hbGxfaW5jcmVtZW50YWwoInZpc2libGUiKTsKICB9LAoKICAvLyByZXN0b3JlIGFmdGVyIHByaW50aW5nICAjIyMgT0JTT0xFVEUgIyMjCiAgc2luZ2xlX3NsaWRlX3ZpZXc6IGZ1bmN0aW9uICgpIHsKICAgIHRoaXMuYWRkX2NsYXNzKGRvY3VtZW50LmJvZHksICJzaW5nbGVfc2xpZGUiKTsKICAgIHRoaXMuc2V0X3Zpc2liaWxpdHlfYWxsX2luY3JlbWVudGFsKCJ2aXNpYmxlIik7CiAgICB0aGlzLmxhc3Rfc2hvd24gPSB0aGlzLnByZXZpb3VzX2luY3JlbWVudGFsX2l0ZW0obnVsbCk7CiAgfSwKCiAgLy8gc3VwcHJlc3MgSUUncyBpbWFnZSB0b29sYmFyIHBvcCB1cAogIGhpZGVfaW1hZ2VfdG9vbGJhcjogZnVuY3Rpb24gKCkgewogICAgaWYgKCF0aGlzLm5zX3BvcykKICAgIHsKICAgICAgdmFyIGltYWdlcyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCJJTUciKTsKCiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaW1hZ2VzLmxlbmd0aDsgKytpKQogICAgICAgIGltYWdlc1tpXS5zZXRBdHRyaWJ1dGUoImdhbGxlcnlpbWciLCAibm8iKTsKICAgIH0KICB9LAoKICB1bmxvYWRlZDogZnVuY3Rpb24gKGUpIHsKICAgIC8vYWxlcnQoInVubG9hZGVkIik7CiAgfSwKCiAgLy8gU2FmYXJpIGFuZCBLb25xdWVyb3IgZG9uJ3QgeWV0IHN1cHBvcnQgZ2V0Q29tcHV0ZWRTdHlsZSgpCiAgLy8gYW5kIHRoZXkgYWx3YXlzIHJlbG9hZCBwYWdlIHdoZW4gbG9jYXRpb24uaHJlZiBpcyB1cGRhdGVkCiAgaXNfS0hUTUw6IGZ1bmN0aW9uICgpIHsKICAgIHZhciBhZ2VudCA9IG5hdmlnYXRvci51c2VyQWdlbnQ7CiAgICByZXR1cm4gKGFnZW50LmluZGV4T2YoIktIVE1MIikgPj0gMCA/IHRydWUgOiBmYWxzZSk7CiAgfSwKCiAgLy8gZmluZCBzbGlkZSBuYW1lIGZyb20gZmlyc3QgaDEgZWxlbWVudAogIC8vIGRlZmF1bHQgdG8gZG9jdW1lbnQgdGl0bGUgKyBzbGlkZSBudW1iZXIKICBzbGlkZV9uYW1lOiBmdW5jdGlvbiAoaW5kZXgpIHsKICAgIHZhciBuYW1lID0gbnVsbDsKICAgIHZhciBzbGlkZSA9IHRoaXMuc2xpZGVzW2luZGV4XTsKCiAgICB2YXIgaGVhZGluZyA9IHRoaXMuZmluZF9oZWFkaW5nKHNsaWRlKTsKCiAgICBpZiAoaGVhZGluZykKICAgICAgbmFtZSA9IHRoaXMuZXh0cmFjdF90ZXh0KGhlYWRpbmcpOwoKICAgIGlmICghbmFtZSkKICAgICAgbmFtZSA9IHRoaXMudGl0bGUgKyAiKCIgKyAoaW5kZXggKyAxKSArICIpIjsKCiAgICBuYW1lLnJlcGxhY2UoL1wmL2csICImYW1wOyIpOwogICAgbmFtZS5yZXBsYWNlKC9cPC9nLCAiJmx0OyIpOwogICAgbmFtZS5yZXBsYWNlKC9cPi9nLCAiJmd0OyIpOwoKICAgIHJldHVybiBuYW1lOwogIH0sCgogIC8vIGZpbmQgZmlyc3QgaDEgZWxlbWVudCBpbiBET00gdHJlZQogIGZpbmRfaGVhZGluZzogZnVuY3Rpb24gKG5vZGUpIHsKICAgIGlmICghbm9kZSB8fCBub2RlLm5vZGVUeXBlICE9IDEpCiAgICAgIHJldHVybiBudWxsOwoKICAgIGlmIChub2RlLm5vZGVOYW1lID09ICJIMSIgfHwgbm9kZS5ub2RlTmFtZSA9PSAiaDEiKQogICAgICByZXR1cm4gbm9kZTsKCiAgICB2YXIgY2hpbGQgPSBub2RlLmZpcnN0Q2hpbGQ7CgogICAgd2hpbGUgKGNoaWxkKQogICAgewogICAgICBub2RlID0gdGhpcy5maW5kX2hlYWRpbmcoY2hpbGQpOwoKICAgICAgaWYgKG5vZGUpCiAgICAgICAgcmV0dXJuIG5vZGU7CgogICAgICBjaGlsZCA9IGNoaWxkLm5leHRTaWJsaW5nOwogICAgfQoKICAgIHJldHVybiBudWxsOwogIH0sCgogIC8vIHJlY3Vyc2l2ZWx5IGV4dHJhY3QgdGV4dCBmcm9tIERPTSB0cmVlCiAgZXh0cmFjdF90ZXh0OiBmdW5jdGlvbiAobm9kZSkgewogICAgaWYgKCFub2RlKQogICAgICByZXR1cm4gIiI7CgogICAgLy8gdGV4dCBub2RlcwogICAgaWYgKG5vZGUubm9kZVR5cGUgPT0gMykKICAgICAgcmV0dXJuIG5vZGUubm9kZVZhbHVlOwoKICAgIC8vIGVsZW1lbnRzCiAgICBpZiAobm9kZS5ub2RlVHlwZSA9PSAxKQogICAgewogICAgICBub2RlID0gbm9kZS5maXJzdENoaWxkOwogICAgICB2YXIgdGV4dCA9ICIiOwoKICAgICAgd2hpbGUgKG5vZGUpCiAgICAgIHsKICAgICAgICB0ZXh0ID0gdGV4dCArIHRoaXMuZXh0cmFjdF90ZXh0KG5vZGUpOwogICAgICAgIG5vZGUgPSBub2RlLm5leHRTaWJsaW5nOwogICAgICB9CgogICAgICByZXR1cm4gdGV4dDsKICAgIH0KCiAgICByZXR1cm4gIiI7CiAgfSwKCiAgLy8gZmluZCBjb3B5cmlnaHQgdGV4dCBmcm9tIG1ldGEgZWxlbWVudAogIGZpbmRfY29weXJpZ2h0OiBmdW5jdGlvbiAoKSB7CiAgICB2YXIgbmFtZSwgY29udGVudDsKICAgIHZhciBtZXRhID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoIm1ldGEiKTsKCiAgICBmb3IgKHZhciBpID0gMDsgaSA8IG1ldGEubGVuZ3RoOyArK2kpCiAgICB7CiAgICAgIG5hbWUgPSBtZXRhW2ldLmdldEF0dHJpYnV0ZSgibmFtZSIpOwogICAgICBjb250ZW50ID0gbWV0YVtpXS5nZXRBdHRyaWJ1dGUoImNvbnRlbnQiKTsKCiAgICAgIGlmIChuYW1lID09ICJjb3B5cmlnaHQiKQogICAgICAgIHJldHVybiBjb250ZW50OwogICAgfQoKICAgIHJldHVybiBudWxsOwogIH0sCgogIGZpbmRfc2l6ZV9hZGp1c3Q6IGZ1bmN0aW9uICgpIHsKICAgIHZhciBuYW1lLCBjb250ZW50LCBvZmZzZXQ7CiAgICB2YXIgbWV0YSA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCJtZXRhIik7CgogICAgZm9yICh2YXIgaSA9IDA7IGkgPCBtZXRhLmxlbmd0aDsgKytpKQogICAgewogICAgICBuYW1lID0gbWV0YVtpXS5nZXRBdHRyaWJ1dGUoIm5hbWUiKTsKICAgICAgY29udGVudCA9IG1ldGFbaV0uZ2V0QXR0cmlidXRlKCJjb250ZW50Iik7CgogICAgICBpZiAobmFtZSA9PSAiZm9udC1zaXplLWFkanVzdG1lbnQiKQogICAgICAgIHJldHVybiAxICogY29udGVudDsKICAgIH0KCiAgICByZXR1cm4gMTsKICB9LAoKICAvLyA8bWV0YSBuYW1lPSJkdXJhdGlvbiIgY29udGVudD0iMjAiIC8+ICBmb3IgMjAgbWludXRlcwogIGZpbmRfZHVyYXRpb246IGZ1bmN0aW9uICgpIHsKICAgIHZhciBuYW1lLCBjb250ZW50LCBvZmZzZXQ7CiAgICB2YXIgbWV0YSA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCJtZXRhIik7CgogICAgZm9yICh2YXIgaSA9IDA7IGkgPCBtZXRhLmxlbmd0aDsgKytpKQogICAgewogICAgICBuYW1lID0gbWV0YVtpXS5nZXRBdHRyaWJ1dGUoIm5hbWUiKTsKICAgICAgY29udGVudCA9IG1ldGFbaV0uZ2V0QXR0cmlidXRlKCJjb250ZW50Iik7CgogICAgICBpZiAobmFtZSA9PSAiZHVyYXRpb24iKQogICAgICAgIHJldHVybiA2MDAwMCAqIGNvbnRlbnQ7CiAgICB9CgogICAgcmV0dXJuIG51bGw7CiAgfSwKCiAgcmVwbGFjZV9ieV9ub25fYnJlYWtpbmdfc3BhY2U6IGZ1bmN0aW9uIChzdHIpIHsKICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc3RyLmxlbmd0aDsgKytpKQogICAgICBzdHJbaV0gPSAxNjA7CiAgfSwKCiAgLy8gIyMjIENIRUNLIE1FICMjIyBpcyB1c2Ugb2YgImxpIiBva2F5IGZvciB0ZXh0L2h0bWw/CiAgLy8gZm9yIFhIVE1MIGRvIHdlIGFsc28gbmVlZCB0byBzcGVjaWZ5IG5hbWVzcGFjZT8KICBpbml0X291dGxpbmVyOiBmdW5jdGlvbiAoKSB7CiAgICB2YXIgaXRlbXMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgibGkiKTsKCiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGl0ZW1zLmxlbmd0aDsgKytpKQogICAgewogICAgICB2YXIgdGFyZ2V0ID0gaXRlbXNbaV07CgogICAgICBpZiAoIXRoaXMuaGFzX2NsYXNzKHRhcmdldC5wYXJlbnROb2RlLCAib3V0bGluZSIpKQogICAgICAgIGNvbnRpbnVlOwoKICAgICAgdGFyZ2V0Lm9uY2xpY2sgPSB0aGlzLm91dGxpbmVfY2xpY2s7Ci8qICMjIyBtb3JlIHdvcmsgbmVlZGVkIGZvciBJRTYKICAgICAgaWYgKCF0aGlzLm5zX3BvcykKICAgICAgewogICAgICAgIHRhcmdldC5vbm1vdXNlb3ZlciA9IHRoaXMuaG92ZXJfb3V0bGluZTsKICAgICAgICB0YXJnZXQub25tb3VzZW91dCA9IHRoaXMudW5ob3Zlcl9vdXRsaW5lOwogICAgICB9CiovCiAgICAgIGlmICh0aGlzLmZvbGRhYmxlKHRhcmdldCkpCiAgICAgIHsKICAgICAgICB0YXJnZXQuZm9sZGFibGUgPSB0cnVlOwogICAgICAgIHRhcmdldC5vbmZvY3VzID0gZnVuY3Rpb24gKCkge3czY19zbGlkeS5vdXRsaW5lID0gdGhpczt9OwogICAgICAgIHRhcmdldC5vbmJsdXIgPSBmdW5jdGlvbiAoKSB7dzNjX3NsaWR5Lm91dGxpbmUgPSBudWxsO307CgogICAgICAgIGlmICghdGFyZ2V0LmdldEF0dHJpYnV0ZSgidGFiaW5kZXgiKSkKICAgICAgICAgIHRhcmdldC5zZXRBdHRyaWJ1dGUoInRhYmluZGV4IiwgIjAiKTsKCiAgICAgICAgaWYgKHRoaXMuaGFzX2NsYXNzKHRhcmdldCwgImV4cGFuZCIpKQogICAgICAgICAgdGhpcy51bmZvbGQodGFyZ2V0KTsKICAgICAgICBlbHNlCiAgICAgICAgICB0aGlzLmZvbGQodGFyZ2V0KTsKICAgICAgfQogICAgICBlbHNlCiAgICAgIHsKICAgICAgICB0aGlzLmFkZF9jbGFzcyh0YXJnZXQsICJub2ZvbGQiKTsKICAgICAgICB0YXJnZXQudmlzaWJsZSA9IHRydWU7CiAgICAgICAgdGFyZ2V0LmZvbGRhYmxlID0gZmFsc2U7CiAgICAgIH0KICAgIH0KICB9LAoKICBmb2xkYWJsZTogZnVuY3Rpb24gKGl0ZW0pIHsKICAgIGlmICghaXRlbSB8fCBpdGVtLm5vZGVUeXBlICE9IDEpCiAgICAgIHJldHVybiBmYWxzZTsKCiAgICB2YXIgbm9kZSA9IGl0ZW0uZmlyc3RDaGlsZDsKCiAgICB3aGlsZSAobm9kZSkKICAgIHsKICAgICAgaWYgKG5vZGUubm9kZVR5cGUgPT0gMSAmJiB0aGlzLmlzX2Jsb2NrKG5vZGUpKQogICAgICAgIHJldHVybiB0cnVlOwoKICAgICAgbm9kZSA9IG5vZGUubmV4dFNpYmxpbmc7CiAgICB9CgogICAgcmV0dXJuIGZhbHNlOwogIH0sCgogIC8vICMjIyBDSEVDSyBNRSAjIyMgc3dpdGNoIHRvIGFkZC9yZW1vdmUgImhpZGRlbiIgY2xhc3MKICBmb2xkOiBmdW5jdGlvbiAoaXRlbSkgewogICAgaWYgKGl0ZW0pCiAgICB7CiAgICAgIHRoaXMucmVtb3ZlX2NsYXNzKGl0ZW0sICJ1bmZvbGRlZCIpOwogICAgICB0aGlzLmFkZF9jbGFzcyhpdGVtLCAiZm9sZGVkIik7CiAgICB9CgogICAgdmFyIG5vZGUgPSBpdGVtID8gaXRlbS5maXJzdENoaWxkIDogbnVsbDsKCiAgICB3aGlsZSAobm9kZSkKICAgIHsKICAgICAgaWYgKG5vZGUubm9kZVR5cGUgPT0gMSAmJiB0aGlzLmlzX2Jsb2NrKG5vZGUpKSAvLyBlbGVtZW50CiAgICAgIHsKICAgICAgICAgdzNjX3NsaWR5LmFkZF9jbGFzcyhub2RlLCAiaGlkZGVuIik7CiAgICAgIH0KCiAgICAgIG5vZGUgPSBub2RlLm5leHRTaWJsaW5nOwogICAgfQoKICAgIGl0ZW0udmlzaWJsZSA9IGZhbHNlOwogIH0sCgogIC8vICMjIyBDSEVDSyBNRSAjIyMgc3dpdGNoIHRvIGFkZC9yZW1vdmUgImhpZGRlbiIgY2xhc3MKICB1bmZvbGQ6IGZ1bmN0aW9uIChpdGVtKSB7CiAgICBpZiAoaXRlbSkKICAgIHsKICAgICAgdGhpcy5hZGRfY2xhc3MoaXRlbSwgInVuZm9sZGVkIik7CiAgICAgIHRoaXMucmVtb3ZlX2NsYXNzKGl0ZW0sICJmb2xkZWQiKTsKICAgIH0KCiAgICB2YXIgbm9kZSA9IGl0ZW0gPyBpdGVtLmZpcnN0Q2hpbGQgOiBudWxsOwoKICAgIHdoaWxlIChub2RlKQogICAgewogICAgICBpZiAobm9kZS5ub2RlVHlwZSA9PSAxICYmIHRoaXMuaXNfYmxvY2sobm9kZSkpIC8vIGVsZW1lbnQKICAgICAgewogICAgICAgIHczY19zbGlkeS5yZW1vdmVfY2xhc3Mobm9kZSwgImhpZGRlbiIpOwogICAgICB9CgogICAgICBub2RlID0gbm9kZS5uZXh0U2libGluZzsKICAgIH0KCiAgICBpdGVtLnZpc2libGUgPSB0cnVlOwogIH0sCgogIG91dGxpbmVfY2xpY2s6IGZ1bmN0aW9uIChlKSB7CiAgICBpZiAoIWUpCiAgICAgIGUgPSB3aW5kb3cuZXZlbnQ7CgogICAgdmFyIHJpZ2h0Y2xpY2sgPSBmYWxzZTsKICAgIHZhciB0YXJnZXQgPSB3M2Nfc2xpZHkuZ2V0X3RhcmdldChlKTsKCiAgICB3aGlsZSAodGFyZ2V0ICYmIHRhcmdldC52aXNpYmxlID09IHVuZGVmaW5lZCkKICAgICAgdGFyZ2V0ID0gdGFyZ2V0LnBhcmVudE5vZGU7CgogICAgaWYgKCF0YXJnZXQpCiAgICAgIHJldHVybiB0cnVlOwoKICAgIGlmIChlLndoaWNoKQogICAgICByaWdodGNsaWNrID0gKGUud2hpY2ggPT0gMyk7CiAgICBlbHNlIGlmIChlLmJ1dHRvbikKICAgICAgcmlnaHRjbGljayA9IChlLmJ1dHRvbiA9PSAyKTsKCiAgICBpZiAoIXJpZ2h0Y2xpY2sgJiYgdGFyZ2V0LnZpc2libGUgIT0gdW5kZWZpbmVkKQogICAgewogICAgICBpZiAodGFyZ2V0LmZvbGRhYmxlKQogICAgICB7CiAgICAgICAgaWYgKHRhcmdldC52aXNpYmxlKQogICAgICAgICAgdzNjX3NsaWR5LmZvbGQodGFyZ2V0KTsKICAgICAgICBlbHNlCiAgICAgICAgICB3M2Nfc2xpZHkudW5mb2xkKHRhcmdldCk7CiAgICAgIH0KCiAgICAgIHczY19zbGlkeS5zdG9wX3Byb3BhZ2F0aW9uKGUpOwogICAgICBlLmNhbmNlbCA9IHRydWU7CiAgICAgIGUucmV0dXJuVmFsdWUgPSBmYWxzZTsKICAgIH0KCiAgICByZXR1cm4gZmFsc2U7CiAgfSwKCiAgYWRkX2luaXRpYWxfcHJvbXB0OiBmdW5jdGlvbiAoKSB7CiAgICB2YXIgcHJvbXB0ID0gdGhpcy5jcmVhdGVfZWxlbWVudCgiZGl2Iik7CiAgICBwcm9tcHQuc2V0QXR0cmlidXRlKCJjbGFzcyIsICJpbml0aWFsX3Byb21wdCIpOwoKICAgIHZhciBwMSA9IHRoaXMuY3JlYXRlX2VsZW1lbnQoInAiKTsKICAgIHByb21wdC5hcHBlbmRDaGlsZChwMSk7CiAgICBwMS5zZXRBdHRyaWJ1dGUoImNsYXNzIiwgImhlbHAiKTsKCiAgICBpZiAodGhpcy5rZXlib2FyZGxlc3MpCiAgICAgIHAxLmlubmVySFRNTCA9ICJzd2lwZSBsZWZ0IHRvIG1vdmUgdG8gbmV4dCBzbGlkZSI7CiAgICBlbHNlCiAgICAgIHAxLmlubmVySFRNTCA9ICJTcGFjZSwgUmlnaHQgQXJyb3cgb3Igc3dpcGUgbGVmdCB0byBtb3ZlIHRvICIgKwogICAgICAgICAgICAgICAgICAgICAibmV4dCBzbGlkZSwgY2xpY2sgaGVscCBiZWxvdyBmb3IgbW9yZSBkZXRhaWxzIjsKCiAgICB0aGlzLmFkZF9saXN0ZW5lcihwcm9tcHQsICJjbGljayIsIGZ1bmN0aW9uIChlKSB7CiAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQocHJvbXB0KTsKICAgICAgdzNjX3NsaWR5LnN0b3BfcHJvcGFnYXRpb24oZSk7CiAgICAKICAgICAgaWYgKGUuY2FuY2VsICE9IHVuZGVmaW5lZCkKICAgICAgICBlLmNhbmNlbCA9IHRydWU7CiAgICAgIAogICAgICBpZiAoZS5yZXR1cm5WYWx1ZSAhPSB1bmRlZmluZWQpCiAgICAgICAgZS5yZXR1cm5WYWx1ZSA9IGZhbHNlOwogICAgICAKICAgICAgcmV0dXJuIGZhbHNlOwogICAgfSk7CgogICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChwcm9tcHQpOwogICAgdGhpcy5pbml0aWFsX3Byb21wdCA9IHByb21wdDsKICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7ZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChwcm9tcHQpO30sIDUwMDApOwogIH0sCgogIGFkZF90b29sYmFyOiBmdW5jdGlvbiAoKSB7CiAgICB2YXIgY291bnRlciwgcGFnZTsKCiAgICAgdGhpcy50b29sYmFyID0gdGhpcy5jcmVhdGVfZWxlbWVudCgiZGl2Iik7CiAgICAgdGhpcy50b29sYmFyLnNldEF0dHJpYnV0ZSgiY2xhc3MiLCAidG9vbGJhciIpOwoKICAgICAvLyBhIHJlYXNvbmFibHkgYmVoYXZlZCBicm93c2VyCiAgICAgaWYgKHRoaXMubnNfcG9zIHx8ICF0aGlzLmllNikKICAgICB7CiAgICAgICB2YXIgcmlnaHQgPSB0aGlzLmNyZWF0ZV9lbGVtZW50KCJkaXYiKTsKICAgICAgIHJpZ2h0LnNldEF0dHJpYnV0ZSgic3R5bGUiLCAiZmxvYXQ6IHJpZ2h0OyB0ZXh0LWFsaWduOiByaWdodCIpOwoKICAgICAgIGNvdW50ZXIgPSB0aGlzLmNyZWF0ZV9lbGVtZW50KCJzcGFuIikKICAgICAgIGNvdW50ZXIuaW5uZXJIVE1MID0gdGhpcy5sb2NhbGl6ZSgic2xpZGUiKSArICIgbi9tIjsKICAgICAgIHJpZ2h0LmFwcGVuZENoaWxkKGNvdW50ZXIpOwogICAgICAgdGhpcy50b29sYmFyLmFwcGVuZENoaWxkKHJpZ2h0KTsKCiAgICAgICB2YXIgbGVmdCA9IHRoaXMuY3JlYXRlX2VsZW1lbnQoImRpdiIpOwogICAgICAgbGVmdC5zZXRBdHRyaWJ1dGUoInN0eWxlIiwgInRleHQtYWxpZ246IGxlZnQiKTsKCiAgICAgICAvLyBnbG9iYWwgZW5kIG9mIHNsaWRlIGluZGljYXRvcgogICAgICAgdGhpcy5lb3MgPSB0aGlzLmNyZWF0ZV9lbGVtZW50KCJzcGFuIik7CiAgICAgICB0aGlzLmVvcy5pbm5lckhUTUwgPSAiKiAiOwogICAgICAgbGVmdC5hcHBlbmRDaGlsZCh0aGlzLmVvcyk7CgogICAgICAgdmFyIGhlbHAgPSB0aGlzLmNyZWF0ZV9lbGVtZW50KCJhIik7CiAgICAgICBoZWxwLnNldEF0dHJpYnV0ZSgiaHJlZiIsIHRoaXMuaGVscF9wYWdlKTsKICAgICAgIGhlbHAuc2V0QXR0cmlidXRlKCJ0aXRsZSIsIHRoaXMubG9jYWxpemUodGhpcy5oZWxwX3RleHQpKTsKICAgICAgIGhlbHAuaW5uZXJIVE1MID0gdGhpcy5sb2NhbGl6ZSgiaGVscD8iKTsKICAgICAgIGxlZnQuYXBwZW5kQ2hpbGQoaGVscCk7CiAgICAgICBoZWxwLnN0eWxlLmRpc3BsYXk9Im5vbmUiOyAKICAgICAgIHRoaXMuaGVscF9hbmNob3IgPSBoZWxwOyAgLy8gc2F2ZSBmb3IgZm9jdXMgaGFjawoKICAgICAgIHZhciBnYXAxID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoIiAiKTsKICAgICAgIGxlZnQuYXBwZW5kQ2hpbGQoZ2FwMSk7CgogICAgICAgdmFyIGNvbnRlbnRzID0gdGhpcy5jcmVhdGVfZWxlbWVudCgiYSIpOwogICAgICAgY29udGVudHMuc2V0QXR0cmlidXRlKCJocmVmIiwgImphdmFzY3JpcHQ6dzNjX3NsaWR5LnRvZ2dsZV90YWJsZV9vZl9jb250ZW50cygpIik7CiAgICAgICBjb250ZW50cy5zZXRBdHRyaWJ1dGUoInRpdGxlIiwgdGhpcy5sb2NhbGl6ZSgidGFibGUgb2YgY29udGVudHMiKSk7CiAgICAgICBjb250ZW50cy5pbm5lckhUTUwgPSB0aGlzLmxvY2FsaXplKCJDb250ZW50cyIpOwogICAgICAgbGVmdC5hcHBlbmRDaGlsZChjb250ZW50cyk7CgogICAgICAgdmFyIGdhcDIgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSgiICIpOwogICAgICAgbGVmdC5hcHBlbmRDaGlsZChnYXAyKTsKCiAgICAgICB2YXIgY29weXJpZ2h0ID0gdGhpcy5maW5kX2NvcHlyaWdodCgpOwoKICAgICAgIGlmIChjb3B5cmlnaHQpCiAgICAgICB7CiAgICAgICAgIHZhciBzcGFuID0gdGhpcy5jcmVhdGVfZWxlbWVudCgic3BhbiIpOwogICAgICAgICBzcGFuLmNsYXNzTmFtZSA9ICJjb3B5cmlnaHQiOwogICAgICAgICBzcGFuLmlubmVySFRNTCA9IGNvcHlyaWdodDsKICAgICAgICAgbGVmdC5hcHBlbmRDaGlsZChzcGFuKTsKICAgICAgIH0KCiAgICAgICB0aGlzLnRvb2xiYXIuc2V0QXR0cmlidXRlKCJ0YWJpbmRleCIsICIwIik7CiAgICAgICB0aGlzLnRvb2xiYXIuYXBwZW5kQ2hpbGQobGVmdCk7CiAgICAgfQogICAgIGVsc2UgLy8gSUU2IHNvIG5lZWQgdG8gd29yayBhcm91bmQgaXRzIHBvb3IgQ1NTIHN1cHBvcnQKICAgICB7CiAgICAgICB0aGlzLnRvb2xiYXIuc3R5bGUucG9zaXRpb24gPSAodGhpcy5pZTcgPyAiZml4ZWQiIDogImFic29sdXRlIik7CiAgICAgICB0aGlzLnRvb2xiYXIuc3R5bGUuekluZGV4ID0gIjIwMCI7CiAgICAgICB0aGlzLnRvb2xiYXIuc3R5bGUud2lkdGggPSAiOTkuOSUiOwogICAgICAgdGhpcy50b29sYmFyLnN0eWxlLmhlaWdodCA9ICIxLjJlbSI7CiAgICAgICB0aGlzLnRvb2xiYXIuc3R5bGUudG9wID0gImF1dG8iOwogICAgICAgdGhpcy50b29sYmFyLnN0eWxlLmJvdHRvbSA9ICIwIjsKICAgICAgIHRoaXMudG9vbGJhci5zdHlsZS5sZWZ0ID0gIjAiOwogICAgICAgdGhpcy50b29sYmFyLnN0eWxlLnJpZ2h0ID0gIjAiOwogICAgICAgdGhpcy50b29sYmFyLnN0eWxlLnRleHRBbGlnbiA9ICJsZWZ0IjsKICAgICAgIHRoaXMudG9vbGJhci5zdHlsZS5mb250U2l6ZSA9ICI2MCUiOwogICAgICAgdGhpcy50b29sYmFyLnN0eWxlLmNvbG9yID0gInJlZCI7CiAgICAgICB0aGlzLnRvb2xiYXIuYm9yZGVyV2lkdGggPSAwOwogICAgICAgdGhpcy50b29sYmFyLmNsYXNzTmFtZSA9ICJ0b29sYmFyIjsKICAgICAgIHRoaXMudG9vbGJhci5zdHlsZS5iYWNrZ3JvdW5kID0gInJnYigyNDAsMjQwLDI0MCkiOwoKICAgICAgIC8vIHdvdWxkIGxpa2UgdG8gaGF2ZSBoZWxwIHRleHQgbGVmdCBhbGlnbmVkCiAgICAgICAvLyBhbmQgcGFnZSBjb3VudGVyIHJpZ2h0IGFsaWduZWQsIGZsb2F0aW5nCiAgICAgICAvLyBkaXYncyBkb24ndCB3b3JrLCBzbyBpbnN0ZWFkIHVzZSBuZXN0ZWQKICAgICAgIC8vIGFic29sdXRlbHkgcG9zaXRpb25lZCBkaXYncy4KCiAgICAgICB2YXIgc3AgPSB0aGlzLmNyZWF0ZV9lbGVtZW50KCJzcGFuIik7CiAgICAgICBzcC5pbm5lckhUTUwgPSAiJm5ic3A7Jm5ic3A7KiZuYnNwOyI7CiAgICAgICB0aGlzLnRvb2xiYXIuYXBwZW5kQ2hpbGQoc3ApOwogICAgICAgdGhpcy5lb3MgPSBzcDsgIC8vIGVuZCBvZiBzbGlkZSBpbmRpY2F0b3IKCiAgICAgICB2YXIgaGVscCA9IHRoaXMuY3JlYXRlX2VsZW1lbnQoImEiKTsKICAgICAgIGhlbHAuc2V0QXR0cmlidXRlKCJocmVmIiwgdGhpcy5oZWxwX3BhZ2UpOwogICAgICAgaGVscC5zZXRBdHRyaWJ1dGUoInRpdGxlIiwgdGhpcy5sb2NhbGl6ZSh0aGlzLmhlbHBfdGV4dCkpOwogICAgICAgaGVscC5pbm5lckhUTUwgPSB0aGlzLmxvY2FsaXplKCJoZWxwPyIpOwogICAgICAgdGhpcy50b29sYmFyLmFwcGVuZENoaWxkKGhlbHApOwogICAgICAgdGhpcy5oZWxwX2FuY2hvciA9IGhlbHA7ICAvLyBzYXZlIGZvciBmb2N1cyBoYWNrCgogICAgICAgdmFyIGdhcDEgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSgiICIpOwogICAgICAgdGhpcy50b29sYmFyLmFwcGVuZENoaWxkKGdhcDEpOwoKICAgICAgIHZhciBjb250ZW50cyA9IHRoaXMuY3JlYXRlX2VsZW1lbnQoImEiKTsKICAgICAgIGNvbnRlbnRzLnNldEF0dHJpYnV0ZSgiaHJlZiIsICJqYXZhc2NyaXB0OnRvZ2dsZVRhYmxlT2ZDb250ZW50cygpIik7CiAgICAgICBjb250ZW50cy5zZXRBdHRyaWJ1dGUoInRpdGxlIiwgdGhpcy5sb2NhbGl6ZSgidGFibGUgb2YgY29udGVudHMiLmxvY2FsaXplKSk7CiAgICAgICBjb250ZW50cy5pbm5lckhUTUwgPSB0aGlzLmxvY2FsaXplKCJjb250ZW50cz8iKTsKICAgICAgIHRoaXMudG9vbGJhci5hcHBlbmRDaGlsZChjb250ZW50cyk7CgogICAgICAgdmFyIGdhcDIgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSgiICIpOwogICAgICAgdGhpcy50b29sYmFyLmFwcGVuZENoaWxkKGdhcDIpOwoKICAgICAgIHZhciBjb3B5cmlnaHQgPSB0aGlzLmZpbmRfY29weXJpZ2h0KCk7CgogICAgICAgaWYgKGNvcHlyaWdodCkKICAgICAgIHsKICAgICAgICAgdmFyIHNwYW4gPSB0aGlzLmNyZWF0ZV9lbGVtZW50KCJzcGFuIik7CiAgICAgICAgIHNwYW4uaW5uZXJIVE1MID0gY29weXJpZ2h0OwogICAgICAgICBzcGFuLnN0eWxlLmNvbG9yID0gImJsYWNrIjsKICAgICAgICAgc3Bhbi5zdHlsZS5tYXJnaW5MZWZ0ID0gIjAuNWVtIjsKICAgICAgICAgdGhpcy50b29sYmFyLmFwcGVuZENoaWxkKHNwYW4pOwogICAgICAgfQoKICAgICAgIGNvdW50ZXIgPSB0aGlzLmNyZWF0ZV9lbGVtZW50KCJkaXYiKQogICAgICAgY291bnRlci5zdHlsZS5wb3NpdGlvbiA9ICJhYnNvbHV0ZSI7CiAgICAgICBjb3VudGVyLnN0eWxlLndpZHRoID0gImF1dG8iOyAvLyIyMCUiOwogICAgICAgY291bnRlci5zdHlsZS5oZWlnaHQgPSAiMS4yZW0iOwogICAgICAgY291bnRlci5zdHlsZS50b3AgPSAiYXV0byI7CiAgICAgICBjb3VudGVyLnN0eWxlLmJvdHRvbSA9IDA7CiAgICAgICBjb3VudGVyLnN0eWxlLnJpZ2h0ID0gIjAiOwogICAgICAgY291bnRlci5zdHlsZS50ZXh0QWxpZ24gPSAicmlnaHQiOwogICAgICAgY291bnRlci5zdHlsZS5jb2xvciA9ICJyZWQiOwogICAgICAgY291bnRlci5zdHlsZS5iYWNrZ3JvdW5kID0gInJnYigyNDAsMjQwLDI0MCkiOwoKICAgICAgIGNvdW50ZXIuaW5uZXJIVE1MID0gdGhpcy5sb2NhbGl6ZSgic2xpZGUiKSArICIgbi9tIjsKICAgICAgIHRoaXMudG9vbGJhci5hcHBlbmRDaGlsZChjb3VudGVyKTsKICAgICB9CgogICAgIC8vIGVuc3VyZSB0aGF0IGNsaWNrIGlzbid0IHBhc3NlZCB0aHJvdWdoIHRvIHRoZSBwYWdlCiAgICAgdGhpcy50b29sYmFyLm9uY2xpY2sgPQogICAgICAgICBmdW5jdGlvbiAoZSkgewogICAgICAgICAgIGlmICghZSkKICAgICAgICAgICAgIGUgPSB3aW5kb3cuZXZlbnQ7CgogICAgICAgICAgIHZhciB0YXJnZXQgPSBlLnRhcmdldDsKCiAgICAgICAgICAgaWYgKCF0YXJnZXQgJiYgZS5zcmNFbGVtZW50KQogICAgICAgICAgICAgdGFyZ2V0ID0gZS5zcmNFbGVtZW50OwoKICAgICAgICAgICAvLyB3b3JrIGFyb3VuZCBTYWZhcmkgYnVnCiAgICAgICAgICAgaWYgKHRhcmdldCAmJiB0YXJnZXQubm9kZVR5cGUgPT0gMykKICAgICAgICAgICAgIHRhcmdldCA9IHRhcmdldC5wYXJlbnROb2RlOwoKICAgICAgICAgICB3M2Nfc2xpZHkuc3RvcF9wcm9wYWdhdGlvbihlKTsKCiAgICAgICAgICAgaWYgKHRhcmdldCAmJiB0YXJnZXQubm9kZU5hbWUudG9Mb3dlckNhc2UoKSAhPSAiYSIpCiAgICAgICAgICAgICB3M2Nfc2xpZHkubW91c2VfYnV0dG9uX2NsaWNrKGUpOwogICAgICAgICB9OwoKICAgICB0aGlzLnNsaWRlX251bWJlcl9lbGVtZW50ID0gY291bnRlcjsKICAgICB0aGlzLnNldF9lb3Nfc3RhdHVzKGZhbHNlKTsKICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHRoaXMudG9vbGJhcik7CiAgfSwKCiAgLy8gd3lzaXd5ZyBlZGl0b3JzIG1ha2UgaXQgaGFyZCB0byB1c2UgZGl2IGVsZW1lbnRzCiAgLy8gZS5nLiBhbWF5YSBsb3NlcyB0aGUgZGl2IHdoZW4geW91IGNvcHkgYW5kIHBhc3RlCiAgLy8gdGhpcyBmdW5jdGlvbiB3cmFwcyBkaXYgZWxlbWVudHMgYXJvdW5kIGltcGxpY2l0CiAgLy8gc2xpZGVzIHdoaWNoIHN0YXJ0IHdpdGggYW4gaDEgZWxlbWVudCBhbmQgY29udGludWUKICAvLyB1cCB0byB0aGUgbmV4dCBoZWFkaW5nIG9yIGRpdiBlbGVtZW50CiAgd3JhcF9pbXBsaWNpdF9zbGlkZXM6IGZ1bmN0aW9uICgpIHsKICAgIHZhciBpLCBoZWFkaW5nLCBub2RlLCBuZXh0LCBkaXY7CiAgICB2YXIgaGVhZGluZ3MgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgiaDEiKTsKCiAgICBpZiAoIWhlYWRpbmdzKQogICAgICByZXR1cm47CgogICAgZm9yIChpID0gMDsgaSA8IGhlYWRpbmdzLmxlbmd0aDsgKytpKQogICAgewogICAgICBoZWFkaW5nID0gaGVhZGluZ3NbaV07CgogICAgICBpZiAoaGVhZGluZy5wYXJlbnROb2RlICE9IGRvY3VtZW50LmJvZHkpCiAgICAgICAgY29udGludWU7CgogICAgICBub2RlID0gaGVhZGluZy5uZXh0U2libGluZzsKCiAgICAgIGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpOwogICAgICB0aGlzLmFkZF9jbGFzcyhkaXYsICJzbGlkZSIpOwogICAgICBkb2N1bWVudC5ib2R5LnJlcGxhY2VDaGlsZChkaXYsIGhlYWRpbmcpOwogICAgICBkaXYuYXBwZW5kQ2hpbGQoaGVhZGluZyk7CgogICAgICB3aGlsZSAobm9kZSkKICAgICAgewogICAgICAgIGlmIChub2RlLm5vZGVUeXBlID09IDEpIC8vIGFuIGVsZW1lbnQKICAgICAgICB7CiAgICAgICAgICAgaWYgKG5vZGUubm9kZU5hbWUgPT0gIkgxIiB8fCBub2RlLm5vZGVOYW1lID09ICJoMSIpCiAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgaWYgKG5vZGUubm9kZU5hbWUgPT0gIkRJViIgfHwgbm9kZS5ub2RlTmFtZSA9PSAiZGl2IikKICAgICAgICAgICB7CiAgICAgICAgICAgICBpZiAodGhpcy5oYXNfY2xhc3Mobm9kZSwgInNsaWRlIikpCiAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgIGlmICh0aGlzLmhhc19jbGFzcyhub2RlLCAiaGFuZG91dCIpKQogICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICBuZXh0ID0gbm9kZS5uZXh0U2libGluZzsKICAgICAgICBub2RlID0gZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChub2RlKTsKICAgICAgICBkaXYuYXBwZW5kQ2hpbGQobm9kZSk7CiAgICAgICAgbm9kZSA9IG5leHQ7CiAgICAgIH0gCiAgICB9CiAgfSwKCiAgYXR0YWNoX3RvdWNoX2hhbmRlcnM6IGZ1bmN0aW9uKHNsaWRlcykKICB7CiAgICB2YXIgaSwgc2xpZGU7CgogICAgZm9yIChpID0gMDsgaSA8IHNsaWRlcy5sZW5ndGg7ICsraSkKICAgIHsKICAgICAgc2xpZGUgPSBzbGlkZXNbaV07CiAgICAgIHRoaXMuYWRkX2xpc3RlbmVyKHNsaWRlLCAidG91Y2hzdGFydCIsIHRoaXMudG91Y2hzdGFydCk7CiAgICAgIHRoaXMuYWRkX2xpc3RlbmVyKHNsaWRlLCAidG91Y2htb3ZlIiwgdGhpcy50b3VjaG1vdmUpOwogICAgICB0aGlzLmFkZF9saXN0ZW5lcihzbGlkZSwgInRvdWNoZW5kIiwgdGhpcy50b3VjaGVuZCk7CiAgICB9CiAgfSwKCi8vIHJldHVybiBuZXcgYXJyYXkgb2YgYWxsIHNsaWRlcwogIGNvbGxlY3Rfc2xpZGVzOiBmdW5jdGlvbiAoKSB7CiAgICB2YXIgc2xpZGVzID0gbmV3IEFycmF5KCk7CiAgICB2YXIgZGl2cyA9IGRvY3VtZW50LmJvZHkuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImRpdiIpOwoKICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGl2cy5sZW5ndGg7ICsraSkKICAgIHsKICAgICAgZGl2ID0gZGl2cy5pdGVtKGkpOwoKICAgICAgaWYgKHRoaXMuaGFzX2NsYXNzKGRpdiwgInNsaWRlIikpCiAgICAgIHsKICAgICAgICAvLyBhZGQgc2xpZGUgdG8gY29sbGVjdGlvbgogICAgICAgIHNsaWRlc1tzbGlkZXMubGVuZ3RoXSA9IGRpdjsKCiAgICAgICAgLy8gaGlkZSBlYWNoIHNsaWRlIGFzIGl0IGlzIGZvdW5kCiAgICAgICAgdGhpcy5hZGRfY2xhc3MoZGl2LCAiaGlkZGVuIik7CgogICAgICAgIC8vIGFkZCBkdW1teSA8YnIvPiBhdCBlbmQgZm9yIHNjcm9sbGluZyBoYWNrCiAgICAgICAgdmFyIG5vZGUxID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiYnIiKTsKICAgICAgICBkaXYuYXBwZW5kQ2hpbGQobm9kZTEpOwogICAgICAgIHZhciBub2RlMiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImJyIik7CiAgICAgICAgZGl2LmFwcGVuZENoaWxkKG5vZGUyKTsKICAgICAgfQogICAgICBlbHNlIGlmICh0aGlzLmhhc19jbGFzcyhkaXYsICJiYWNrZ3JvdW5kIikpCiAgICAgIHsgIC8vIHdvcmsgYXJvdW5kIGZvciBGaXJlZm94IFNWRyByZWxvYWQgYnVnCiAgICAgICAgLy8gd2hpY2ggb3RoZXJ3aXNlIHJlcGxhY2VzIDFzdCBTVkcgZ3JhcGhpYyB3aXRoIDJuZAogICAgICAgIGRpdi5zdHlsZS5kaXNwbGF5ID0gImJsb2NrIjsKICAgICAgfQogICAgfQoKICAgIHRoaXMuc2xpZGVzID0gc2xpZGVzOwogIH0sCgogIC8vIHJldHVybiBuZXcgYXJyYXkgb2YgYWxsIDxkaXYgY2xhc3M9ImhhbmRvdXQiPgogIGNvbGxlY3Rfbm90ZXM6IGZ1bmN0aW9uICgpIHsKICAgIHZhciBub3RlcyA9IG5ldyBBcnJheSgpOwogICAgdmFyIGRpdnMgPSBkb2N1bWVudC5ib2R5LmdldEVsZW1lbnRzQnlUYWdOYW1lKCJkaXYiKTsKCiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRpdnMubGVuZ3RoOyArK2kpCiAgICB7CiAgICAgIGRpdiA9IGRpdnMuaXRlbShpKTsKCiAgICAgIGlmICh0aGlzLmhhc19jbGFzcyhkaXYsICJoYW5kb3V0IikpCiAgICAgIHsKICAgICAgICAvLyBhZGQgbm90ZSB0byBjb2xsZWN0aW9uCiAgICAgICAgbm90ZXNbbm90ZXMubGVuZ3RoXSA9IGRpdjsKCiAgICAgICAgLy8gYW5kIGhpZGUgaXQKICAgICAgICB0aGlzLmFkZF9jbGFzcyhkaXYsICJoaWRkZW4iKTsKICAgICAgfQogICAgfQoKICAgIHRoaXMubm90ZXMgPSBub3RlczsKICB9LAoKICAvLyByZXR1cm4gbmV3IGFycmF5IG9mIGFsbCA8ZGl2IGNsYXNzPSJiYWNrZ3JvdW5kIj4KICAvLyBpbmNsdWRpbmcgbmFtZWQgYmFja2dyb3VuZHMgZS5nLiBjbGFzcz0iYmFja2dyb3VuZCB0aXRsZXBhZ2UiCiAgY29sbGVjdF9iYWNrZ3JvdW5kczogZnVuY3Rpb24gKCkgewogICAgdmFyIGJhY2tncm91bmRzID0gbmV3IEFycmF5KCk7CiAgICB2YXIgZGl2cyA9IGRvY3VtZW50LmJvZHkuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImRpdiIpOwoKICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGl2cy5sZW5ndGg7ICsraSkKICAgIHsKICAgICAgZGl2ID0gZGl2cy5pdGVtKGkpOwoKICAgICAgaWYgKHRoaXMuaGFzX2NsYXNzKGRpdiwgImJhY2tncm91bmQiKSkKICAgICAgewogICAgICAgIC8vIGFkZCBiYWNrZ3JvdW5kIHRvIGNvbGxlY3Rpb24KICAgICAgICBiYWNrZ3JvdW5kc1tiYWNrZ3JvdW5kcy5sZW5ndGhdID0gZGl2OwoKICAgICAgICAvLyBhbmQgaGlkZSBpdAogICAgICAgIHRoaXMuYWRkX2NsYXNzKGRpdiwgImhpZGRlbiIpOwogICAgICB9CiAgICB9CgogICAgdGhpcy5iYWNrZ3JvdW5kcyA9IGJhY2tncm91bmRzOwogIH0sCgogIC8vIHNldCBjbGljayBoYW5kbGVycyBvbiBhbGwgYW5jaG9ycwogIHBhdGNoX2FuY2hvcnM6IGZ1bmN0aW9uICgpIHsKICAgIHZhciBzZWxmID0gdzNjX3NsaWR5OwogICAgdmFyIGhhbmRsZXIgPSBmdW5jdGlvbiAoZXZlbnQpIHsKICAgICAgLy8gY29tcGFyZSB0aGlzLmhyZWYgd2l0aCBsb2NhdGlvbi5ocmVmCiAgICAgIC8vIGZvciBsaW5rIHRvIGFub3RoZXIgc2xpZGUgaW4gdGhpcyBkb2MKCiAgICAgIGlmIChzZWxmLnBhZ2VfYWRkcmVzcyh0aGlzLmhyZWYpID09IHNlbGYucGFnZV9hZGRyZXNzKGxvY2F0aW9uLmhyZWYpKQogICAgICB7CiAgICAgICAgLy8geWVzLCBzbyBmaW5kIG5ldyBzbGlkZSBudW1iZXIKICAgICAgICB2YXIgbmV3c2xpZGVudW0gPSBzZWxmLmZpbmRfc2xpZGVfbnVtYmVyKHRoaXMuaHJlZik7CgogICAgICAgIGlmIChuZXdzbGlkZW51bSAhPSBzZWxmLnNsaWRlX251bWJlcikKICAgICAgICB7CiAgICAgICAgICB2YXIgc2xpZGUgPSBzZWxmLnNsaWRlc1tzZWxmLnNsaWRlX251bWJlcl07CiAgICAgICAgICBzZWxmLmhpZGVfc2xpZGUoc2xpZGUpOwogICAgICAgICAgc2VsZi5zbGlkZV9udW1iZXIgPSBuZXdzbGlkZW51bTsKICAgICAgICAgIHNsaWRlID0gc2VsZi5zbGlkZXNbc2VsZi5zbGlkZV9udW1iZXJdOwogICAgICAgICAgc2VsZi5zaG93X3NsaWRlKHNsaWRlKTsKICAgICAgICAgIHNlbGYuc2V0X2xvY2F0aW9uKCk7CiAgICAgICAgfQogICAgICB9CiAgICAgIGVsc2UKICAgICAgICB3M2Nfc2xpZHkuc3RvcF9wcm9wYWdhdGlvbihldmVudCk7CgovLyAgICAgIGVsc2UgaWYgKHRoaXMudGFyZ2V0ID09IG51bGwpCi8vICAgICAgICBsb2NhdGlvbi5ocmVmID0gdGhpcy5ocmVmOwoKICAgICAgdGhpcy5ibHVyKCk7CiAgICAgIHNlbGYuZGlzYWJsZV9zbGlkZV9jbGljayA9IHRydWU7CiAgICB9OwoKICAgIHZhciBhbmNob3JzID0gZG9jdW1lbnQuYm9keS5nZXRFbGVtZW50c0J5VGFnTmFtZSgiYSIpOwoKICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYW5jaG9ycy5sZW5ndGg7ICsraSkKICAgIHsKICAgICAgaWYgKHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKQogICAgICAgIGFuY2hvcnNbaV0uYWRkRXZlbnRMaXN0ZW5lcigiY2xpY2siLCBoYW5kbGVyLCBmYWxzZSk7CiAgICAgIGVsc2UKICAgICAgICBhbmNob3JzW2ldLmF0dGFjaEV2ZW50KCJvbmNsaWNrIiwgaGFuZGxlcik7CiAgICB9CiAgfSwKCiAgLy8gIyMjIENIRUNLIE1FICMjIyBzZWUgd2hpY2ggZnVuY3Rpb25zIGFyZSBpbnZva2VkIHZpYSBzZXRUaW1lb3V0CiAgLy8gZWl0aGVyIGRpcmVjdGx5IG9yIGluZGlyZWN0bHkgZm9yIHVzZSBvZiB3M2Nfc2xpZHkgdnMgdGhpcwogIHNob3dfc2xpZGVfbnVtYmVyOiBmdW5jdGlvbiAoKSB7CiAgICB2YXIgdGltZXIgPSB3M2Nfc2xpZHkuZ2V0X3RpbWVyKCk7CiAgICB3M2Nfc2xpZHkuc2xpZGVfbnVtYmVyX2VsZW1lbnQuaW5uZXJIVE1MID0gdGltZXIgKyB3M2Nfc2xpZHkubG9jYWxpemUoInNsaWRlIikgKyAiICIgKwogICAgICAgICAgICh3M2Nfc2xpZHkuc2xpZGVfbnVtYmVyICsgMSkgKyAiLyIgKyB3M2Nfc2xpZHkuc2xpZGVzLmxlbmd0aDsKICB9LAoKICAvLyBldmVyeSAyMDBtUyBjaGVjayBpZiB0aGUgbG9jYXRpb24gaGFzIGJlZW4gY2hhbmdlZCBhcyBhCiAgLy8gcmVzdWx0IG9mIHRoZSB1c2VyIGFjdGl2YXRpbmcgdGhlIEJhY2sgYnV0dG9uL21lbnUgaXRlbQogIC8vIGRvZXNuJ3Qgd29yayBmb3IgT3BlcmEgPCA5LjUKICBjaGVja19sb2NhdGlvbjogZnVuY3Rpb24gKCkgewogICAgdmFyIGhhc2ggPSBsb2NhdGlvbi5oYXNoOwoKICAgIGlmICh3M2Nfc2xpZHkuc2xpZGVfbnVtYmVyID4gMCAmJiAoaGFzaCA9PSAiIiB8fCBoYXNoID09ICIjIikpCiAgICAgIHczY19zbGlkeS5nb3RvX3NsaWRlKDApOwogICAgZWxzZSBpZiAoaGFzaC5sZW5ndGggPiAyICYmIGhhc2ggIT0gIiMoIisodzNjX3NsaWR5LnNsaWRlX251bWJlcisxKSsiKSIpCiAgICB7CiAgICAgIHZhciBudW0gPSBwYXJzZUludChsb2NhdGlvbi5oYXNoLnN1YnN0cigyKSk7CgogICAgICBpZiAoIWlzTmFOKG51bSkpCiAgICAgICAgdzNjX3NsaWR5LmdvdG9fc2xpZGUobnVtLTEpOwogICAgfQoKICAgIGlmICh3M2Nfc2xpZHkudGltZV9sZWZ0ICYmIHczY19zbGlkeS5zbGlkZV9udW1iZXIgPiAwKQogICAgewogICAgICB3M2Nfc2xpZHkuc2hvd19zbGlkZV9udW1iZXIoKTsKCiAgICAgIGlmICh3M2Nfc2xpZHkudGltZV9sZWZ0ID4gMCkKICAgICAgICB3M2Nfc2xpZHkudGltZV9sZWZ0IC09IDIwMDsKICAgIH0gCiAgfSwKCiAgZ2V0X3RpbWVyOiBmdW5jdGlvbiAoKSB7CiAgICB2YXIgdGltZXIgPSAiIjsKICAgIGlmICh3M2Nfc2xpZHkudGltZV9sZWZ0KQogICAgewogICAgICB2YXIgbWlucywgc2VjczsKICAgICAgc2VjcyA9IE1hdGguZmxvb3IodzNjX3NsaWR5LnRpbWVfbGVmdC8xMDAwKTsKICAgICAgbWlucyA9IE1hdGguZmxvb3Ioc2VjcyAvIDYwKTsKICAgICAgc2VjcyA9IHNlY3MgJSA2MDsKICAgICAgdGltZXIgPSAobWlucyA/IG1pbnMrIm0iIDogIiIpICsgc2VjcyArICJzICI7CiAgICB9CgogICAgcmV0dXJuIHRpbWVyOwogIH0sCgogIC8vIHRoaXMgZG9lc24ndCBwdXNoIGxvY2F0aW9uIG9udG8gaGlzdG9yeSBzdGFjayBmb3IgSUUKICAvLyBmb3Igd2hpY2ggYSBoaWRkZW4gaWZyYW1lIGhhY2sgaXMgbmVlZGVkOiBsb2FkIHBhZ2UgaW50bwogIC8vIHRoZSBpZnJhbWUgd2l0aCBzY3JpcHQgdGhhdCBzZXQncyBwYXJlbnQncyBsb2NhdGlvbi5oYXNoCiAgLy8gYnV0IHRoYXQgd29uJ3Qgd29yayBmb3Igc3RhbmRhbG9uZSB1c2UgdW5sZXNzIHdlIGNhbgogIC8vIGNyZWF0ZSB0aGUgcGFnZSBkeW5hbWljYWxseSB2aWEgYSBqYXZhc2NyaXB0OiBVUkwKICAvLyAjIyMgdXNlIGhpc3RvcnkucHVzaFN0YXRlIGlmIGF2YWlsYWJsZQogIHNldF9sb2NhdGlvbjogZnVuY3Rpb24gKCkgewogICAgIHZhciB1cmkgPSB3M2Nfc2xpZHkucGFnZV9hZGRyZXNzKGxvY2F0aW9uLmhyZWYpOwogICAgIHZhciBoYXNoID0gIiMoIiArICh3M2Nfc2xpZHkuc2xpZGVfbnVtYmVyKzEpICsgIikiOwoKICAgICBpZiAodzNjX3NsaWR5LnNsaWRlX251bWJlciA+PSAwKQogICAgICAgdXJpID0gdXJpICsgaGFzaDsKCiAgICAgaWYgKHR5cGVvZihoaXN0b3J5LnB1c2hTdGF0ZSkgIT0gInVuZGVmaW5lZCIgJiYgbG9jYXRpb24ucHJvdG9jb2wgIT09ICJmaWxlOiIpCiAgICAgewogICAgICAgZG9jdW1lbnQudGl0bGUgPSB3M2Nfc2xpZHkudGl0bGUgKyAiICgiICsgKHczY19zbGlkeS5zbGlkZV9udW1iZXIrMSkgKyAiKSI7CiAgICAgICBoaXN0b3J5LnB1c2hTdGF0ZSgwLCBkb2N1bWVudC50aXRsZSwgaGFzaCk7CiAgICAgICB3M2Nfc2xpZHkuc2hvd19zbGlkZV9udW1iZXIoKTsKICAgICAgIHczY19zbGlkeS5ub3RpZnlfb2JzZXJ2ZXJzKCk7CiAgICAgICByZXR1cm47CiAgICAgfQoKICAgICBpZiAodzNjX3NsaWR5LmllICYmICh3M2Nfc2xpZHkuaWU2IHx8IHczY19zbGlkeS5pZTcpKQogICAgICAgdzNjX3NsaWR5LnB1c2hfaGFzaChoYXNoKTsKCiAgICAgaWYgKHVyaSAhPSBsb2NhdGlvbi5ocmVmKSAvLyAmJiAha2h0bWwKICAgICAgICBsb2NhdGlvbi5ocmVmID0gdXJpOwoKICAgICBpZiAodGhpcy5raHRtbCkKICAgICAgICBoYXNoID0gIigiICsgKHczY19zbGlkeS5zbGlkZV9udW1iZXIrMSkgKyAiKSI7CgogICAgIGlmICghdGhpcy5pZSAmJiBsb2NhdGlvbi5oYXNoICE9IGhhc2ggJiYgbG9jYXRpb24uaGFzaCAhPSAiIikKICAgICAgIGxvY2F0aW9uLmhhc2ggPSBoYXNoOwoKICAgICBkb2N1bWVudC50aXRsZSA9IHczY19zbGlkeS50aXRsZSArICIgKCIgKyAodzNjX3NsaWR5LnNsaWRlX251bWJlcisxKSArICIpIjsKICAgICB3M2Nfc2xpZHkuc2hvd19zbGlkZV9udW1iZXIoKTsKICAgICB3M2Nfc2xpZHkubm90aWZ5X29ic2VydmVycygpOwogIH0sCgogIG5vdGlmeV9vYnNlcnZlcnM6IGZ1bmN0aW9uICgpCiAgewogICAgdmFyIHNsaWRlID0gdGhpcy5zbGlkZXNbdGhpcy5zbGlkZV9udW1iZXJdOwoKICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5vYnNlcnZlcnMubGVuZ3RoOyArK2kpCiAgICAgIHRoaXMub2JzZXJ2ZXJzW2ldKHRoaXMuc2xpZGVfbnVtYmVyKzEsIHRoaXMuZmluZF9oZWFkaW5nKHNsaWRlKS5pbm5lclRleHQsIGxvY2F0aW9uLmhyZWYpOwogIH0sCgogIGFkZF9vYnNlcnZlcjogZnVuY3Rpb24gKG9ic2VydmVyKQogIHsKICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5vYnNlcnZlcnMubGVuZ3RoOyArK2kpCiAgICB7CiAgICAgIGlmIChvYnNlcnZlciA9PSB0aGlzLm9ic2VydmVyc1tpXSkKICAgICAgICByZXR1cm47CiAgICB9CgogICAgdGhpcy5vYnNlcnZlcnMucHVzaChvYnNlcnZlcik7CiAgfSwKCiAgcmVtb3ZlX29ic2VydmVyOiBmdW5jdGlvbiAobykKICB7CiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMub2JzZXJ2ZXJzLmxlbmd0aDsgKytpKQogICAgewogICAgICBpZiAob2JzZXJ2ZXIgPT0gdGhpcy5vYnNlcnZlcnNbaV0pCiAgICAgIHsKICAgICAgICB0aGlzLm9ic2VydmVycy5zcGxpY2UoaSwxKTsKICAgICAgICBicmVhazsKICAgICAgfQogICAgfQogIH0sCgogIHBhZ2VfYWRkcmVzczogZnVuY3Rpb24gKHVyaSkgewogICAgdmFyIGkgPSB1cmkuaW5kZXhPZigiIyIpOwoKICAgIGlmIChpIDwgMCkKICAgICAgaSA9IHVyaS5pbmRleE9mKCIlMjMiKTsKCiAgICAvLyBjaGVjayBpZiBhbmNob3IgaXMgZW50aXJlIHBhZ2UKCiAgICBpZiAoaSA8IDApCiAgICAgIHJldHVybiB1cmk7ICAvLyB5ZXMKCiAgICByZXR1cm4gdXJpLnN1YnN0cigwLCBpKTsKICB9LAoKICAvLyBvbmx5IHVzZWQgZm9yIElFNiBhbmQgSUU3CiAgb25fZnJhbWVfbG9hZGVkOiBmdW5jdGlvbiAoaGFzaCkgewogICAgbG9jYXRpb24uaGFzaCA9IGhhc2g7CiAgICB2YXIgdXJpID0gdzNjX3NsaWR5LnBhZ2VfYWRkcmVzcyhsb2NhdGlvbi5ocmVmKTsKICAgIGxvY2F0aW9uLmhyZWYgPSB1cmkgKyBoYXNoOwogIH0sCgogIC8vIGhpc3RvcnkgaGFjayB3aXRoIHRoYW5rcyB0byBCZXJ0cmFuZCBMZSBSb3kKICBwdXNoX2hhc2g6IGZ1bmN0aW9uIChoYXNoKSB7CiAgICBpZiAoaGFzaCA9PSAiIikgaGFzaCA9ICIjKDEpIjsKICAgICAgd2luZG93LmxvY2F0aW9uLmhhc2ggPSBoYXNoOwoKICAgIHZhciBkb2MgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiaGlzdG9yeUZyYW1lIikuY29udGVudFdpbmRvdy5kb2N1bWVudDsKICAgIGRvYy5vcGVuKCJqYXZhc2NyaXB0Oic8aHRtbD48L2h0bWw+JyIpOwogICAgZG9jLndyaXRlKCI8aHRtbD48aGVhZD48c2NyaXB0IHR5cGU9XCJ0ZXh0L2phdmFzY3JpcHRcIj53aW5kb3cucGFyZW50LnczY19zbGlkeS5vbl9mcmFtZV9sb2FkZWQoJyIrCiAgICAgIChoYXNoKSArICInKTs8L3NjcmlwdD48L2hlYWQ+PGJvZHk+aGVsbG8gbXVtPC9ib2R5PjwvaHRtbD4iKTsKICAgICAgZG9jLmNsb3NlKCk7CiAgfSwKCiAgLy8gZmluZCBjdXJyZW50IHNsaWRlIGJhc2VkIHVwb24gbG9jYXRpb24KICAvLyBmaXJzdCBmaW5kIHRhcmdldCBhbmNob3IgYW5kIHRoZW4gbG9vawogIC8vIGZvciBhc3NvY2lhdGVkIGRpdiBlbGVtZW50IGVuY2xvc2luZyBpdAogIC8vIGZpbmFsbHkgbWFwIHRoYXQgdG8gc2xpZGUgbnVtYmVyCiAgZmluZF9zbGlkZV9udW1iZXI6IGZ1bmN0aW9uICh1cmkpIHsKICAgIC8vIGZpcnN0IGdldCBhbmNob3IgZnJvbSBwYWdlIGxvY2F0aW9uCgogICAgdmFyIGkgPSB1cmkuaW5kZXhPZigiIyIpOwoKICAgIC8vIGNoZWNrIGlmIGFuY2hvciBpcyBlbnRpcmUgcGFnZQogICAgaWYgKGkgPCAwKQogICAgICByZXR1cm4gMDsgIC8vIHllcwoKICAgIHZhciBhbmNob3IgPSB1bmVzY2FwZSh1cmkuc3Vic3RyKGkrMSkpOwoKICAgIC8vIG5vdyB1c2UgYW5jaG9yIGFzIFhNTCBJRCB0byBmaW5kIHRhcmdldAogICAgdmFyIHRhcmdldCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGFuY2hvcik7CgogICAgaWYgKCF0YXJnZXQpCiAgICB7CiAgICAgIC8vIGRvZXMgYW5jaG9yIGxvb2sgbGlrZSAiKDIpIiBmb3Igc2xpZGUgMiA/PwogICAgICAvLyB3aGVyZSBmaXJzdCBzbGlkZSBpcyAoMSkKICAgICAgdmFyIHJlID0gL1woKFxkKStcKS87CgogICAgICBpZiAoYW5jaG9yLm1hdGNoKHJlKSkKICAgICAgewogICAgICAgIHZhciBudW0gPSBwYXJzZUludChhbmNob3Iuc3Vic3RyaW5nKDEsIGFuY2hvci5sZW5ndGgtMSkpOwoKICAgICAgICBpZiAobnVtID4gdGhpcy5zbGlkZXMubGVuZ3RoKQogICAgICAgICAgbnVtID0gMTsKCiAgICAgICAgaWYgKC0tbnVtIDwgMCkKICAgICAgICAgIG51bSA9IDA7CgogICAgICAgIHJldHVybiBudW07CiAgICAgIH0KCiAgICAgIC8vIGFjY2VwdCBbMl0gZm9yIGJhY2t3YXJkcyBjb21wYXRpYmlsaXR5CiAgICAgIHJlID0gL1xbKFxkKStcXS87CgogICAgICBpZiAoYW5jaG9yLm1hdGNoKHJlKSkKICAgICAgewogICAgICAgICB2YXIgbnVtID0gcGFyc2VJbnQoYW5jaG9yLnN1YnN0cmluZygxLCBhbmNob3IubGVuZ3RoLTEpKTsKCiAgICAgICAgIGlmIChudW0gPiB0aGlzLnNsaWRlcy5sZW5ndGgpCiAgICAgICAgICAgIG51bSA9IDE7CgogICAgICAgICBpZiAoLS1udW0gPCAwKQogICAgICAgICAgICBudW0gPSAwOwoKICAgICAgICAgcmV0dXJuIG51bTsKICAgICAgfQoKICAgICAgLy8gb2ggZGVhciB1bmtub3duIGFuY2hvcgogICAgICByZXR1cm4gMDsKICAgIH0KCiAgICAvLyBzZWFyY2ggZm9yIGVuY2xvc2luZyBzbGlkZQoKICAgIHdoaWxlICh0cnVlKQogICAgewogICAgICAvLyBicm93c2VyIGNvZXJjZXMgaHRtbCBlbGVtZW50cyB0byB1cHBlcmNhc2UhCiAgICAgIGlmICh0YXJnZXQubm9kZU5hbWUudG9Mb3dlckNhc2UoKSA9PSAiZGl2IiAmJgogICAgICAgICAgICB0aGlzLmhhc19jbGFzcyh0YXJnZXQsICJzbGlkZSIpKQogICAgICB7CiAgICAgICAgLy8gZm91bmQgdGhlIHNsaWRlIGVsZW1lbnQKICAgICAgICBicmVhazsKICAgICAgfQoKICAgICAgLy8gb3RoZXJ3aXNlIHRyeSBwYXJlbnQgZWxlbWVudCBpZiBhbnkKCiAgICAgIHRhcmdldCA9IHRhcmdldC5wYXJlbnROb2RlOwoKICAgICAgaWYgKCF0YXJnZXQpCiAgICAgIHsKICAgICAgICByZXR1cm4gMDsgICAvLyBubyBsdWNrIQogICAgICB9CiAgICB9OwoKICAgIGZvciAoaSA9IDA7IGkgPCBzbGlkZXMubGVuZ3RoOyArK2kpCiAgICB7CiAgICAgIGlmIChzbGlkZXNbaV0gPT0gdGFyZ2V0KQogICAgICAgIHJldHVybiBpOyAgLy8gc3VjY2VzcwogICAgfQoKICAgIC8vIG9oIGRlYXIgc3RpbGwgbm8gbHVjawogICAgcmV0dXJuIDA7CiAgfSwKCiAgcHJldmlvdXNfc2xpZGU6IGZ1bmN0aW9uIChpbmNyZW1lbnRhbCkgewogICAgaWYgKCF3M2Nfc2xpZHkudmlld19hbGwpCiAgICB7CiAgICAgIHZhciBzbGlkZTsKCiAgICAgIGlmICgoaW5jcmVtZW50YWwgfHwgdzNjX3NsaWR5LnNsaWRlX251bWJlciA9PSAwKSAmJiB3M2Nfc2xpZHkubGFzdF9zaG93biAhPSBudWxsKQogICAgICB7CiAgICAgICAgdzNjX3NsaWR5Lmxhc3Rfc2hvd24gPSB3M2Nfc2xpZHkuaGlkZV9wcmV2aW91c19pdGVtKHczY19zbGlkeS5sYXN0X3Nob3duKTsKICAgICAgICB3M2Nfc2xpZHkuc2V0X2Vvc19zdGF0dXMoZmFsc2UpOwogICAgICB9CiAgICAgIGVsc2UgaWYgKHczY19zbGlkeS5zbGlkZV9udW1iZXIgPiAwKQogICAgICB7CiAgICAgICAgc2xpZGUgPSB3M2Nfc2xpZHkuc2xpZGVzW3czY19zbGlkeS5zbGlkZV9udW1iZXJdOwogICAgICAgIHczY19zbGlkeS5oaWRlX3NsaWRlKHNsaWRlKTsKCiAgICAgICAgdzNjX3NsaWR5LnNsaWRlX251bWJlciA9IHczY19zbGlkeS5zbGlkZV9udW1iZXIgLSAxOwogICAgICAgIHNsaWRlID0gdzNjX3NsaWR5LnNsaWRlc1t3M2Nfc2xpZHkuc2xpZGVfbnVtYmVyXTsKICAgICAgICB3M2Nfc2xpZHkuc2V0X3Zpc2liaWxpdHlfYWxsX2luY3JlbWVudGFsKCJ2aXNpYmxlIik7CiAgICAgICAgdzNjX3NsaWR5Lmxhc3Rfc2hvd24gPSB3M2Nfc2xpZHkucHJldmlvdXNfaW5jcmVtZW50YWxfaXRlbShudWxsKTsKICAgICAgICB3M2Nfc2xpZHkuc2V0X2Vvc19zdGF0dXModHJ1ZSk7CiAgICAgICAgdzNjX3NsaWR5LnNob3dfc2xpZGUoc2xpZGUpOwogICAgICB9CgogICAgICB3M2Nfc2xpZHkuc2V0X2xvY2F0aW9uKCk7CgogICAgICBpZiAoIXczY19zbGlkeS5uc19wb3MpCiAgICAgICAgdzNjX3NsaWR5LnJlZnJlc2hfdG9vbGJhcigyMDApOwogICAgfQogIH0sCgogIG5leHRfc2xpZGU6IGZ1bmN0aW9uIChpbmNyZW1lbnRhbCkgewogICAgaWYgKCF3M2Nfc2xpZHkudmlld19hbGwpCiAgICB7CiAgICAgIHZhciBzbGlkZSwgbGFzdCA9IHczY19zbGlkeS5sYXN0X3Nob3duOwoKICAgICAgaWYgKGluY3JlbWVudGFsIHx8IHczY19zbGlkeS5zbGlkZV9udW1iZXIgPT0gdzNjX3NsaWR5LnNsaWRlcy5sZW5ndGggLSAxKQogICAgICAgICB3M2Nfc2xpZHkubGFzdF9zaG93biA9IHczY19zbGlkeS5yZXZlYWxfbmV4dF9pdGVtKHczY19zbGlkeS5sYXN0X3Nob3duKTsKCiAgICAgIGlmICgoIWluY3JlbWVudGFsIHx8IHczY19zbGlkeS5sYXN0X3Nob3duID09IG51bGwpICYmCiAgICAgICAgICAgICB3M2Nfc2xpZHkuc2xpZGVfbnVtYmVyIDwgdzNjX3NsaWR5LnNsaWRlcy5sZW5ndGggLSAxKQogICAgICB7CiAgICAgICAgIHNsaWRlID0gdzNjX3NsaWR5LnNsaWRlc1t3M2Nfc2xpZHkuc2xpZGVfbnVtYmVyXTsKICAgICAgICAgdzNjX3NsaWR5LmhpZGVfc2xpZGUoc2xpZGUpOwoKICAgICAgICAgdzNjX3NsaWR5LnNsaWRlX251bWJlciA9IHczY19zbGlkeS5zbGlkZV9udW1iZXIgKyAxOwogICAgICAgICBzbGlkZSA9IHczY19zbGlkeS5zbGlkZXNbdzNjX3NsaWR5LnNsaWRlX251bWJlcl07CiAgICAgICAgIHczY19zbGlkeS5sYXN0X3Nob3duID0gbnVsbDsKICAgICAgICAgdzNjX3NsaWR5LnNldF92aXNpYmlsaXR5X2FsbF9pbmNyZW1lbnRhbCgiaGlkZGVuIik7CiAgICAgICAgIHczY19zbGlkeS5zaG93X3NsaWRlKHNsaWRlKTsKICAgICAgfQogICAgICBlbHNlIGlmICghdzNjX3NsaWR5Lmxhc3Rfc2hvd24pCiAgICAgIHsKICAgICAgICAgaWYgKGxhc3QgJiYgaW5jcmVtZW50YWwpCiAgICAgICAgICAgdzNjX3NsaWR5Lmxhc3Rfc2hvd24gPSBsYXN0OwogICAgICB9CgogICAgICB3M2Nfc2xpZHkuc2V0X2xvY2F0aW9uKCk7CgogICAgICB3M2Nfc2xpZHkuc2V0X2Vvc19zdGF0dXMoIXczY19zbGlkeS5uZXh0X2luY3JlbWVudGFsX2l0ZW0odzNjX3NsaWR5Lmxhc3Rfc2hvd24pKTsKCiAgICAgIGlmICghdzNjX3NsaWR5Lm5zX3BvcykKICAgICAgICAgdzNjX3NsaWR5LnJlZnJlc2hfdG9vbGJhcigyMDApOwogICAgIH0KICB9LAoKICAvLyB0byBmaXJzdCBzbGlkZSB3aXRoIG5vdGhpbmcgcmV2ZWFsZWQKICAvLyBpLmUuIHN0YXRlIGF0IHN0YXJ0IG9mIHByZXNlbnRhdGlvbgogIGZpcnN0X3NsaWRlOiBmdW5jdGlvbiAoKSB7CiAgICAgaWYgKCF3M2Nfc2xpZHkudmlld19hbGwpCiAgICAgewogICAgICAgdmFyIHNsaWRlOwoKICAgICAgIGlmICh3M2Nfc2xpZHkuc2xpZGVfbnVtYmVyICE9IDApCiAgICAgICB7CiAgICAgICAgIHNsaWRlID0gdzNjX3NsaWR5LnNsaWRlc1t3M2Nfc2xpZHkuc2xpZGVfbnVtYmVyXTsKICAgICAgICAgdzNjX3NsaWR5LmhpZGVfc2xpZGUoc2xpZGUpOwoKICAgICAgICAgdzNjX3NsaWR5LnNsaWRlX251bWJlciA9IDA7CiAgICAgICAgIHNsaWRlID0gdzNjX3NsaWR5LnNsaWRlc1t3M2Nfc2xpZHkuc2xpZGVfbnVtYmVyXTsKICAgICAgICAgdzNjX3NsaWR5Lmxhc3Rfc2hvd24gPSBudWxsOwogICAgICAgICB3M2Nfc2xpZHkuc2V0X3Zpc2liaWxpdHlfYWxsX2luY3JlbWVudGFsKCJoaWRkZW4iKTsKICAgICAgICAgdzNjX3NsaWR5LnNob3dfc2xpZGUoc2xpZGUpOwogICAgICAgfQoKICAgICAgIHczY19zbGlkeS5zZXRfZW9zX3N0YXR1cygKICAgICAgICAgIXczY19zbGlkeS5uZXh0X2luY3JlbWVudGFsX2l0ZW0odzNjX3NsaWR5Lmxhc3Rfc2hvd24pKTsKICAgICAgIHczY19zbGlkeS5zZXRfbG9jYXRpb24oKTsKICAgICB9CiAgfSwKCiAgLy8gZ290byBsYXN0IHNsaWRlIHdpdGggZXZlcnl0aGluZyByZXZlYWxlZAogIC8vIGkuZS4gc3RhdGUgYXQgZW5kIG9mIHByZXNlbnRhdGlvbgogIGxhc3Rfc2xpZGU6IGZ1bmN0aW9uICgpIHsKICAgIGlmICghdzNjX3NsaWR5LnZpZXdfYWxsKQogICAgewogICAgICB2YXIgc2xpZGU7CgogICAgICB3M2Nfc2xpZHkubGFzdF9zaG93biA9IG51bGw7IC8vcmV2ZWFsTmV4dEl0ZW0obGFzdFNob3duKTsKCiAgICAgIGlmICh3M2Nfc2xpZHkubGFzdF9zaG93biA9PSBudWxsICYmCiAgICAgICAgICB3M2Nfc2xpZHkuc2xpZGVfbnVtYmVyIDwgdzNjX3NsaWR5LnNsaWRlcy5sZW5ndGggLSAxKQogICAgICB7CiAgICAgICAgIHNsaWRlID0gdzNjX3NsaWR5LnNsaWRlc1t3M2Nfc2xpZHkuc2xpZGVfbnVtYmVyXTsKICAgICAgICAgdzNjX3NsaWR5LmhpZGVfc2xpZGUoc2xpZGUpOwogICAgICAgICB3M2Nfc2xpZHkuc2xpZGVfbnVtYmVyID0gdzNjX3NsaWR5LnNsaWRlcy5sZW5ndGggLSAxOwogICAgICAgICBzbGlkZSA9IHczY19zbGlkeS5zbGlkZXNbdzNjX3NsaWR5LnNsaWRlX251bWJlcl07CiAgICAgICAgIHczY19zbGlkeS5zZXRfdmlzaWJpbGl0eV9hbGxfaW5jcmVtZW50YWwoInZpc2libGUiKTsKICAgICAgICAgdzNjX3NsaWR5Lmxhc3Rfc2hvd24gPSB3M2Nfc2xpZHkucHJldmlvdXNfaW5jcmVtZW50YWxfaXRlbShudWxsKTsKCiAgICAgICAgIHczY19zbGlkeS5zaG93X3NsaWRlKHNsaWRlKTsKICAgICAgfQogICAgICBlbHNlCiAgICAgIHsKICAgICAgICAgdzNjX3NsaWR5LnNldF92aXNpYmlsaXR5X2FsbF9pbmNyZW1lbnRhbCgidmlzaWJsZSIpOwogICAgICAgICB3M2Nfc2xpZHkubGFzdF9zaG93biA9IHczY19zbGlkeS5wcmV2aW91c19pbmNyZW1lbnRhbF9pdGVtKG51bGwpOwogICAgICB9CgogICAgICB3M2Nfc2xpZHkuc2V0X2Vvc19zdGF0dXModHJ1ZSk7CiAgICAgIHczY19zbGlkeS5zZXRfbG9jYXRpb24oKTsKICAgIH0KICB9LAoKCiAgLy8gIyMjIGNoZWNrIHRoaXMgYW5kIGNvbnNpZGVyIGFkZC9yZW1vdmUgY2xhc3MKICBzZXRfZW9zX3N0YXR1czogZnVuY3Rpb24gKHN0YXRlKSB7CiAgICBpZiAodGhpcy5lb3MpCiAgICAgIHRoaXMuZW9zLnN0eWxlLmNvbG9yID0gKHN0YXRlID8gInJnYigyNDAsMjQwLDI0MCkiIDogInJlZCIpOwogIH0sCgogIC8vIGZpcnN0IHNsaWRlIGlzIDAKICBnb3RvX3NsaWRlOiBmdW5jdGlvbiAobnVtKSB7CiAgICAvL2FsZXJ0KCJnb2luZyB0byBzbGlkZSAiICsgKG51bSsxKSk7CiAgICB2YXIgc2xpZGUgPSB3M2Nfc2xpZHkuc2xpZGVzW3czY19zbGlkeS5zbGlkZV9udW1iZXJdOwogICAgdzNjX3NsaWR5LmhpZGVfc2xpZGUoc2xpZGUpOwogICAgdzNjX3NsaWR5LnNsaWRlX251bWJlciA9IG51bTsKICAgIHNsaWRlID0gdzNjX3NsaWR5LnNsaWRlc1t3M2Nfc2xpZHkuc2xpZGVfbnVtYmVyXTsKICAgIHczY19zbGlkeS5sYXN0X3Nob3duID0gbnVsbDsKICAgIHczY19zbGlkeS5zZXRfdmlzaWJpbGl0eV9hbGxfaW5jcmVtZW50YWwoImhpZGRlbiIpOwogICAgdzNjX3NsaWR5LnNldF9lb3Nfc3RhdHVzKCF3M2Nfc2xpZHkubmV4dF9pbmNyZW1lbnRhbF9pdGVtKHczY19zbGlkeS5sYXN0X3Nob3duKSk7CiAgICBkb2N1bWVudC50aXRsZSA9IHczY19zbGlkeS50aXRsZSArICIgKCIgKyAodzNjX3NsaWR5LnNsaWRlX251bWJlcisxKSArICIpIjsKICAgIHczY19zbGlkeS5zaG93X3NsaWRlKHNsaWRlKTsKICAgIHczY19zbGlkeS5zaG93X3NsaWRlX251bWJlcigpOwogIH0sCgoKICBzaG93X3NsaWRlOiBmdW5jdGlvbiAoc2xpZGUpIHsKICAgIHRoaXMuc3luY19iYWNrZ3JvdW5kKHNsaWRlKTsKICAgIHRoaXMucmVtb3ZlX2NsYXNzKHNsaWRlLCAiaGlkZGVuIik7CgogICAgLy8gd29yayBhcm91bmQgSUU5IG9iamVjdCByZW5kZXJpbmcgYnVnCiAgICBzZXRUaW1lb3V0KCJ3aW5kb3cuc2Nyb2xsVG8oMCwwKTsiLCAxKTsKICB9LAoKICBoaWRlX3NsaWRlOiBmdW5jdGlvbiAoc2xpZGUpIHsKICAgIHRoaXMuYWRkX2NsYXNzKHNsaWRlLCAiaGlkZGVuIik7CiAgfSwKCiAgc2V0X2ZvY3VzOiBmdW5jdGlvbiAoZWxlbWVudCkKICB7CiAgICBpZiAoZWxlbWVudCkKICAgICAgZWxlbWVudC5mb2N1cygpOwogICAgZWxzZQogICAgewogICAgICB3M2Nfc2xpZHkuaGVscF9hbmNob3IuZm9jdXMoKTsKCiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7CiAgICAgICAgdzNjX3NsaWR5LmhlbHBfYW5jaG9yLmJsdXIoKTsKICAgICAgfSwgMSk7CiAgICB9CiAgfSwKCiAgLy8gc2hvdyBqdXN0IHRoZSBiYWNrZ3JvdW5kcyBwZXJ0aW5lbnQgdG8gdGhpcyBzbGlkZQogIC8vIHdoZW4gc2xpZGUgYmFja2dyb3VuZC1jb2xvciBpcyB0cmFuc3BhcmVudAogIC8vIHRoaXMgc2hvdWxkIG5vdyB3b3JrIHdpdGggcmdiYSBjb2xvciB2YWx1ZXMKICBzeW5jX2JhY2tncm91bmQ6IGZ1bmN0aW9uIChzbGlkZSkgewogICAgdmFyIGJhY2tncm91bmQ7CiAgICB2YXIgYmdDb2xvcjsKCiAgICBpZiAoc2xpZGUuY3VycmVudFN0eWxlKQogICAgICBiZ0NvbG9yID0gc2xpZGUuY3VycmVudFN0eWxlWyJiYWNrZ3JvdW5kQ29sb3IiXTsKICAgIGVsc2UgaWYgKGRvY3VtZW50LmRlZmF1bHRWaWV3KQogICAgewogICAgICB2YXIgc3R5bGVzID0gZG9jdW1lbnQuZGVmYXVsdFZpZXcuZ2V0Q29tcHV0ZWRTdHlsZShzbGlkZSxudWxsKTsKCiAgICAgIGlmIChzdHlsZXMpCiAgICAgICAgYmdDb2xvciA9IHN0eWxlcy5nZXRQcm9wZXJ0eVZhbHVlKCJiYWNrZ3JvdW5kLWNvbG9yIik7CiAgICAgIGVsc2UgLy8gYnJva2VuIGltcGxlbWVudGF0aW9uIHByb2JhYmx5IGR1ZSBTYWZhcmkgb3IgS29ucXVlcm9yCiAgICAgIHsKICAgICAgICAvL2FsZXJ0KCJkZWZlY3RpdmUgaW1wbGVtZW50YXRpb24gb2YgZ2V0Q29tcHV0ZWRTdHlsZSgpIik7CiAgICAgICAgYmdDb2xvciA9ICJ0cmFuc3BhcmVudCI7CiAgICAgIH0KICAgIH0KICAgIGVsc2UKICAgICAgYmdDb2xvciA9PSAidHJhbnNwYXJlbnQiOwoKICAgIGlmIChiZ0NvbG9yID09ICJ0cmFuc3BhcmVudCIgfHwKICAgICAgICBiZ0NvbG9yLmluZGV4T2YoInJnYmEiKSA+PSAwIHx8CiAgICAgICAgYmdDb2xvci5pbmRleE9mKCJvcGFjaXR5IikgPj0gMCkKICAgIHsKICAgICAgdmFyIHNsaWRlQ2xhc3MgPSB0aGlzLmdldF9jbGFzc19saXN0KHNsaWRlKTsKCiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5iYWNrZ3JvdW5kcy5sZW5ndGg7IGkrKykKICAgICAgewogICAgICAgIGJhY2tncm91bmQgPSB0aGlzLmJhY2tncm91bmRzW2ldOwoKICAgICAgICB2YXIgYmdDbGFzcyA9IHRoaXMuZ2V0X2NsYXNzX2xpc3QoYmFja2dyb3VuZCk7CgogICAgICAgIGlmICh0aGlzLm1hdGNoaW5nX2JhY2tncm91bmQoc2xpZGVDbGFzcywgYmdDbGFzcykpCiAgICAgICAgICB0aGlzLnJlbW92ZV9jbGFzcyhiYWNrZ3JvdW5kLCAiaGlkZGVuIik7CiAgICAgICAgZWxzZQogICAgICAgICAgdGhpcy5hZGRfY2xhc3MoYmFja2dyb3VuZCwgImhpZGRlbiIpOwogICAgICB9CiAgICB9CiAgICBlbHNlIC8vIGZvcmNpYmx5IGhpZGUgYWxsIGJhY2tncm91bmRzCiAgICAgIHRoaXMuaGlkZV9iYWNrZ3JvdW5kcygpOwogIH0sCgogIGhpZGVfYmFja2dyb3VuZHM6IGZ1bmN0aW9uICgpIHsKICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5iYWNrZ3JvdW5kcy5sZW5ndGg7IGkrKykKICAgIHsKICAgICAgYmFja2dyb3VuZCA9IHRoaXMuYmFja2dyb3VuZHNbaV07CiAgICAgIHRoaXMuYWRkX2NsYXNzKGJhY2tncm91bmQsICJoaWRkZW4iKTsKICAgIH0KICB9LAoKICAvLyBjb21wYXJlIGNsYXNzZXMgZm9yIHNsaWRlIGFuZCBiYWNrZ3JvdW5kCiAgbWF0Y2hpbmdfYmFja2dyb3VuZDogZnVuY3Rpb24gKHNsaWRlQ2xhc3MsIGJnQ2xhc3MpIHsKICAgIHZhciBpLCBjb3VudCwgcGF0dGVybiwgcmVzdWx0OwoKICAgIC8vIGRlZmluZSBwYXR0ZXJuIGFzIHJlZ3VsYXIgZXhwcmVzc2lvbgogICAgcGF0dGVybiA9IC9cdysvZzsKCiAgICAvLyBjaGVjayBiYWNrZ3JvdW5kIGNsYXNzIG5hbWVzCiAgICByZXN1bHQgPSBiZ0NsYXNzLm1hdGNoKHBhdHRlcm4pOwoKICAgIGZvciAoaSA9IGNvdW50ID0gMDsgaSA8IHJlc3VsdC5sZW5ndGg7IGkrKykKICAgIHsKICAgICAgaWYgKHJlc3VsdFtpXSA9PSAiaGlkZGVuIikKICAgICAgICBjb250aW51ZTsKCiAgICAgIGlmIChyZXN1bHRbaV0gPT0gImJhY2tncm91bmQiKQoJY29udGludWU7CgogICAgICArK2NvdW50OwogICAgfQoKICAgIGlmIChjb3VudCA9PSAwKSAgLy8gZGVmYXVsdCBtYXRjaAogICAgICByZXR1cm4gdHJ1ZTsKCiAgICAvLyBjaGVjayBmb3IgbWF0Y2hlcyBhbmQgcGxhY2UgcmVzdWx0IGluIGFycmF5CiAgICByZXN1bHQgPSBzbGlkZUNsYXNzLm1hdGNoKHBhdHRlcm4pOwoKICAgIC8vIG5vdyBjaGVjayBpZiBkZXNpcmVkIG5hbWUgaXMgcHJlc2VudCBmb3IgYmFja2dyb3VuZAogICAgZm9yIChpID0gY291bnQgPSAwOyBpIDwgcmVzdWx0Lmxlbmd0aDsgaSsrKQogICAgewogICAgICBpZiAocmVzdWx0W2ldID09ICJoaWRkZW4iKQogICAgICAgIGNvbnRpbnVlOwoKICAgICAgaWYgKHRoaXMuaGFzX3Rva2VuKGJnQ2xhc3MsIHJlc3VsdFtpXSkpCiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgcmV0dXJuIGZhbHNlOwogIH0sCgogIHJlc2l6ZWQ6IGZ1bmN0aW9uICgpIHsKICAgICB2YXIgd2lkdGggPSAwOwoKICAgICBpZiAoIHR5cGVvZiggd2luZG93LmlubmVyV2lkdGggKSA9PSAnbnVtYmVyJyApCiAgICAgICB3aWR0aCA9IHdpbmRvdy5pbm5lcldpZHRoOyAgLy8gTm9uIElFIGJyb3dzZXIKICAgICBlbHNlIGlmIChkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQgJiYgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudFdpZHRoKQogICAgICAgd2lkdGggPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50V2lkdGg7ICAvLyBJRTYKICAgICBlbHNlIGlmIChkb2N1bWVudC5ib2R5ICYmIGRvY3VtZW50LmJvZHkuY2xpZW50V2lkdGgpCiAgICAgICB3aWR0aCA9IGRvY3VtZW50LmJvZHkuY2xpZW50V2lkdGg7IC8vIElFNAoKICAgICB2YXIgaGVpZ2h0ID0gMDsKCiAgICAgaWYgKCB0eXBlb2YoIHdpbmRvdy5pbm5lckhlaWdodCApID09ICdudW1iZXInICkKICAgICAgIGhlaWdodCA9IHdpbmRvdy5pbm5lckhlaWdodDsgIC8vIE5vbiBJRSBicm93c2VyCiAgICAgZWxzZSBpZiAoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50ICYmIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQpCiAgICAgICBoZWlnaHQgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0OyAgLy8gSUU2CiAgICAgZWxzZSBpZiAoZG9jdW1lbnQuYm9keSAmJiBkb2N1bWVudC5ib2R5LmNsaWVudEhlaWdodCkKICAgICAgIGhlaWdodCA9IGRvY3VtZW50LmJvZHkuY2xpZW50SGVpZ2h0OyAvLyBJRTQKCiAgICAgaWYgKGhlaWdodCAmJiAod2lkdGgvaGVpZ2h0ID4gMS4wNSoxMDI0Lzc2OCkpCiAgICAgewogICAgICAgd2lkdGggPSBoZWlnaHQgKiAxMDI0LjAvNzY4OwogICAgIH0KCiAgICAgLy8gSUUgZmlyZXMgb25yZXNpemUgZXZlbiB3aGVuIG9ubHkgZm9udCBzaXplIGlzIGNoYW5nZWQhCiAgICAgLy8gc28gd2UgZG8gYSBjaGVjayB0byBhdm9pZCBibG9ja2luZyA8IGFuZCA+IGFjdGlvbnMKICAgICBpZiAod2lkdGggIT0gdzNjX3NsaWR5Lmxhc3Rfd2lkdGggfHwgaGVpZ2h0ICE9IHczY19zbGlkeS5sYXN0X2hlaWdodCkKICAgICB7CiAgICAgICBpZiAod2lkdGggPj0gMTEwMCkKICAgICAgICAgdzNjX3NsaWR5LnNpemVfaW5kZXggPSA1OyAgICAvLyA0CiAgICAgICBlbHNlIGlmICh3aWR0aCA+PSAxMDAwKQogICAgICAgICB3M2Nfc2xpZHkuc2l6ZV9pbmRleCA9IDQ7ICAgIC8vIDMKICAgICAgIGVsc2UgaWYgKHdpZHRoID49IDgwMCkKICAgICAgICAgdzNjX3NsaWR5LnNpemVfaW5kZXggPSAzOyAgICAvLyAyCiAgICAgICBlbHNlIGlmICh3aWR0aCA+PSA2MDApCiAgICAgICAgIHczY19zbGlkeS5zaXplX2luZGV4ID0gMjsgICAgLy8gMQogICAgICAgZWxzZSBpZiAod2lkdGgpCiAgICAgICAgIHczY19zbGlkeS5zaXplX2luZGV4ID0gMDsKCiAgICAgICAvLyBhZGQgaW4gZm9udCBzaXplIGFkanVzdG1lbnQgZnJvbSBtZXRhIGVsZW1lbnQgZS5nLgogICAgICAgLy8gPG1ldGEgbmFtZT0iZm9udC1zaXplLWFkanVzdG1lbnQiIGNvbnRlbnQ9Ii0yIiAvPgogICAgICAgLy8gdXNlZnVsIHdoZW4gc2xpZGVzIGhhdmUgdG9vIG11Y2ggY29udGVudCA7LSkKCiAgICAgICBpZiAoMCA8PSB3M2Nfc2xpZHkuc2l6ZV9pbmRleCArIHczY19zbGlkeS5zaXplX2FkanVzdG1lbnQgJiYKICAgICAgICAgICAgIHczY19zbGlkeS5zaXplX2luZGV4ICsgdzNjX3NsaWR5LnNpemVfYWRqdXN0bWVudCA8IHczY19zbGlkeS5zaXplcy5sZW5ndGgpCiAgICAgICAgIHczY19zbGlkeS5zaXplX2luZGV4ID0gdzNjX3NsaWR5LnNpemVfaW5kZXggKyB3M2Nfc2xpZHkuc2l6ZV9hZGp1c3RtZW50OwoKICAgICAgIC8vIGVuYWJsZXMgY3Jvc3MgYnJvd3NlciB1c2Ugb2YgcmVsYXRpdmUgd2lkdGgvaGVpZ2h0CiAgICAgICAvLyBvbiBvYmplY3QgZWxlbWVudHMgZm9yIHVzZSB3aXRoIFNWRyBhbmQgRmxhc2ggbWVkaWEKICAgICAgIHczY19zbGlkeS5hZGp1c3Rfb2JqZWN0X2RpbWVuc2lvbnMod2lkdGgsIGhlaWdodCk7CgogICAgICAgaWYgKGRvY3VtZW50LmJvZHkuc3R5bGUuZm9udFNpemUgIT0gdzNjX3NsaWR5LnNpemVzW3czY19zbGlkeS5zaXplX2luZGV4XSkKICAgICAgIHsKICAgICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5mb250U2l6ZSA9IHczY19zbGlkeS5zaXplc1t3M2Nfc2xpZHkuc2l6ZV9pbmRleF07CiAgICAgICB9CgogICAgICAgdzNjX3NsaWR5Lmxhc3Rfd2lkdGggPSB3aWR0aDsKICAgICAgIHczY19zbGlkeS5sYXN0X2hlaWdodCA9IGhlaWdodDsKCiAgICAgICAvLyBmb3JjZSByZWZsb3cgdG8gd29yayBhcm91bmQgTW96aWxsYSBidWcKICAgICAgIGlmICh3M2Nfc2xpZHkubnNfcG9zKQogICAgICAgewogICAgICAgICB2YXIgc2xpZGUgPSB3M2Nfc2xpZHkuc2xpZGVzW3czY19zbGlkeS5zbGlkZV9udW1iZXJdOwogICAgICAgICB3M2Nfc2xpZHkuaGlkZV9zbGlkZShzbGlkZSk7CiAgICAgICAgIHczY19zbGlkeS5zaG93X3NsaWRlKHNsaWRlKTsKICAgICAgIH0KCiAgICAgICAvLyBmb3JjZSBjb3JyZWN0IHBvc2l0aW9uaW5nIG9mIHRvb2xiYXIKICAgICAgIHczY19zbGlkeS5yZWZyZXNoX3Rvb2xiYXIoMjAwKTsKICAgICB9CiAgfSwKCiAgc2Nyb2xsZWQ6IGZ1bmN0aW9uICgpIHsKICAgIGlmICh3M2Nfc2xpZHkudG9vbGJhciAmJiAhdzNjX3NsaWR5Lm5zX3BvcyAmJiAhdzNjX3NsaWR5LmllNykKICAgIHsKICAgICAgdzNjX3NsaWR5LmhhY2tfb2Zmc2V0ID0gdzNjX3NsaWR5LnNjcm9sbF94X29mZnNldCgpOwogICAgICAvLyBoaWRlIHRvb2xiYXIKICAgICAgdzNjX3NsaWR5LnRvb2xiYXIuc3R5bGUuZGlzcGxheSA9ICJub25lIjsKCiAgICAgIC8vIG1ha2UgaXQgcmVhcHBlYXIgbGF0ZXIKICAgICAgaWYgKHczY19zbGlkeS5zY3JvbGxoYWNrID09IDAgJiYgIXczY19zbGlkeS52aWV3X2FsbCkKICAgICAgewogICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge3czY19zbGlkeS5zaG93X3Rvb2xiYXIoKTsgfSwgMTAwMCk7CiAgICAgICAgdzNjX3NsaWR5LnNjcm9sbGhhY2sgPSAxOwogICAgICB9CiAgICB9CiAgfSwKCiAgaGlkZV90b29sYmFyOiBmdW5jdGlvbiAoKSB7CiAgICB3M2Nfc2xpZHkuYWRkX2NsYXNzKHczY19zbGlkeS50b29sYmFyLCAiaGlkZGVuIik7CiAgICB3aW5kb3cuZm9jdXMoKTsKICB9LAoKICAvLyB1c2VkIHRvIGVuc3VyZSBJRSByZWZyZXNoZXMgdG9vbGJhciBpbiBjb3JyZWN0IHBvc2l0aW9uCiAgcmVmcmVzaF90b29sYmFyOiBmdW5jdGlvbiAoaW50ZXJ2YWwpIHsKICAgIGlmICghdzNjX3NsaWR5Lm5zX3BvcyAmJiAhdzNjX3NsaWR5LmllNykKICAgIHsKICAgICAgdzNjX3NsaWR5LmhpZGVfdG9vbGJhcigpOwogICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHt3M2Nfc2xpZHkuc2hvd190b29sYmFyKCk7fSwgaW50ZXJ2YWwpOwogICAgfQogIH0sCgogIC8vIHJlc3RvcmVzIHRvb2xiYXIgYWZ0ZXIgc2hvcnQgZGVsYXkKICBzaG93X3Rvb2xiYXI6IGZ1bmN0aW9uICgpIHsKICAgIGlmICh3M2Nfc2xpZHkud2FudF90b29sYmFyKQogICAgewogICAgICB3M2Nfc2xpZHkudG9vbGJhci5zdHlsZS5kaXNwbGF5ID0gImJsb2NrIjsKCiAgICAgIGlmICghdzNjX3NsaWR5Lm5zX3BvcykKICAgICAgewogICAgICAgIC8vIGFkanVzdCBwb3NpdGlvbiB0byBhbGxvdyBmb3Igc2Nyb2xsaW5nCiAgICAgICAgdmFyIHhvZmZzZXQgPSB3M2Nfc2xpZHkuc2Nyb2xsX3hfb2Zmc2V0KCk7CiAgICAgICAgdzNjX3NsaWR5LnRvb2xiYXIuc3R5bGUubGVmdCA9IHhvZmZzZXQ7CiAgICAgICAgdzNjX3NsaWR5LnRvb2xiYXIuc3R5bGUucmlnaHQgPSB4b2Zmc2V0OwoKICAgICAgICAvLyBkZXRlcm1pbmUgdmVydGljYWwgc2Nyb2xsIG9mZnNldAogICAgICAgIC8vdmFyIHlvZmZzZXQgPSBzY3JvbGxZT2Zmc2V0KCk7CgogICAgICAgIC8vIGJvdHRvbSBpcyBkb2MgaGVpZ2h0IC0gd2luZG93IGhlaWdodCAtIHNjcm9sbCBvZmZzZXQKICAgICAgICAvL3ZhciBib3R0b20gPSBkb2N1bWVudEhlaWdodCgpIC0gbGFzdEhlaWdodCAtIHlvZmZzZXQKCiAgICAgICAgLy9pZiAoeW9mZnNldCA+IDAgfHwgZG9jdW1lbnRIZWlnaHQoKSA+IGxhc3RIZWlnaHQpCiAgICAgICAgLy8gICBib3R0b20gKz0gMTY7ICAvLyBhbGxvdyBmb3IgaGVpZ2h0IG9mIHNjcm9sbGJhcgoKICAgICAgICB3M2Nfc2xpZHkudG9vbGJhci5zdHlsZS5ib3R0b20gPSAwOyAvL2JvdHRvbTsKICAgICAgfQoKICAgICAgdzNjX3NsaWR5LnJlbW92ZV9jbGFzcyh3M2Nfc2xpZHkudG9vbGJhciwgImhpZGRlbiIpOwogICAgfQoKICAgIHczY19zbGlkeS5zY3JvbGxoYWNrID0gMDsKCgogICAgLy8gc2V0IHRoZSBrZXlib2FyZCBmb2N1cyB0byB0aGUgaGVscCBsaW5rIG9uIHRoZQogICAgLy8gdG9vbGJhciB0byBlbnN1cmUgdGhhdCBkb2N1bWVudCBoYXMgdGhlIGZvY3VzCiAgICAvLyBJRSBkb2Vzbid0IGFsd2F5cyB3b3JrIHdpdGggd2luZG93LmZvY3VzKCkKICAgIC8vIGFuZCB0aGlzIGhhY2sgaGFzIGJlbmVmaXQgb2YgRW50ZXIgZm9yIGhlbHAKCiAgICB0cnkKICAgIHsKICAgICAgaWYgKCF3M2Nfc2xpZHkub3BlcmEpCiAgICAgICAgdzNjX3NsaWR5LnNldF9mb2N1cygpOwogICAgfQogICAgY2F0Y2ggKGUpCiAgICB7CiAgICB9CiAgfSwKCi8vIGludm9rZWQgdmlhIEYga2V5CiAgdG9nZ2xlX3Rvb2xiYXI6IGZ1bmN0aW9uICgpIHsKICAgIGlmICghdzNjX3NsaWR5LnZpZXdfYWxsKQogICAgewogICAgICBpZiAodzNjX3NsaWR5Lmhhc19jbGFzcyh3M2Nfc2xpZHkudG9vbGJhciwgImhpZGRlbiIpKQogICAgICB7CiAgICAgICAgdzNjX3NsaWR5LnJlbW92ZV9jbGFzcyh3M2Nfc2xpZHkudG9vbGJhciwgImhpZGRlbiIpCiAgICAgICAgdzNjX3NsaWR5LndhbnRfdG9vbGJhciA9IDE7CiAgICAgIH0KICAgICAgZWxzZQogICAgICB7CiAgICAgICAgdzNjX3NsaWR5LmFkZF9jbGFzcyh3M2Nfc2xpZHkudG9vbGJhciwgImhpZGRlbiIpCiAgICAgICAgdzNjX3NsaWR5LndhbnRfdG9vbGJhciA9IDA7CiAgICAgIH0KICAgIH0KICB9LAoKICBzY3JvbGxfeF9vZmZzZXQ6IGZ1bmN0aW9uICgpIHsKICAgIGlmICh3aW5kb3cucGFnZVhPZmZzZXQpCiAgICAgIHJldHVybiBzZWxmLnBhZ2VYT2Zmc2V0OwoKICAgIGlmIChkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQgJiYgCiAgICAgICAgICAgICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsTGVmdCkKICAgICAgcmV0dXJuIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxMZWZ0OwoKICAgIGlmIChkb2N1bWVudC5ib2R5KQogICAgICByZXR1cm4gZG9jdW1lbnQuYm9keS5zY3JvbGxMZWZ0OwoKICAgIHJldHVybiAwOwogIH0sCgogIHNjcm9sbF95X29mZnNldDogZnVuY3Rpb24gKCkgewogICAgaWYgKHdpbmRvdy5wYWdlWU9mZnNldCkKICAgICAgcmV0dXJuIHNlbGYucGFnZVlPZmZzZXQ7CgogICAgaWYgKGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCAmJiAKICAgICAgICAgICAgIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3ApCiAgICAgIHJldHVybiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wOwoKICAgIGlmIChkb2N1bWVudC5ib2R5KQogICAgICByZXR1cm4gZG9jdW1lbnQuYm9keS5zY3JvbGxUb3A7CgogICAgcmV0dXJuIDA7CiAgfSwKCiAgLy8gbG9va2luZyBmb3IgYSB3YXkgdG8gZGV0ZXJtaW5lIGhlaWdodCBvZiBzbGlkZSBjb250ZW50CiAgLy8gdGhlIHNsaWRlIGl0c2VsZiBpcyBzZXQgdG8gdGhlIGhlaWdodCBvZiB0aGUgd2luZG93CiAgb3B0aW1pemVfZm9udF9zaXplOiBmdW5jdGlvbiAoKSB7CiAgICB2YXIgc2xpZGUgPSB3M2Nfc2xpZHkuc2xpZGVzW3czY19zbGlkeS5zbGlkZV9udW1iZXJdOwoKICAgIC8vdmFyIGRoID0gZG9jdW1lbnRIZWlnaHQoKTsgLy9nZXREb2NIZWlnaHQoZG9jdW1lbnQpOwogICAgdmFyIGRoID0gc2xpZGUuc2Nyb2xsSGVpZ2h0OwogICAgdmFyIHdoID0gZ2V0V2luZG93SGVpZ2h0KCk7CiAgICB2YXIgdSA9IDEwMCAqIGRoIC8gd2g7CgogICAgYWxlcnQoIndpbmRvdyB1dGlsaXphdGlvbiA9ICIgKyB1ICsgIiUgKGRvYyAiCiAgICAgICsgZGggKyAiIHdpbiAiICsgd2ggKyAiKSIpOwogIH0sCgogIC8vIGZyb20gZG9jdW1lbnQgb2JqZWN0CiAgZ2V0X2RvY19oZWlnaHQ6IGZ1bmN0aW9uIChkb2MpIHsKICAgIGlmICghZG9jKQogICAgICBkb2MgPSBkb2N1bWVudDsKCiAgICBpZiAoZG9jICYmIGRvYy5ib2R5ICYmIGRvYy5ib2R5Lm9mZnNldEhlaWdodCkKICAgICAgcmV0dXJuIGRvYy5ib2R5Lm9mZnNldEhlaWdodDsgIC8vIG5zL2dlY2tvIHN5bnRheAoKICAgIGlmIChkb2MgJiYgZG9jLmJvZHkgJiYgZG9jLmJvZHkuc2Nyb2xsSGVpZ2h0KQogICAgICByZXR1cm4gZG9jLmJvZHkuc2Nyb2xsSGVpZ2h0OwoKICAgIGFsZXJ0KCJjb3VsZG4ndCBkZXRlcm1pbmUgZG9jdW1lbnQgaGVpZ2h0Iik7CiAgfSwKCiAgZ2V0X3dpbmRvd19oZWlnaHQ6IGZ1bmN0aW9uICgpIHsKICAgIGlmICggdHlwZW9mKCB3aW5kb3cuaW5uZXJIZWlnaHQgKSA9PSAnbnVtYmVyJyApCiAgICAgIHJldHVybiB3aW5kb3cuaW5uZXJIZWlnaHQ7ICAvLyBOb24gSUUgYnJvd3NlcgoKICAgIGlmIChkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQgJiYgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodCkKICAgICAgcmV0dXJuIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQ7ICAvLyBJRTYKCiAgICBpZiAoZG9jdW1lbnQuYm9keSAmJiBkb2N1bWVudC5ib2R5LmNsaWVudEhlaWdodCkKICAgICAgcmV0dXJuIGRvY3VtZW50LmJvZHkuY2xpZW50SGVpZ2h0OyAvLyBJRTQKICB9LAoKICBkb2N1bWVudF9oZWlnaHQ6IGZ1bmN0aW9uICgpIHsKICAgIHZhciBzaCwgb2g7CgogICAgc2ggPSBkb2N1bWVudC5ib2R5LnNjcm9sbEhlaWdodDsKICAgIG9oID0gZG9jdW1lbnQuYm9keS5vZmZzZXRIZWlnaHQ7CgogICAgaWYgKHNoICYmIG9oKQogICAgewogICAgICByZXR1cm4gKHNoID4gb2ggPyBzaCA6IG9oKTsKICAgIH0KCiAgICAvLyBubyBpZGVhIQogICAgcmV0dXJuIDA7CiAgfSwKCiAgc21hbGxlcjogZnVuY3Rpb24gKCkgewogICAgaWYgKHczY19zbGlkeS5zaXplX2luZGV4ID4gMCkKICAgIHsKICAgICAgLS13M2Nfc2xpZHkuc2l6ZV9pbmRleDsKICAgIH0KCiAgICB3M2Nfc2xpZHkudG9vbGJhci5zdHlsZS5kaXNwbGF5ID0gIm5vbmUiOwogICAgZG9jdW1lbnQuYm9keS5zdHlsZS5mb250U2l6ZSA9IHczY19zbGlkeS5zaXplc1t3M2Nfc2xpZHkuc2l6ZV9pbmRleF07CiAgICB2YXIgc2xpZGUgPSB3M2Nfc2xpZHkuc2xpZGVzW3czY19zbGlkeS5zbGlkZV9udW1iZXJdOwogICAgdzNjX3NsaWR5LmhpZGVfc2xpZGUoc2xpZGUpOwogICAgdzNjX3NsaWR5LnNob3dfc2xpZGUoc2xpZGUpOwogICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7dzNjX3NsaWR5LnNob3dfdG9vbGJhcigpOyB9LCA1MCk7CiAgfSwKCiAgYmlnZ2VyOiBmdW5jdGlvbiAoKSB7CiAgICBpZiAodzNjX3NsaWR5LnNpemVfaW5kZXggPCB3M2Nfc2xpZHkuc2l6ZXMubGVuZ3RoIC0gMSkKICAgIHsKICAgICAgKyt3M2Nfc2xpZHkuc2l6ZV9pbmRleDsKICAgIH0KCiAgICB3M2Nfc2xpZHkudG9vbGJhci5zdHlsZS5kaXNwbGF5ID0gIm5vbmUiOwogICAgZG9jdW1lbnQuYm9keS5zdHlsZS5mb250U2l6ZSA9IHczY19zbGlkeS5zaXplc1t3M2Nfc2xpZHkuc2l6ZV9pbmRleF07CiAgICB2YXIgc2xpZGUgPSB3M2Nfc2xpZHkuc2xpZGVzW3czY19zbGlkeS5zbGlkZV9udW1iZXJdOwogICAgdzNjX3NsaWR5LmhpZGVfc2xpZGUoc2xpZGUpOwogICAgdzNjX3NsaWR5LnNob3dfc2xpZGUoc2xpZGUpOwogICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7dzNjX3NsaWR5LnNob3dfdG9vbGJhcigpOyB9LCA1MCk7CiAgfSwKCiAgLy8gZW5hYmxlcyBjcm9zcyBicm93c2VyIHVzZSBvZiByZWxhdGl2ZSB3aWR0aC9oZWlnaHQKICAvLyBvbiBvYmplY3QgZWxlbWVudHMgZm9yIHVzZSB3aXRoIFNWRyBhbmQgRmxhc2ggbWVkaWEKICAvLyB3aXRoIHRoYW5rcyB0byBJdmFuIEhlcm1hbiBmb3IgdGhlIHN1Z2dlc3Rpb24KICBhZGp1c3Rfb2JqZWN0X2RpbWVuc2lvbnM6IGZ1bmN0aW9uICh3aWR0aCwgaGVpZ2h0KSB7CiAgICBmb3IoIHZhciBpID0gMDsgaSA8IHczY19zbGlkeS5vYmplY3RzLmxlbmd0aDsgaSsrICkKICAgIHsKICAgICAgdmFyIG9iaiA9IHRoaXMub2JqZWN0c1tpXTsKICAgICAgdmFyIG1pbWVUeXBlID0gb2JqLmdldEF0dHJpYnV0ZSgidHlwZSIpOwoKICAgICAgaWYgKG1pbWVUeXBlID09ICJpbWFnZS9zdmcreG1sIiB8fCBtaW1lVHlwZSA9PSAiYXBwbGljYXRpb24veC1zaG9ja3dhdmUtZmxhc2giKQogICAgICB7CiAgICAgICAgaWYgKCAhb2JqLmluaXRpYWxXaWR0aCApIAogICAgICAgICAgb2JqLmluaXRpYWxXaWR0aCA9IG9iai5nZXRBdHRyaWJ1dGUoIndpZHRoIik7CgogICAgICAgIGlmICggIW9iai5pbml0aWFsSGVpZ2h0ICkgCiAgICAgICAgICBvYmouaW5pdGlhbEhlaWdodCA9IG9iai5nZXRBdHRyaWJ1dGUoImhlaWdodCIpOwoKICAgICAgICBpZiAoIG9iai5pbml0aWFsV2lkdGggJiYgb2JqLmluaXRpYWxXaWR0aC5jaGFyQXQob2JqLmluaXRpYWxXaWR0aC5sZW5ndGgtMSkgPT0gIiUiICkKICAgICAgICB7CiAgICAgICAgICB2YXIgdyA9IHBhcnNlSW50KG9iai5pbml0aWFsV2lkdGguc2xpY2UoMCwgb2JqLmluaXRpYWxXaWR0aC5sZW5ndGgtMSkpOwogICAgICAgICAgdmFyIG5ld1cgPSB3aWR0aCAqICh3LzEwMC4wKTsKICAgICAgICAgIG9iai5zZXRBdHRyaWJ1dGUoIndpZHRoIixuZXdXKTsKICAgICAgICB9CgogICAgICAgIGlmICggb2JqLmluaXRpYWxIZWlnaHQgJiYKICAgICAgICAgICAgIG9iai5pbml0aWFsSGVpZ2h0LmNoYXJBdChvYmouaW5pdGlhbEhlaWdodC5sZW5ndGgtMSkgPT0gIiUiICkKICAgICAgICB7CiAgICAgICAgICB2YXIgaCA9IHBhcnNlSW50KG9iai5pbml0aWFsSGVpZ2h0LnNsaWNlKDAsIG9iai5pbml0aWFsSGVpZ2h0Lmxlbmd0aC0xKSk7CiAgICAgICAgICB2YXIgbmV3SCA9IGhlaWdodCAqIChoLzEwMC4wKTsKICAgICAgICAgIG9iai5zZXRBdHRyaWJ1dGUoImhlaWdodCIsIG5ld0gpOwogICAgICAgIH0KICAgICAgfQogICAgfQogIH0sCgogIC8vIG5lZWRlZCBmb3IgT3BlcmEgdG8gaW5oaWJpdCBkZWZhdWx0IGJlaGF2aW9yCiAgLy8gc2luY2UgT3BlcmEgZGVsaXZlcnMga2V5UHJlc3MgZXZlbiBpZiBrZXlEb3duCiAgLy8gd2FzIGNhbmNlbGxlZAogIGtleV9wcmVzczogZnVuY3Rpb24gKGV2ZW50KSB7CiAgICBpZiAoIWV2ZW50KQogICAgICBldmVudCA9IHdpbmRvdy5ldmVudDsKCiAgICBpZiAoIXczY19zbGlkeS5rZXlfd2FudGVkKQogICAgICByZXR1cm4gdzNjX3NsaWR5LmNhbmNlbChldmVudCk7CgogICAgcmV0dXJuIHRydWU7CiAgfSwKCiAgLy8gIFNlZSBlLmcuIGh0dHA6Ly93d3cucXVpcmtzbW9kZS5vcmcvanMvZXZlbnRzL2tleXMuaHRtbCBmb3Iga2V5Y29kZXMKICBrZXlfZG93bjogZnVuY3Rpb24gKGV2ZW50KSB7CiAgICB2YXIga2V5LCB0YXJnZXQsIHRhZzsKCiAgICB3M2Nfc2xpZHkua2V5X3dhbnRlZCA9IHRydWU7CgogICAgaWYgKCFldmVudCkKICAgICAgZXZlbnQgPSB3aW5kb3cuZXZlbnQ7CgogICAgLy8ga2x1ZGdlIGFyb3VuZCBOUy9JRSBkaWZmZXJlbmNlcyAKICAgIGlmICh3aW5kb3cuZXZlbnQpCiAgICB7CiAgICAgIGtleSA9IHdpbmRvdy5ldmVudC5rZXlDb2RlOwogICAgICB0YXJnZXQgPSB3aW5kb3cuZXZlbnQuc3JjRWxlbWVudDsKICAgIH0KICAgIGVsc2UgaWYgKGV2ZW50LndoaWNoKQogICAgewogICAgICBrZXkgPSBldmVudC53aGljaDsKICAgICAgdGFyZ2V0ID0gZXZlbnQudGFyZ2V0OwogICAgfQogICAgZWxzZQogICAgICByZXR1cm4gdHJ1ZTsgLy8gWWlrZXMhIHVua25vd24gYnJvd3NlcgoKICAgIC8vIGlnbm9yZSBldmVudCBpZiBrZXkgdmFsdWUgaXMgemVybwogICAgLy8gYXMgZm9yIGFsdCBvbiBPcGVyYSBhbmQgS29ucXVlcm9yCiAgICBpZiAoIWtleSkKICAgICAgIHJldHVybiB0cnVlOwoKICAgIC8vIGF2b2lkIGludGVyZmVyaW5nIHdpdGgga2V5c3Ryb2tlCiAgICAvLyBiZWhhdmlvciBmb3Igbm9uLXNsaWR5IGNocm9tZSBlbGVtZW50cwogICAgaWYgKCF3M2Nfc2xpZHkuc2xpZHlfY2hyb21lKHRhcmdldCkgJiYKICAgICAgICB3M2Nfc2xpZHkuc3BlY2lhbF9lbGVtZW50KHRhcmdldCkpCiAgICAgIHJldHVybiB0cnVlOwoKICAgIC8vIGNoZWNrIGZvciBjb25jdXJyZW50IGNvbnRyb2wvY29tbWFuZC9hbHQga2V5CiAgICAvLyBidXQgYXJlIHRoZXNlIG9ubHkgcHJlc2VudCBvbiBtb3VzZSBldmVudHM/CgogICAgaWYgKGV2ZW50LmN0cmxLZXkgfHwgZXZlbnQuYWx0S2V5IHx8IGV2ZW50Lm1ldGFLZXkpCiAgICAgICByZXR1cm4gdHJ1ZTsKCiAgICAvLyBkaXNtaXNzIHRhYmxlIG9mIGNvbnRlbnRzIGlmIHZpc2libGUKICAgIGlmICh3M2Nfc2xpZHkuaXNfc2hvd25fdG9jKCkgJiYga2V5ICE9IDkgJiYga2V5ICE9IDE2ICYmIGtleSAhPSAzOCAmJiBrZXkgIT0gNDApCiAgICB7CiAgICAgIHczY19zbGlkeS5oaWRlX3RhYmxlX29mX2NvbnRlbnRzKHRydWUpOwoKICAgICAgaWYgKGtleSA9PSAyNyB8fCBrZXkgPT0gODQgfHwga2V5ID09IDY3KQogICAgICAgIHJldHVybiB3M2Nfc2xpZHkuY2FuY2VsKGV2ZW50KTsKICAgIH0KCiAgICBpZiAoa2V5ID09IDM0KSAvLyBQYWdlIERvd24KICAgIHsKICAgICAgaWYgKHczY19zbGlkeS52aWV3X2FsbCkKICAgICAgICByZXR1cm4gdHJ1ZTsKCiAgICAgIHczY19zbGlkeS5uZXh0X3NsaWRlKGZhbHNlKTsKICAgICAgcmV0dXJuIHczY19zbGlkeS5jYW5jZWwoZXZlbnQpOwogICAgfQogICAgZWxzZSBpZiAoa2V5ID09IDMzKSAvLyBQYWdlIFVwCiAgICB7CiAgICAgIGlmICh3M2Nfc2xpZHkudmlld19hbGwpCiAgICAgICAgcmV0dXJuIHRydWU7CgogICAgICB3M2Nfc2xpZHkucHJldmlvdXNfc2xpZGUoZmFsc2UpOwogICAgICByZXR1cm4gdzNjX3NsaWR5LmNhbmNlbChldmVudCk7CiAgICB9CiAgICBlbHNlIGlmIChrZXkgPT0gMzIpIC8vIHNwYWNlIGJhcgogICAgewogICAgICB3M2Nfc2xpZHkubmV4dF9zbGlkZSh0cnVlKTsKICAgICAgcmV0dXJuIHczY19zbGlkeS5jYW5jZWwoZXZlbnQpOwogICAgfQogICAgZWxzZSBpZiAoa2V5ID09IDM3KSAvLyBMZWZ0IGFycm93CiAgICB7CiAgICAgIHczY19zbGlkeS5wcmV2aW91c19zbGlkZSghZXZlbnQuc2hpZnRLZXkpOwogICAgICByZXR1cm4gdzNjX3NsaWR5LmNhbmNlbChldmVudCk7CiAgICB9CiAgICBlbHNlIGlmIChrZXkgPT0gMzYpIC8vIEhvbWUKICAgIHsKICAgICAgdzNjX3NsaWR5LmZpcnN0X3NsaWRlKCk7CiAgICAgIHJldHVybiB3M2Nfc2xpZHkuY2FuY2VsKGV2ZW50KTsKICAgIH0KICAgIGVsc2UgaWYgKGtleSA9PSAzNSkgLy8gRW5kCiAgICB7CiAgICAgIHczY19zbGlkeS5sYXN0X3NsaWRlKCk7CiAgICAgIHJldHVybiB3M2Nfc2xpZHkuY2FuY2VsKGV2ZW50KTsKICAgIH0KICAgIGVsc2UgaWYgKGtleSA9PSAzOSkgLy8gUmlnaHQgYXJyb3cKICAgIHsKICAgICAgdzNjX3NsaWR5Lm5leHRfc2xpZGUoIWV2ZW50LnNoaWZ0S2V5KTsKICAgICAgcmV0dXJuIHczY19zbGlkeS5jYW5jZWwoZXZlbnQpOwogICAgfQogICAgZWxzZSBpZiAoa2V5ID09IDEzKSAvLyBFbnRlcgogICAgewogICAgICBpZiAodzNjX3NsaWR5Lm91dGxpbmUpCiAgICAgIHsKICAgICAgICBpZiAodzNjX3NsaWR5Lm91dGxpbmUudmlzaWJsZSkKICAgICAgICAgIHczY19zbGlkeS5mb2xkKHczY19zbGlkeS5vdXRsaW5lKTsKICAgICAgICBlbHNlCiAgICAgICAgICB3M2Nfc2xpZHkudW5mb2xkKHczY19zbGlkeS5vdXRsaW5lKTsKICAgICAgICAgIAogICAgICAgcmV0dXJuIHczY19zbGlkeS5jYW5jZWwoZXZlbnQpOwogICAgICB9CiAgICB9CiAgICBlbHNlIGlmIChrZXkgPT0gMTg4KSAgLy8gPCBmb3Igc21hbGxlciBmb250cwogICAgewogICAgICB3M2Nfc2xpZHkuc21hbGxlcigpOwogICAgICByZXR1cm4gdzNjX3NsaWR5LmNhbmNlbChldmVudCk7CiAgICB9CiAgICBlbHNlIGlmIChrZXkgPT0gMTkwKSAgLy8gPiBmb3IgbGFyZ2VyIGZvbnRzCiAgICB7CiAgICAgIHczY19zbGlkeS5iaWdnZXIoKTsKICAgICAgcmV0dXJuIHczY19zbGlkeS5jYW5jZWwoZXZlbnQpOwogICAgfQogICAgZWxzZSBpZiAoa2V5ID09IDE4OSB8fCBrZXkgPT0gMTA5KSAgLy8gLSBmb3Igc21hbGxlciBmb250cwogICAgewogICAgICB3M2Nfc2xpZHkuc21hbGxlcigpOwogICAgICByZXR1cm4gdzNjX3NsaWR5LmNhbmNlbChldmVudCk7CiAgICB9CiAgICBlbHNlIGlmIChrZXkgPT0gMTg3IHx8IGtleSA9PSAxOTEgfHwga2V5ID09IDEwNykgIC8vID0gKyAgZm9yIGxhcmdlciBmb250cwogICAgewogICAgICB3M2Nfc2xpZHkuYmlnZ2VyKCk7CiAgICAgIHJldHVybiB3M2Nfc2xpZHkuY2FuY2VsKGV2ZW50KTsKICAgIH0KICAgIGVsc2UgaWYgKGtleSA9PSA4MykgIC8vIFMgZm9yIHNtYWxsZXIgZm9udHMKICAgIHsKICAgICAgdzNjX3NsaWR5LnNtYWxsZXIoKTsKICAgICAgcmV0dXJuIHczY19zbGlkeS5jYW5jZWwoZXZlbnQpOwogICAgfQogICAgZWxzZSBpZiAoa2V5ID09IDY2KSAgLy8gQiBmb3IgbGFyZ2VyIGZvbnRzCiAgICB7CiAgICAgIHczY19zbGlkeS5iaWdnZXIoKTsKICAgICAgcmV0dXJuIHczY19zbGlkeS5jYW5jZWwoZXZlbnQpOwogICAgfQogICAgZWxzZSBpZiAoa2V5ID09IDkwKSAgLy8gWiBmb3IgbGFzdCBzbGlkZQogICAgewogICAgICB3M2Nfc2xpZHkubGFzdF9zbGlkZSgpOwogICAgICByZXR1cm4gdzNjX3NsaWR5LmNhbmNlbChldmVudCk7CiAgICB9CiAgICBlbHNlIGlmIChrZXkgPT0gNzApICAvLyBGIGZvciB0b2dnbGUgdG9vbGJhcgogICAgewogICAgICB3M2Nfc2xpZHkudG9nZ2xlX3Rvb2xiYXIoKTsKICAgICAgcmV0dXJuIHczY19zbGlkeS5jYW5jZWwoZXZlbnQpOwogICAgfQogICAgZWxzZSBpZiAoa2V5ID09IDY1KSAgLy8gQSBmb3IgdG9nZ2xlIHZpZXcgc2luZ2xlL2FsbCBzbGlkZXMKICAgIHsKICAgICAgdzNjX3NsaWR5LnRvZ2dsZV92aWV3KCk7CiAgICAgIHJldHVybiB3M2Nfc2xpZHkuY2FuY2VsKGV2ZW50KTsKICAgIH0KICAgIGVsc2UgaWYgKGtleSA9PSA3NSkgIC8vIHRvZ2dsZSBhY3Rpb24gb2YgbGVmdCBjbGljayBmb3IgbmV4dCBwYWdlCiAgICB7CiAgICAgIHczY19zbGlkeS5tb3VzZV9jbGlja19lbmFibGVkID0gIXczY19zbGlkeS5tb3VzZV9jbGlja19lbmFibGVkOwogICAgICB2YXIgYWxlcnRfbXNnID0gKHczY19zbGlkeS5tb3VzZV9jbGlja19lbmFibGVkID8KICAgICAgICAgICAgICAgICJlbmFibGVkIiA6ICJkaXNhYmxlZCIpICsgICIgbW91c2UgY2xpY2sgYWR2YW5jZSI7CgogICAgICBhbGVydCh3M2Nfc2xpZHkubG9jYWxpemUoYWxlcnRfbXNnKSk7CiAgICAgIHJldHVybiB3M2Nfc2xpZHkuY2FuY2VsKGV2ZW50KTsKICAgIH0KICAgIGVsc2UgaWYgKGtleSA9PSA4NCB8fCBrZXkgPT0gNjcpICAvLyBUIG9yIEMgZm9yIHRhYmxlIG9mIGNvbnRlbnRzCiAgICB7CiAgICAgIGlmICh3M2Nfc2xpZHkudG9jKQogICAgICAgIHczY19zbGlkeS50b2dnbGVfdGFibGVfb2ZfY29udGVudHMoKTsKCiAgICAgIHJldHVybiB3M2Nfc2xpZHkuY2FuY2VsKGV2ZW50KTsKICAgIH0KICAgIGVsc2UgaWYgKGtleSA9PSA3MikgLy8gSCBmb3IgaGVscAogICAgewogICAgICB3aW5kb3cubG9jYXRpb24gPSB3M2Nfc2xpZHkuaGVscF9wYWdlOwogICAgICByZXR1cm4gdzNjX3NsaWR5LmNhbmNlbChldmVudCk7CiAgICB9CiAgICAvL2Vsc2UgYWxlcnQoImtleSBjb2RlIGlzICIrIGtleSk7CgogICAgcmV0dXJuIHRydWU7CiAgfSwKCiAgLy8gc2FmZSBmb3IgYm90aCB0ZXh0L2h0bWwgYW5kIGFwcGxpY2F0aW9uL3hodG1sK3htbAogIGNyZWF0ZV9lbGVtZW50OiBmdW5jdGlvbiAobmFtZSkgewogICAgaWYgKHRoaXMueGh0bWwgJiYgKHR5cGVvZiBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMgIT0gJ3VuZGVmaW5lZCcpKQogICAgICByZXR1cm4gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKCJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIiwgbmFtZSkKCiAgICByZXR1cm4gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChuYW1lKTsKICB9LAoKICBnZXRfZWxlbWVudF9zdHlsZTogZnVuY3Rpb24gKGVsZW0sIElFU3R5bGVQcm9wLCBDU1NTdHlsZVByb3ApIHsKICAgIGlmIChlbGVtLmN1cnJlbnRTdHlsZSkKICAgIHsKICAgICAgcmV0dXJuIGVsZW0uY3VycmVudFN0eWxlW0lFU3R5bGVQcm9wXTsKICAgIH0KICAgIGVsc2UgaWYgKHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKQogICAgewogICAgICB2YXIgY29tcFN0eWxlID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUoZWxlbSwgIiIpOwogICAgICByZXR1cm4gY29tcFN0eWxlLmdldFByb3BlcnR5VmFsdWUoQ1NTU3R5bGVQcm9wKTsKICAgIH0KICAgIHJldHVybiAiIjsKICB9LAoKICAvLyB0aGUgc3RyaW5nIHN0ciBpcyBhIHdoaXRlc3BhY2Ugc2VwYXJhdGVkIGxpc3Qgb2YgdG9rZW5zCiAgLy8gdGVzdCBpZiBzdHIgY29udGFpbnMgYSBwYXJ0aWN1bGFyIHRva2VuLCBlLmcuICJzbGlkZSIKICBoYXNfdG9rZW46IGZ1bmN0aW9uIChzdHIsIHRva2VuKSB7CiAgICBpZiAoc3RyKQogICAgewogICAgICAvLyBkZWZpbmUgcGF0dGVybiBhcyByZWd1bGFyIGV4cHJlc3Npb24KICAgICAgdmFyIHBhdHRlcm4gPSAvXHcrL2c7CgogICAgICAvLyBjaGVjayBmb3IgbWF0Y2hlcwogICAgICAvLyBwbGFjZSByZXN1bHQgaW4gYXJyYXkKICAgICAgdmFyIHJlc3VsdCA9IHN0ci5tYXRjaChwYXR0ZXJuKTsKCiAgICAgIC8vIG5vdyBjaGVjayBpZiBkZXNpcmVkIHRva2VuIGlzIHByZXNlbnQKICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCByZXN1bHQubGVuZ3RoOyBpKyspCiAgICAgIHsKICAgICAgICBpZiAocmVzdWx0W2ldID09IHRva2VuKQogICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgIH0KICAgIH0KCiAgICByZXR1cm4gZmFsc2U7CiAgfSwKCiAgZ2V0X2NsYXNzX2xpc3Q6IGZ1bmN0aW9uIChlbGVtZW50KSB7CiAgICBpZiAodHlwZW9mIGVsZW1lbnQuY2xhc3NOYW1lICE9ICd1bmRlZmluZWQnKQogICAgICByZXR1cm4gZWxlbWVudC5jbGFzc05hbWU7CgogICAgcmV0dXJuIGVsZW1lbnQuZ2V0QXR0cmlidXRlKCJjbGFzcyIpOwogIH0sCgogIGhhc19jbGFzczogZnVuY3Rpb24gKGVsZW1lbnQsIG5hbWUpIHsKICAgIGlmIChlbGVtZW50Lm5vZGVUeXBlICE9IDEpCiAgICAgIHJldHVybiBmYWxzZTsKCiAgICB2YXIgcmVnZXhwID0gbmV3IFJlZ0V4cCgiKF58ICkiICsgbmFtZSArICJcVyoiKTsKCiAgICBpZiAodHlwZW9mIGVsZW1lbnQuY2xhc3NOYW1lICE9ICd1bmRlZmluZWQnKQogICAgICByZXR1cm4gcmVnZXhwLnRlc3QoZWxlbWVudC5jbGFzc05hbWUpOwoKICAgIHJldHVybiByZWdleHAudGVzdChlbGVtZW50LmdldEF0dHJpYnV0ZSgiY2xhc3MiKSk7CiAgfSwKCiAgcmVtb3ZlX2NsYXNzOiBmdW5jdGlvbiAoZWxlbWVudCwgbmFtZSkgewogICAgdmFyIHJlZ2V4cCA9IG5ldyBSZWdFeHAoIihefCApIiArIG5hbWUgKyAiXFcqIik7CiAgICB2YXIgY2xzdmFsID0gIiI7CgogICAgaWYgKHR5cGVvZiBlbGVtZW50LmNsYXNzTmFtZSAhPSAndW5kZWZpbmVkJykKICAgIHsKICAgICAgY2xzdmFsID0gZWxlbWVudC5jbGFzc05hbWU7CgogICAgICBpZiAoY2xzdmFsKQogICAgICB7CiAgICAgICAgY2xzdmFsID0gY2xzdmFsLnJlcGxhY2UocmVnZXhwLCAiIik7CiAgICAgICAgZWxlbWVudC5jbGFzc05hbWUgPSBjbHN2YWw7CiAgICAgIH0KICAgIH0KICAgIGVsc2UKICAgIHsKICAgICAgY2xzdmFsID0gZWxlbWVudC5nZXRBdHRyaWJ1dGUoImNsYXNzIik7CgogICAgICBpZiAoY2xzdmFsKQogICAgICB7CiAgICAgICAgY2xzdmFsID0gY2xzdmFsLnJlcGxhY2UocmVnZXhwLCAiIik7CiAgICAgICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoImNsYXNzIiwgY2xzdmFsKTsKICAgICAgfQogICAgfQogIH0sCgogIGFkZF9jbGFzczogZnVuY3Rpb24gKGVsZW1lbnQsIG5hbWUpIHsKICAgIGlmICghdGhpcy5oYXNfY2xhc3MoZWxlbWVudCwgbmFtZSkpCiAgICB7CiAgICAgIGlmICh0eXBlb2YgZWxlbWVudC5jbGFzc05hbWUgIT0gJ3VuZGVmaW5lZCcpCiAgICAgICAgZWxlbWVudC5jbGFzc05hbWUgKz0gIiAiICsgbmFtZTsKICAgICAgZWxzZQogICAgICB7CiAgICAgICAgdmFyIGNsc3ZhbCA9IGVsZW1lbnQuZ2V0QXR0cmlidXRlKCJjbGFzcyIpOwogICAgICAgIGNsc3ZhbCA9IGNsc3ZhbCA/IGNsc3ZhbCArICIgIiArIG5hbWUgOiBuYW1lOwogICAgICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlKCJjbGFzcyIsIGNsc3ZhbCk7CiAgICAgIH0KICAgIH0KICB9LAoKICAvLyBIVE1MIGVsZW1lbnRzIHRoYXQgY2FuIGJlIHVzZWQgd2l0aCBjbGFzcz0iaW5jcmVtZW50YWwiCiAgLy8gbm90ZSB0aGF0IHlvdSBjYW4gYWxzbyBwdXQgdGhlIGNsYXNzIG9uIGNvbnRhaW5lcnMgbGlrZQogIC8vIHVwLCBvbCwgZGwsIGFuZCBkaXYgdG8gbWFrZSB0aGVpciBjb250ZW50cyBhcHBlYXIKICAvLyBpbmNyZW1lbnRhbGx5LiBVcHBlciBjYXNlIGlzIHVzZWQgc2luY2UgdGhpcyBpcyB3aGF0CiAgLy8gYnJvd3NlcnMgcmVwb3J0IGZvciBIVE1MIG5vZGUgbmFtZXMgKHRleHQvaHRtbCkuCiAgaW5jcmVtZW50YWxfZWxlbWVudHM6IG51bGwsCiAgb2theV9mb3JfaW5jcmVtZW50YWw6IGZ1bmN0aW9uIChuYW1lKSB7CiAgICBpZiAoIXRoaXMuaW5jcmVtZW50YWxfZWxlbWVudHMpCiAgICB7CiAgICAgIHZhciBpbmNsaXN0ID0gbmV3IEFycmF5KCk7CiAgICAgIGluY2xpc3RbInAiXSA9IHRydWU7CiAgICAgIGluY2xpc3RbInByZSJdID0gdHJ1ZTsKICAgICAgaW5jbGlzdFsibGkiXSA9IHRydWU7CiAgICAgIGluY2xpc3RbImJsb2NrcXVvdGUiXSA9IHRydWU7CiAgICAgIGluY2xpc3RbImR0Il0gPSB0cnVlOwogICAgICBpbmNsaXN0WyJkZCJdID0gdHJ1ZTsKICAgICAgaW5jbGlzdFsiaDIiXSA9IHRydWU7CiAgICAgIGluY2xpc3RbImgzIl0gPSB0cnVlOwogICAgICBpbmNsaXN0WyJoNCJdID0gdHJ1ZTsKICAgICAgaW5jbGlzdFsiaDUiXSA9IHRydWU7CiAgICAgIGluY2xpc3RbImg2Il0gPSB0cnVlOwogICAgICBpbmNsaXN0WyJzcGFuIl0gPSB0cnVlOwogICAgICBpbmNsaXN0WyJhZGRyZXNzIl0gPSB0cnVlOwogICAgICBpbmNsaXN0WyJ0YWJsZSJdID0gdHJ1ZTsKICAgICAgaW5jbGlzdFsidHIiXSA9IHRydWU7CiAgICAgIGluY2xpc3RbInRoIl0gPSB0cnVlOwogICAgICBpbmNsaXN0WyJ0ZCJdID0gdHJ1ZTsKICAgICAgaW5jbGlzdFsiaW1nIl0gPSB0cnVlOwogICAgICBpbmNsaXN0WyJvYmplY3QiXSA9IHRydWU7CiAgICAgIHRoaXMuaW5jcmVtZW50YWxfZWxlbWVudHMgPSBpbmNsaXN0OwogICAgfQogICAgcmV0dXJuIHRoaXMuaW5jcmVtZW50YWxfZWxlbWVudHNbbmFtZS50b0xvd2VyQ2FzZSgpXTsKICB9LAoKICBuZXh0X2luY3JlbWVudGFsX2l0ZW06IGZ1bmN0aW9uIChub2RlKSB7CiAgICB2YXIgYnIgPSB0aGlzLmlzX3hodG1sID8gImJyIiA6ICJCUiI7CiAgICB2YXIgc2xpZGUgPSB3M2Nfc2xpZHkuc2xpZGVzW3czY19zbGlkeS5zbGlkZV9udW1iZXJdOwoKICAgIGZvciAoOzspCiAgICB7CiAgICAgIG5vZGUgPSB3M2Nfc2xpZHkubmV4dF9ub2RlKHNsaWRlLCBub2RlKTsKCiAgICAgIGlmIChub2RlID09IG51bGwgfHwgbm9kZS5wYXJlbnROb2RlID09IG51bGwpCiAgICAgICAgYnJlYWs7CgogICAgICBpZiAobm9kZS5ub2RlVHlwZSA9PSAxKSAgLy8gRUxFTUVOVAogICAgICB7CiAgICAgICAgaWYgKG5vZGUubm9kZU5hbWUgPT0gYnIpCiAgICAgICAgICBjb250aW51ZTsKCiAgICAgICAgaWYgKHczY19zbGlkeS5oYXNfY2xhc3Mobm9kZSwgImluY3JlbWVudGFsIikKICAgICAgICAgICAgICYmIHczY19zbGlkeS5va2F5X2Zvcl9pbmNyZW1lbnRhbChub2RlLm5vZGVOYW1lKSkKICAgICAgICAgIHJldHVybiBub2RlOwoKICAgICAgICBpZiAodzNjX3NsaWR5Lmhhc19jbGFzcyhub2RlLnBhcmVudE5vZGUsICJpbmNyZW1lbnRhbCIpCiAgICAgICAgICAgICAmJiAhdzNjX3NsaWR5Lmhhc19jbGFzcyhub2RlLCAibm9uLWluY3JlbWVudGFsIikpCiAgICAgICAgICByZXR1cm4gbm9kZTsKICAgICAgfQogICAgfQoKICAgIHJldHVybiBub2RlOwogIH0sCgogIHByZXZpb3VzX2luY3JlbWVudGFsX2l0ZW06IGZ1bmN0aW9uIChub2RlKSB7CiAgICB2YXIgYnIgPSB0aGlzLmlzX3hodG1sID8gImJyIiA6ICJCUiI7CiAgICB2YXIgc2xpZGUgPSB3M2Nfc2xpZHkuc2xpZGVzW3czY19zbGlkeS5zbGlkZV9udW1iZXJdOwoKICAgIGZvciAoOzspCiAgICB7CiAgICAgIG5vZGUgPSB3M2Nfc2xpZHkucHJldmlvdXNfbm9kZShzbGlkZSwgbm9kZSk7CgogICAgICBpZiAobm9kZSA9PSBudWxsIHx8IG5vZGUucGFyZW50Tm9kZSA9PSBudWxsKQogICAgICAgIGJyZWFrOwoKICAgICAgaWYgKG5vZGUubm9kZVR5cGUgPT0gMSkKICAgICAgewogICAgICAgIGlmIChub2RlLm5vZGVOYW1lID09IGJyKQogICAgICAgICAgY29udGludWU7CgogICAgICAgIGlmICh3M2Nfc2xpZHkuaGFzX2NsYXNzKG5vZGUsICJpbmNyZW1lbnRhbCIpCiAgICAgICAgICAgICAmJiB3M2Nfc2xpZHkub2theV9mb3JfaW5jcmVtZW50YWwobm9kZS5ub2RlTmFtZSkpCiAgICAgICAgICByZXR1cm4gbm9kZTsKCiAgICAgICAgaWYgKHczY19zbGlkeS5oYXNfY2xhc3Mobm9kZS5wYXJlbnROb2RlLCAiaW5jcmVtZW50YWwiKQogICAgICAgICAgICAgJiYgIXczY19zbGlkeS5oYXNfY2xhc3Mobm9kZSwgIm5vbi1pbmNyZW1lbnRhbCIpKQogICAgICAgICAgcmV0dXJuIG5vZGU7CiAgICAgIH0KICAgIH0KCiAgICByZXR1cm4gbm9kZTsKICB9LAoKICAvLyBzZXQgdmlzaWJpbGl0eSBmb3IgYWxsIGVsZW1lbnRzIG9uIGN1cnJlbnQgc2xpZGUgd2l0aAogIC8vIGEgcGFyZW50IGVsZW1lbnQgd2l0aCBhdHRyaWJ1dGUgY2xhc3M9ImluY3JlbWVudGFsIgogIHNldF92aXNpYmlsaXR5X2FsbF9pbmNyZW1lbnRhbDogZnVuY3Rpb24gKHZhbHVlKSB7CiAgICB2YXIgbm9kZSA9IHRoaXMubmV4dF9pbmNyZW1lbnRhbF9pdGVtKG51bGwpOwoKICAgIGlmICh2YWx1ZSA9PSAiaGlkZGVuIikKICAgIHsKICAgICAgd2hpbGUgKG5vZGUpCiAgICAgIHsKICAgICAgICB3M2Nfc2xpZHkuYWRkX2NsYXNzKG5vZGUsICJpbnZpc2libGUiKTsKICAgICAgICBub2RlID0gdzNjX3NsaWR5Lm5leHRfaW5jcmVtZW50YWxfaXRlbShub2RlKTsKICAgICAgfQogICAgfQogICAgZWxzZSAvLyB2YWx1ZSA9PSAidmlzaWJsZSIKICAgIHsKICAgICAgd2hpbGUgKG5vZGUpCiAgICAgIHsKICAgICAgICB3M2Nfc2xpZHkucmVtb3ZlX2NsYXNzKG5vZGUsICJpbnZpc2libGUiKTsKICAgICAgICBub2RlID0gdzNjX3NsaWR5Lm5leHRfaW5jcmVtZW50YWxfaXRlbShub2RlKTsKICAgICAgfQogICAgfQogIH0sCgogIC8vIHJldmVhbCB0aGUgbmV4dCBoaWRkZW4gaXRlbSBvbiB0aGUgc2xpZGUKICAvLyBub2RlIGlzIG51bGwgb3IgdGhlIG5vZGUgdGhhdCB3YXMgbGFzdCByZXZlYWxlZAogIHJldmVhbF9uZXh0X2l0ZW06IGZ1bmN0aW9uIChub2RlKSB7CiAgICBub2RlID0gdzNjX3NsaWR5Lm5leHRfaW5jcmVtZW50YWxfaXRlbShub2RlKTsKCiAgICBpZiAobm9kZSAmJiBub2RlLm5vZGVUeXBlID09IDEpICAvLyBhbiBlbGVtZW50CiAgICAgIHczY19zbGlkeS5yZW1vdmVfY2xhc3Mobm9kZSwgImludmlzaWJsZSIpOwoKICAgIHJldHVybiBub2RlOwogIH0sCgogIC8vIGV4YWN0IGludmVyc2Ugb2YgcmV2ZWFsTmV4dEl0ZW0obm9kZSkKICBoaWRlX3ByZXZpb3VzX2l0ZW06IGZ1bmN0aW9uIChub2RlKSB7CiAgICBpZiAobm9kZSAmJiBub2RlLm5vZGVUeXBlID09IDEpICAvLyBhbiBlbGVtZW50CiAgICAgIHczY19zbGlkeS5hZGRfY2xhc3Mobm9kZSwgImludmlzaWJsZSIpOwoKICAgIHJldHVybiB0aGlzLnByZXZpb3VzX2luY3JlbWVudGFsX2l0ZW0obm9kZSk7CiAgfSwKCiAgLy8gbGVmdCB0byByaWdodCB0cmF2ZXJzYWwgb2Ygcm9vdCdzIGNvbnRlbnQKICBuZXh0X25vZGU6IGZ1bmN0aW9uIChyb290LCBub2RlKSB7CiAgICBpZiAobm9kZSA9PSBudWxsKQogICAgICByZXR1cm4gcm9vdC5maXJzdENoaWxkOwoKICAgIGlmIChub2RlLmZpcnN0Q2hpbGQpCiAgICAgIHJldHVybiBub2RlLmZpcnN0Q2hpbGQ7CgogICAgaWYgKG5vZGUubmV4dFNpYmxpbmcpCiAgICAgIHJldHVybiBub2RlLm5leHRTaWJsaW5nOwoKICAgIGZvciAoOzspCiAgICB7CiAgICAgIG5vZGUgPSBub2RlLnBhcmVudE5vZGU7CgogICAgICBpZiAoIW5vZGUgfHwgbm9kZSA9PSByb290KQogICAgICAgIGJyZWFrOwoKICAgICAgaWYgKG5vZGUgJiYgbm9kZS5uZXh0U2libGluZykKICAgICAgICByZXR1cm4gbm9kZS5uZXh0U2libGluZzsKICAgIH0KCiAgICByZXR1cm4gbnVsbDsKICB9LAoKICAvLyByaWdodCB0byBsZWZ0IHRyYXZlcnNhbCBvZiByb290J3MgY29udGVudAogIHByZXZpb3VzX25vZGU6IGZ1bmN0aW9uIChyb290LCBub2RlKSB7CiAgICBpZiAobm9kZSA9PSBudWxsKQogICAgewogICAgICBub2RlID0gcm9vdC5sYXN0Q2hpbGQ7CgogICAgICBpZiAobm9kZSkKICAgICAgewogICAgICAgIHdoaWxlIChub2RlLmxhc3RDaGlsZCkKICAgICAgICAgIG5vZGUgPSBub2RlLmxhc3RDaGlsZDsKICAgICAgfQoKICAgICAgcmV0dXJuIG5vZGU7CiAgICB9CgogICAgaWYgKG5vZGUucHJldmlvdXNTaWJsaW5nKQogICAgewogICAgICBub2RlID0gbm9kZS5wcmV2aW91c1NpYmxpbmc7CgogICAgICB3aGlsZSAobm9kZS5sYXN0Q2hpbGQpCiAgICAgICAgbm9kZSA9IG5vZGUubGFzdENoaWxkOwoKICAgICAgcmV0dXJuIG5vZGU7CiAgICB9CgogICAgaWYgKG5vZGUucGFyZW50Tm9kZSAhPSByb290KQogICAgICByZXR1cm4gbm9kZS5wYXJlbnROb2RlOwoKICAgIHJldHVybiBudWxsOwogIH0sCgogIHByZXZpb3VzX3NpYmxpbmdfZWxlbWVudDogZnVuY3Rpb24gKGVsKSB7CiAgICBlbCA9IGVsLnByZXZpb3VzU2libGluZzsKCiAgICB3aGlsZSAoZWwgJiYgZWwubm9kZVR5cGUgIT0gMSkKICAgICAgZWwgPSBlbC5wcmV2aW91c1NpYmxpbmc7CgogICAgcmV0dXJuIGVsOwogIH0sCgogIG5leHRfc2libGluZ19lbGVtZW50OiBmdW5jdGlvbiAoZWwpIHsKICAgIGVsID0gZWwubmV4dFNpYmxpbmc7CgogICAgd2hpbGUgKGVsICYmIGVsLm5vZGVUeXBlICE9IDEpCiAgICAgIGVsID0gZWwubmV4dFNpYmxpbmc7CgogICAgcmV0dXJuIGVsOwogIH0sCgogIGZpcnN0X2NoaWxkX2VsZW1lbnQ6IGZ1bmN0aW9uIChlbCkgewogICAgdmFyIG5vZGU7CgogICAgZm9yIChub2RlID0gZWwuZmlyc3RDaGlsZDsgbm9kZTsgbm9kZSA9IG5vZGUubmV4dFNpYmxpbmcpCiAgICB7CiAgICAgIGlmIChub2RlLm5vZGVUeXBlID09IDEpCiAgICAgICAgYnJlYWs7CiAgICB9CgogICAgcmV0dXJuIG5vZGU7CiAgfSwKCiAgZmlyc3RfdGFnOiBmdW5jdGlvbiAoZWxlbWVudCwgdGFnKSB7CiAgICB2YXIgbm9kZTsKCiAgICBpZiAoIXRoaXMuaXNfeGh0bWwpCiAgICAgIHRhZyA9IHRhZy50b1VwcGVyQ2FzZSgpOwoKICAgIGZvciAobm9kZSA9IGVsZW1lbnQuZmlyc3RDaGlsZDsgbm9kZTsgbm9kZSA9IG5vZGUubmV4dFNpYmxpbmcpCiAgICB7CiAgICAgIGlmIChub2RlLm5vZGVUeXBlID09IDEgJiYgbm9kZS5ub2RlTmFtZSA9PSB0YWcpCiAgICAgICAgYnJlYWs7CiAgICB9CgogICAgcmV0dXJuIG5vZGU7CiAgfSwKCiAgaGlkZV9zZWxlY3Rpb246IGZ1bmN0aW9uICgpIHsKICAgIGlmICh3aW5kb3cuZ2V0U2VsZWN0aW9uKSAvLyBGaXJlZm94LCBDaHJvbWl1bSwgU2FmYXJpLCBPcGVyYQogICAgewogICAgICB2YXIgc2VsZWN0aW9uID0gd2luZG93LmdldFNlbGVjdGlvbigpOwoKICAgICAgaWYgKHNlbGVjdGlvbi5yYW5nZUNvdW50ID4gMCkKICAgICAgewogICAgICAgIHZhciByYW5nZSA9IHNlbGVjdGlvbi5nZXRSYW5nZUF0KDApOwogICAgICAgIHJhbmdlLmNvbGxhcHNlIChmYWxzZSk7CiAgICAgIH0KICAgIH0KICAgIGVsc2UgLy8gSW50ZXJuZXQgRXhwbG9yZXIKICAgIHsKICAgICAgdmFyIHRleHRSYW5nZSA9IGRvY3VtZW50LnNlbGVjdGlvbi5jcmVhdGVSYW5nZSAoKTsKICAgICAgdGV4dFJhbmdlLmNvbGxhcHNlIChmYWxzZSk7CiAgICB9CiAgfSwKCiAgZ2V0X3NlbGVjdGVkX3RleHQ6IGZ1bmN0aW9uICgpIHsKICAgIHRyeQogICAgewogICAgICBpZiAod2luZG93LmdldFNlbGVjdGlvbikKICAgICAgICByZXR1cm4gd2luZG93LmdldFNlbGVjdGlvbigpLnRvU3RyaW5nKCk7CgogICAgICBpZiAoZG9jdW1lbnQuZ2V0U2VsZWN0aW9uKQogICAgICAgIHJldHVybiBkb2N1bWVudC5nZXRTZWxlY3Rpb24oKS50b1N0cmluZygpOwoKICAgICAgaWYgKGRvY3VtZW50LnNlbGVjdGlvbikKICAgICAgICByZXR1cm4gZG9jdW1lbnQuc2VsZWN0aW9uLmNyZWF0ZVJhbmdlKCkudGV4dDsKICAgIH0KICAgIGNhdGNoIChlKQogICAgewogICAgfQoKICAgIHJldHVybiAiIjsKICB9LAoKICAvLyBtYWtlIG5vdGUgb2YgbGVuZ3RoIG9mIHNlbGVjdGVkIHRleHQKICAvLyBhcyB0aGlzIGV2YWx1YXRlcyB0byB6ZXJvIGluIGNsaWNrIGV2ZW50CiAgbW91c2VfYnV0dG9uX3VwOiBmdW5jdGlvbiAoZSkgewogICAgdzNjX3NsaWR5LnNlbGVjdGVkX3RleHRfbGVuID0gdzNjX3NsaWR5LmdldF9zZWxlY3RlZF90ZXh0KCkubGVuZ3RoOwogIH0sCgogIG1vdXNlX2J1dHRvbl9kb3duOiBmdW5jdGlvbiAoZSkgewogICAgdzNjX3NsaWR5LnNlbGVjdGVkX3RleHRfbGVuID0gdzNjX3NsaWR5LmdldF9zZWxlY3RlZF90ZXh0KCkubGVuZ3RoOwogICAgdzNjX3NsaWR5Lm1vdXNlX3ggPSBlLmNsaWVudFg7CiAgICB3M2Nfc2xpZHkubW91c2VfeSA9IGUuY2xpZW50WTsKICB9LAoKICAvLyByaWdodCBtb3VzZSBidXR0b24gY2xpY2sgaXMgcmVzZXJ2ZWQgZm9yIGNvbnRleHQgbWVudXMKICAvLyBpdCBpcyBtb3JlIHJlbGlhYmxlIHRvIGRldGVjdCByaWdodGNsaWNrIHRoYW4gbGVmdGNsaWNrCiAgbW91c2VfYnV0dG9uX2NsaWNrOiBmdW5jdGlvbiAoZSkgewogICAgaWYgKCFlKQogICAgICB2YXIgZSA9IHdpbmRvdy5ldmVudDsKCiAgICBpZiAoTWF0aC5hYnMoZS5jbGllbnRYIC13M2Nfc2xpZHkubW91c2VfeCkgKwogICAgICAgIE1hdGguYWJzKGUuY2xpZW50WSAtdzNjX3NsaWR5Lm1vdXNlX3kpID4gMTApCiAgICAgIHJldHVybiB0cnVlOwoKICAgIGlmICh3M2Nfc2xpZHkuc2VsZWN0ZWRfdGV4dF9sZW4gPiAwKQogICAgICByZXR1cm4gdHJ1ZTsKCiAgICB2YXIgcmlnaHRjbGljayA9IGZhbHNlOwogICAgdmFyIGxlZnRjbGljayA9IGZhbHNlOwogICAgdmFyIG1pZGRsZWNsaWNrID0gZmFsc2U7CiAgICB2YXIgdGFyZ2V0OwoKICAgIGlmICghZSkKICAgICAgdmFyIGUgPSB3aW5kb3cuZXZlbnQ7CgogICAgaWYgKGUudGFyZ2V0KQogICAgICB0YXJnZXQgPSBlLnRhcmdldDsKICAgIGVsc2UgaWYgKGUuc3JjRWxlbWVudCkKICAgICAgdGFyZ2V0ID0gZS5zcmNFbGVtZW50OwoKICAgIC8vIHdvcmsgYXJvdW5kIFNhZmFyaSBidWcKICAgIGlmICh0YXJnZXQubm9kZVR5cGUgPT0gMykKICAgICAgdGFyZ2V0ID0gdGFyZ2V0LnBhcmVudE5vZGU7CgogICAgaWYgKGUud2hpY2gpIC8vIGFsbCBicm93c2VycyBleGNlcHQgSUUKICAgIHsKICAgICAgbGVmdGNsaWNrID0gKGUud2hpY2ggPT0gMSk7CiAgICAgIG1pZGRsZWNsaWNrID0gKGUud2hpY2ggPT0gMik7CiAgICAgIHJpZ2h0Y2xpY2sgPSAoZS53aGljaCA9PSAzKTsKICAgIH0KICAgIGVsc2UgaWYgKGUuYnV0dG9uKQogICAgewogICAgICAvLyBLb25xdWVyb3IgZ2l2ZXMgMSBmb3IgbGVmdCwgNCBmb3IgbWlkZGxlCiAgICAgIC8vIElFNiBnaXZlcyAwIGZvciBsZWZ0IGFuZCBub3QgMSBhcyBJIGV4cGVjdGVkCgogICAgICBpZiAoZS5idXR0b24gPT0gNCkKICAgICAgICBtaWRkbGVjbGljayA9IHRydWU7CgogICAgICAvLyBhbGwgYnJvd3NlcnMgYWdyZWUgb24gMiBmb3IgcmlnaHQgYnV0dG9uCiAgICAgIHJpZ2h0Y2xpY2sgPSAoZS5idXR0b24gPT0gMik7CiAgICB9CiAgICBlbHNlCiAgICAgIGxlZnRjbGljayA9IHRydWU7CgogICAgaWYgKHczY19zbGlkeS5zZWxlY3RlZF90ZXh0X2xlbiA+IDApCiAgICB7CiAgICAgIHczY19zbGlkeS5zdG9wX3Byb3BhZ2F0aW9uKGUpOwogICAgICBlLmNhbmNlbCA9IHRydWU7CiAgICAgIGUucmV0dXJuVmFsdWUgPSBmYWxzZTsKICAgICAgcmV0dXJuIGZhbHNlOwogICAgfQoKICAgIC8vIGRpc21pc3MgdGFibGUgb2YgY29udGVudHMKICAgIHczY19zbGlkeS5oaWRlX3RhYmxlX29mX2NvbnRlbnRzKGZhbHNlKTsKCiAgICAvLyBjaGVjayBpZiB0YXJnZXQgaXMgc29tZXRoaW5nIHRoYXQgcHJvYmFibHkgd2FudCdzIGNsaWNrcwogICAgLy8gZS5nLiBhLCBlbWJlZCwgb2JqZWN0LCBpbnB1dCwgdGV4dGFyZWEsIHNlbGVjdCwgb3B0aW9uCiAgICB2YXIgdGFnID0gdGFyZ2V0Lm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7CgogICAgaWYgKHczY19zbGlkeS5tb3VzZV9jbGlja19lbmFibGVkICYmIGxlZnRjbGljayAmJgogICAgICAgICF3M2Nfc2xpZHkuc3BlY2lhbF9lbGVtZW50KHRhcmdldCkgJiYKICAgICAgICAhdGFyZ2V0Lm9uY2xpY2spCiAgICB7CiAgICAgIHczY19zbGlkeS5uZXh0X3NsaWRlKHRydWUpOwogICAgICB3M2Nfc2xpZHkuc3RvcF9wcm9wYWdhdGlvbihlKTsKICAgICAgZS5jYW5jZWwgPSB0cnVlOwogICAgICBlLnJldHVyblZhbHVlID0gZmFsc2U7CiAgICAgIHJldHVybiBmYWxzZTsKICAgIH0KCiAgICByZXR1cm4gdHJ1ZTsKICB9LAoKICBzcGVjaWFsX2VsZW1lbnQ6IGZ1bmN0aW9uIChlbGVtZW50KSB7CiAgICBpZiAodGhpcy5oYXNfY2xhc3MoZWxlbWVudCwgIm5vbi1pbnRlcmFjdGl2ZSIpKQogICAgICByZXR1cm4gZmFsc2U7CgogICAgdmFyIHRhZyA9IGVsZW1lbnQubm9kZU5hbWUudG9Mb3dlckNhc2UoKTsKCiAgICByZXR1cm4gZWxlbWVudC5vbmtleWRvd24gfHwKICAgICAgZWxlbWVudC5vbmNsaWNrIHx8CiAgICAgIHRhZyA9PSAiYSIgfHwKICAgICAgdGFnID09ICJlbWJlZCIgfHwKICAgICAgdGFnID09ICJvYmplY3QiIHx8CiAgICAgIHRhZyA9PSAidmlkZW8iIHx8CiAgICAgIHRhZyA9PSAiYXVkaW8iIHx8CiAgICAgIHRhZyA9PSAic3ZnIiB8fAogICAgICB0YWcgPT0gImNhbnZhcyIgfHwKICAgICAgdGFnID09ICJpbnB1dCIgfHwKICAgICAgdGFnID09ICJ0ZXh0YXJlYSIgfHwKICAgICAgdGFnID09ICJzZWxlY3QiIHx8CiAgICAgIHRhZyA9PSAib3B0aW9uIjsKICB9LAoKICBzbGlkeV9jaHJvbWU6IGZ1bmN0aW9uIChlbCkgewogICAgd2hpbGUgKGVsKQogICAgewogICAgICBpZiAoZWwgPT0gdzNjX3NsaWR5LnRvYyB8fAogICAgICAgICAgZWwgPT0gdzNjX3NsaWR5LnRvb2xiYXIgfHwKICAgICAgICAgIHczY19zbGlkeS5oYXNfY2xhc3MoZWwsICJvdXRsaW5lIikpCiAgICAgICAgcmV0dXJuIHRydWU7CgogICAgICBlbCA9IGVsLnBhcmVudE5vZGU7CiAgICB9CgogICAgcmV0dXJuIGZhbHNlOwogIH0sCgogIGdldF9rZXk6IGZ1bmN0aW9uIChlKQogIHsKICAgIHZhciBrZXk7CgogICAgLy8ga2x1ZGdlIGFyb3VuZCBOUy9JRSBkaWZmZXJlbmNlcyAKICAgIGlmICh0eXBlb2Ygd2luZG93LmV2ZW50ICE9ICJ1bmRlZmluZWQiKQogICAgICBrZXkgPSB3aW5kb3cuZXZlbnQua2V5Q29kZTsKICAgIGVsc2UgaWYgKGUud2hpY2gpCiAgICAgIGtleSA9IGUud2hpY2g7CgogICAgcmV0dXJuIGtleTsKICB9LAoKICBnZXRfdGFyZ2V0OiBmdW5jdGlvbiAoZSkgewogICAgdmFyIHRhcmdldDsKCiAgICBpZiAoIWUpCiAgICAgIGUgPSB3aW5kb3cuZXZlbnQ7CgogICAgaWYgKGUudGFyZ2V0KQogICAgICB0YXJnZXQgPSBlLnRhcmdldDsKICAgIGVsc2UgaWYgKGUuc3JjRWxlbWVudCkKICAgICAgdGFyZ2V0ID0gZS5zcmNFbGVtZW50OwoKICAgIGlmICh0YXJnZXQubm9kZVR5cGUgIT0gMSkKICAgICAgdGFyZ2V0ID0gdGFyZ2V0LnBhcmVudE5vZGU7CgogICAgcmV0dXJuIHRhcmdldDsKICB9LAoKICAvLyBkb2VzIGRpc3BsYXkgcHJvcGVydHkgcHJvdmlkZSBjb3JyZWN0IGRlZmF1bHRzPwogIGlzX2Jsb2NrOiBmdW5jdGlvbiAoZWxlbSkgewogICAgdmFyIHRhZyA9IGVsZW0ubm9kZU5hbWUudG9Mb3dlckNhc2UoKTsKCiAgICByZXR1cm4gdGFnID09ICJvbCIgfHwgdGFnID09ICJ1bCIgfHwgdGFnID09ICJwIiB8fCB0YWcgPT0gImRsIiB8fAogICAgICAgICAgIHRhZyA9PSAibGkiIHx8IHRhZyA9PSAidGFibGUiIHx8IHRhZyA9PSAicHJlIiB8fAogICAgICAgICAgIHRhZyA9PSAiaDEiIHx8IHRhZyA9PSAiaDIiIHx8IHRhZyA9PSAiaDMiIHx8CiAgICAgICAgICAgdGFnID09ICJoNCIgfHwgdGFnID09ICJoNSIgfHwgdGFnID09ICJoNiIgfHwKICAgICAgICAgICB0YWcgPT0gImJsb2NrcXVvdGUiIHx8IHRhZyA9PSAiYWRkcmVzcyI7IAogIH0sCgogIGFkZF9saXN0ZW5lcjogZnVuY3Rpb24gKGVsZW1lbnQsIGV2ZW50LCBoYW5kbGVyKSB7CiAgICBpZiAod2luZG93LmFkZEV2ZW50TGlzdGVuZXIpCiAgICAgIGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihldmVudCwgaGFuZGxlciwgZmFsc2UpOwogICAgZWxzZQogICAgICBlbGVtZW50LmF0dGFjaEV2ZW50KCJvbiIrZXZlbnQsIGhhbmRsZXIpOwogIH0sCgogIC8vIHVzZWQgdG8gcHJldmVudCBldmVudCBwcm9wYWdhdGlvbiBmcm9tIGZpZWxkIGNvbnRyb2xzCiAgc3RvcF9wcm9wYWdhdGlvbjogZnVuY3Rpb24gKGV2ZW50KSB7CiAgICBldmVudCA9IGV2ZW50ID8gZXZlbnQgOiB3aW5kb3cuZXZlbnQ7CiAgICBldmVudC5jYW5jZWxCdWJibGUgPSB0cnVlOyAgLy8gZm9yIElFCgogICAgaWYgKGV2ZW50LnN0b3BQcm9wYWdhdGlvbikKICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7CgogICAgcmV0dXJuIHRydWU7CiAgfSwKCiAgY2FuY2VsOiBmdW5jdGlvbiAoZXZlbnQpIHsKICAgIGlmIChldmVudCkKICAgIHsKICAgICAgIGV2ZW50LmNhbmNlbCA9IHRydWU7CiAgICAgICBldmVudC5yZXR1cm5WYWx1ZSA9IGZhbHNlOwoKICAgICAgaWYgKGV2ZW50LnByZXZlbnREZWZhdWx0KQogICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7CiAgICB9CgogICAgdzNjX3NsaWR5LmtleV93YW50ZWQgPSBmYWxzZTsKICAgIHJldHVybiBmYWxzZTsKICB9LAoKLy8gZm9yIGVhY2ggbGFuZ3VhZ2UgZGVmaW5lIGFuIGFzc29jaWF0aXZlIGFycmF5Ci8vIGFuZCBhbHNvIHRoZSBoZWxwIHRleHQgd2hpY2ggaXMgbG9uZ2VyCgogIHN0cmluZ3NfZXM6IHsKICAgICJzbGlkZSI6InDDoWcuIiwKICAgICJoZWxwPyI6IkF5dWRhIiwKICAgICJjb250ZW50cz8iOiLDjW5kaWNlIiwKICAgICJ0YWJsZSBvZiBjb250ZW50cyI6InRhYmxhIGRlIGNvbnRlbmlkb3MiLAogICAgIlRhYmxlIG9mIENvbnRlbnRzIjoiVGFibGEgZGUgQ29udGVuaWRvcyIsCiAgICAicmVzdGFydCBwcmVzZW50YXRpb24iOiJSZWluaWNpYXIgcHJlc2VudGFjacOzbiIsCiAgICAicmVzdGFydD8iOiJJbmljaW8iCiAgfSwKICBoZWxwX2VzOgogICAgIlV0aWxpY2UgZWwgcmF0w7NuLCBiYXJyYSBlc3BhY2lhZG9yYSwgdGVjbGFzIEl6ZGEvRGNoYSwgIiArCiAgICAibyBSZSBww6FnIHkgQXYgcMOhZy4gVXNlIFMgeSBCIHBhcmEgY2FtYmlhciBlbCB0YW1hw7FvIGRlIGZ1ZW50ZS4iLAoKICBzdHJpbmdzX2NhOiB7CiAgICAic2xpZGUiOiJww6BnLi4iLAogICAgImhlbHA/IjoiQWp1ZGEiLAogICAgImNvbnRlbnRzPyI6IsONbmRleCIsCiAgICAidGFibGUgb2YgY29udGVudHMiOiJ0YXVsYSBkZSBjb250aW5ndXRzIiwKICAgICJUYWJsZSBvZiBDb250ZW50cyI6IlRhdWxhIGRlIENvbnRpbmd1dHMiLAogICAgInJlc3RhcnQgcHJlc2VudGF0aW9uIjoiUmVpbmljaWFyIHByZXNlbnRhY2nDsyIsCiAgICAicmVzdGFydD8iOiJJbmljaSIKICB9LAogIGhlbHBfY2E6CiAgICAiVXRpbGl0emkgZWwgcmF0b2zDrSwgYmFycmEgZXNwYWlhZG9yYSwgdGVjbGVzIEVzcS4vRHRhLiAiICsKICAgICJvIFJlIHDDoGcgeSBBdiBww6BnLiBVc2kgUyBpIEIgcGVyIGNhbnZpYXIgZ3JhbmTDoHJpYSBkZSBmb250LiIsCgogIHN0cmluZ3NfY3M6IHsKICAgICJzbGlkZSI6InNuw61tZWsiLAogICAgImhlbHA/IjoibsOhcG92xJtkYSIsCiAgICAiY29udGVudHM/Ijoib2JzYWgiLAogICAgInRhYmxlIG9mIGNvbnRlbnRzIjoib2JzYWggcHJlemVudGFjZSIsCiAgICAiVGFibGUgb2YgQ29udGVudHMiOiJPYnNhaCBwcmV6ZW50YWNlIiwKICAgICJyZXN0YXJ0IHByZXNlbnRhdGlvbiI6Inpub3Z1IHNwdXN0aXQgcHJlemVudGFjaSIsCiAgICAicmVzdGFydD8iOiJyZXN0YXJ0IgogIH0sCiAgaGVscF9jczoKICAgICJQcmV6ZW50YWNpIG3Fr8W+ZXRlIHByb2Now6F6ZXQgcG9tb2PDrSBrbGlrbnV0w60gbXnFoWksIG1lemVybsOta3UsICIgKwogICAgIsWhaXBlayB2bGV2byBhIHZwcmF2byBuZWJvIGtsw6F2ZXMgUGFnZVVwIGEgUGFnZURvd24uIFDDrXNtbyBzZSAiICsKICAgICJkw6EgenbEm3TFoWl0IGEgem1lbsWhaXQgcG9tb2PDrSBrbMOhdmVzIEIgYSBTLiIsCgogIHN0cmluZ3Nfbmw6IHsKICAgICJzbGlkZSI6InBhZ2luYSIsCiAgICAiaGVscD8iOiJIZWxwPyIsCiAgICAiY29udGVudHM/IjoiSW5ob3VkPyIsCiAgICAidGFibGUgb2YgY29udGVudHMiOiJpbmhvdWRzb3BnYXZlIiwKICAgICJUYWJsZSBvZiBDb250ZW50cyI6IkluaG91ZHNvcGdhdmUiLAogICAgInJlc3RhcnQgcHJlc2VudGF0aW9uIjoiaGVyc3RhcnQgcHJlc2VudGF0aWUiLAogICAgInJlc3RhcnQ/IjoiSGVyc3RhcnQ/IgogIH0sCiAgaGVscF9ubDoKICAgICAiTmF2aWdlZXIgZC5tLnYuIGhldCBtdWlzLCBzcGF0aWViYXIsIExpbmtzL1JlY2h0cyB0b2V0c2VuLCAiICsKICAgICAib2YgUGdVcCBlbiBQZ0RuLiBHZWJydWlrIFMgZW4gQiBvbSBkZSBrYXJha3Rlcmdyb290dGUgdGUgdmVyYW5kZXJlbi4iLAoKICBzdHJpbmdzX2RlOiB7CiAgICAic2xpZGUiOiJTZWl0ZSIsCiAgICAiaGVscD8iOiJIaWxmZSIsCiAgICAiY29udGVudHM/Ijoiw5xiZXJzaWNodCIsCiAgICAidGFibGUgb2YgY29udGVudHMiOiJJbmhhbHRzdmVyemVpY2huaXMiLAogICAgIlRhYmxlIG9mIENvbnRlbnRzIjoiSW5oYWx0c3ZlcnplaWNobmlzIiwKICAgICJyZXN0YXJ0IHByZXNlbnRhdGlvbiI6IlByw6RzZW50YXRpb24gbmV1IHN0YXJ0ZW4iLAogICAgInJlc3RhcnQ/IjoiTmV1c3RhcnQiCiAgfSwKICBoZWxwX2RlOgogICAgIkJlbnV0emVuIFNpZSBkaWUgTWF1cywgTGVlcnNjaGxhZywgZGllIEN1cnNvcnRhc3RlbiBsaW5rcy9yZWNodHMgb2RlciAiICsKICAgICJQYWdlIHVwL1BhZ2UgRG93biB6dW0gV2VjaHNlbG4gZGVyIFNlaXRlbiB1bmQgUyB1bmQgQiBmw7xyIGRpZSBTY2hyaWZ0Z3LDtnNzZS4iLAoKICBzdHJpbmdzX3BsOiB7CiAgICAic2xpZGUiOiJzbGFqZCIsCiAgICAiaGVscD8iOiJwb21vYz8iLAogICAgImNvbnRlbnRzPyI6InNwaXMgdHJlxZtjaT8iLAogICAgInRhYmxlIG9mIGNvbnRlbnRzIjoic3BpcyB0cmXFm2NpIiwKICAgICJUYWJsZSBvZiBDb250ZW50cyI6IlNwaXMgVHJlxZtjaSIsCiAgICAicmVzdGFydCBwcmVzZW50YXRpb24iOiJSZXN0YXJ0dWogcHJlemVudGFjasSZIiwKICAgICJyZXN0YXJ0PyI6InJlc3RhcnQ/IgogIH0sCiAgaGVscF9wbDoKICAgICJabWllbmlhaiBzbGFqZHkga2xpa2FqxIVjIG15c3rEhSwgbmFjaXNrYWrEhWMgc3BhY2rEmSwgc3RyemHFgmtpIGxld28vcHJhd28iICsKICAgICJsdWIgUGdVcCAvIFBnRG4uIFXFvHlqIGtsYXdpc3p5IFMgaSBCLCBhYnkgem1pZW5pxIcgcm96bWlhciBjemN6aW9ua2kuIiwKCiAgc3RyaW5nc19mcjogewogICAgInNsaWRlIjoicGFnZSIsCiAgICAiaGVscD8iOiJBaWRlIiwKICAgICJjb250ZW50cz8iOiJJbmRleCIsCiAgICAidGFibGUgb2YgY29udGVudHMiOiJ0YWJsZSBkZXMgbWF0acOocmVzIiwKICAgICJUYWJsZSBvZiBDb250ZW50cyI6IlRhYmxlIGRlcyBtYXRpw6hyZXMiLAogICAgInJlc3RhcnQgcHJlc2VudGF0aW9uIjoiUmVjb21tZW5jZXIgbCdleHBvc8OpIiwKICAgICJyZXN0YXJ0PyI6IkTDqWJ1dCIKICB9LAogIGhlbHBfZnI6CiAgICAiTmF2aWd1ZXogYXZlYyBsYSBzb3VyaXMsIGxhIGJhcnJlIGQnZXNwYWNlLCBsZXMgZmzDqGNoZXMgIiArCiAgICAiZ2F1Y2hlL2Ryb2l0ZSBvdSBsZXMgdG91Y2hlcyBQZyBVcCwgUGcgRG4uIFV0aWxpc2V6ICIgKwogICAgImxlcyB0b3VjaGVzIFMgZXQgQiBwb3VyIG1vZGlmaWVyIGxhIHRhaWxsZSBkZSBsYSBwb2xpY2UuIiwKCiAgc3RyaW5nc19odTogewogICAgInNsaWRlIjoib2xkYWwiLAogICAgImhlbHA/Ijoic2Vnw610c8OpZyIsCiAgICAiY29udGVudHM/IjoidGFydGFsb20iLAogICAgInRhYmxlIG9mIGNvbnRlbnRzIjoidGFydGFsb21qZWd5esOpayIsCiAgICAiVGFibGUgb2YgQ29udGVudHMiOiJUYXJ0YWxvbWplZ3l6w6lrIiwKICAgICJyZXN0YXJ0IHByZXNlbnRhdGlvbiI6ImJlbXV0YXTDsyDDumpyYWluZMOtdMOhc2EiLAogICAgInJlc3RhcnQ/Ijoiw7pqcmFpbmTDrXTDoXMiCiAgfSwKICBoZWxwX2h1OgogICAgIkF6IG9sZGFsYWsga8O2enRpIGzDqXBrZWTDqXNoZXoga2F0dGludHNvbiBheiBlZ8OpcnJlbCwgdmFneSAiICsKICAgICJoYXN6bsOhbGphIGEgc3rDs2vDtnosIGEgYmFsLCB2YWd5IGEgam9iYiBuecOtbCwgaWxsZXR2ZSBhIFBhZ2UgRG93biwgIiArCiAgICAiUGFnZSBVcCBiaWxsZW50ecWxa2V0LiBBeiBTIMOpcyBhIEIgYmlsbGVudHnFsWtrZWwgdsOhbHRvenRhdGhhdGphICIgKwogICAgImEgc3rDtnZlZyBtw6lyZXTDqXQuIiwKCiAgc3RyaW5nc19pdDogewogICAgInNsaWRlIjoicGFnLiIsCiAgICAiaGVscD8iOiJBaXV0byIsCiAgICAiY29udGVudHM/IjoiSW5kaWNlIiwKICAgICJ0YWJsZSBvZiBjb250ZW50cyI6ImluZGljZSIsCiAgICAiVGFibGUgb2YgQ29udGVudHMiOiJJbmRpY2UiLAogICAgInJlc3RhcnQgcHJlc2VudGF0aW9uIjoiUmljb21pbmNpYXJlIGxhIHByZXNlbnRhemlvbmUiLAogICAgInJlc3RhcnQ/IjoiSW5pemlvIgogIH0sCiAgaGVscF9pdDoKICAgICJOYXZpZ2FyZSBjb24gbW91c2UsIGJhcnJhIHNwYXppbywgZnJlY2NlIHNpbmlzdHJhL2Rlc3RyYSBvICIgKwogICAgIlBnVXAgZSBQZ0RuLiBVc2FyZSBTIGUgQiBwZXIgY2FtYmlhcmUgbGEgZGltZW5zaW9uZSBkZWkgY2FyYXR0ZXJpLiIsCgogIHN0cmluZ3NfZWw6IHsKICAgICJzbGlkZSI6Is+DzrXOu86vzrTOsSIsCiAgICAiaGVscD8iOiLOss6/zq7OuM61zrnOsTsiLAogICAgImNvbnRlbnRzPyI6Is+AzrXPgc65zrXPh8+MzrzOtc69zrE7IiwKICAgICJ0YWJsZSBvZiBjb250ZW50cyI6Is+Azq/Ovc6xzrrOsc+CIM+AzrXPgc65zrXPh86/zrzOrc69z4nOvSIsCiAgICAiVGFibGUgb2YgQ29udGVudHMiOiLOoM6vzr3Osc66zrHPgiDOoM61z4HOuc61z4fOv868zq3Ovc+Jzr0iLAogICAgInJlc3RhcnQgcHJlc2VudGF0aW9uIjoizrXPgM6xzr3Otc66zrrOr869zrfPg863IM+AzrHPgc6/z4XPg86vzrHPg863z4IiLAogICAgInJlc3RhcnQ/IjoizrXPgM6xzr3Otc66zrrOr869zrfPg863OyIKICB9LAogIGhlbHBfZWw6CiAgICAizqDOu86/zrfOs863zrjOtc6vz4TOtSDOvM61IM+Ezr8gzrrOu86vzrogz4TOv8+FIM+Azr/Ovc+EzrnOus65zr/PjSwgz4TOvyBzcGFjZSwgz4TOsSDOss6tzrvOtyDOsc+BzrnPg8+EzrXPgc6sL860zrXOvs65zqwsICIgKwogICAgIs6uIFBhZ2UgVXAgzrrOsc65IFBhZ2UgRG93bi4gzqfPgc63z4POuc68zr/PgM6/zrnOrs+Dz4TOtSDPhM6xIM+AzrvOrs66z4TPgc6xIFMgzrrOsc65IEIgzrPOuc6xIM69zrEgzrHOu867zqzOvs61z4TOtSAiICsKICAgICLPhM6/IM68zq3Os861zrjOv8+CIM+EzrfPgiDOs8+BzrHOvM68zrHPhM6/z4POtc65z4HOrM+CLiIsCgogIHN0cmluZ3NfamE6IHsKICAgICJzbGlkZSI6IuOCueODqeOCpOODiSIsCiAgICAiaGVscD8iOiLjg5jjg6vjg5ciLAogICAgImNvbnRlbnRzPyI6IuebruasoSIsCiAgICAidGFibGUgb2YgY29udGVudHMiOiLnm67mrKHjgpLooajnpLoiLAogICAgIlRhYmxlIG9mIENvbnRlbnRzIjoi55uu5qyhIiwKICAgICJyZXN0YXJ0IHByZXNlbnRhdGlvbiI6IuacgOWIneOBi+OCieWGjeeUnyIsCiAgICAicmVzdGFydD8iOiLmnIDliJ3jgYvjgokiCiAgfSwKICBoZWxwX2phOgogICAgICLjg57jgqbjgrnlt6bjgq/jg6rjg4Pjgq8g44O7IOOCueODmuODvOOCuSDjg7sg5bem5Y+z44Kt44O8ICIgKwogICAgICLjgb7jgZ/jga8gUGFnZSBVcCDjg7sgUGFnZSBEb3du44Gn5pON5L2c77yMIFMg44O7IELjgafjg5Xjgqnjg7Pjg4jjgrXjgqTjgrrlpInmm7QiLAoKICBzdHJpbmdzX3poOiB7CiAgICAic2xpZGUiOiLlubvnga/niYciLAogICAgImhlbHA/Ijoi5biu5YqpPyIsCiAgICAiY29udGVudHM/Ijoi5YaF5a65PyIsCiAgICAidGFibGUgb2YgY29udGVudHMiOiLnm67lvZUiLAogICAgIlRhYmxlIG9mIENvbnRlbnRzIjoi55uu5b2VIiwKICAgICJyZXN0YXJ0IHByZXNlbnRhdGlvbiI6IumHjeaWsOWQr+WKqOWxleekuiIsCiAgICAicmVzdGFydD8iOiLph43mlrDlkK/liqg/IgogIH0sCiAgaGVscF96aDoKICAgICLnlKjpvKDmoIfngrnlh7ssIOepuuagvOadoSwg5bem5Y+z566t5aS0LCBQZyBVcCDlkowgUGcgRG4g5a+86IiqLiAiICsKICAgICLnlKggUywgQiDmlLnlj5jlrZfkvZPlpKflsI8uIiwKCiAgc3RyaW5nc19ydTogewogICAgInNsaWRlIjoi0YHQu9Cw0LnQtCIsCiAgICAiaGVscD8iOiLQv9C+0LzQvtGJ0Yw/IiwKICAgICJjb250ZW50cz8iOiLRgdC+0LTQtdGA0LbQsNC90LjQtT8iLAogICAgInRhYmxlIG9mIGNvbnRlbnRzIjoi0L7Qs9C70LDQstC70LXQvdC40LUiLAogICAgIlRhYmxlIG9mIENvbnRlbnRzIjoi0J7Qs9C70LDQstC70LXQvdC40LUiLAogICAgInJlc3RhcnQgcHJlc2VudGF0aW9uIjoi0L/QtdGA0LXQt9Cw0L/Rg9GB0YLQuNGC0Ywg0L/RgNC10LfQtdC90YLQsNGG0LjRjiIsCiAgICAicmVzdGFydD8iOiLQv9C10YDQtdC30LDQv9GD0YHQuj8iCiAgfSwKICBoZWxwX3J1OgogICAgItCf0LXRgNC10LzQtdGJ0LDQudGC0LXRgdGMINC60LvQuNC60LDRjyDQvNGL0YjQutC+0LksINC40YHQv9C+0LvRjNC30YPRjyDQutC70LDQstC40YjRgyDQv9GA0L7QsdC10LssINGB0YLRgNC10LvQutC4IiArCiAgICAi0LLQu9C10LLQvi/QstC/0YDQsNCy0L4g0LjQu9C4IFBnIFVwINC4IFBnIERuLiDQmtC70LDQstC40YjQuCBTINC4IEIg0LzQtdC90Y/RjtGCINGA0LDQt9C80LXRgCDRiNGA0LjRhNGC0LAuIiwKCiAgc3RyaW5nc19zdjogewogICAgInNsaWRlIjoic2lkYSIsCiAgICAiaGVscD8iOiJoasOkbHAiLAogICAgImNvbnRlbnRzPyI6ImlubmVow6VsbCIsCiAgICAidGFibGUgb2YgY29udGVudHMiOiJpbm5laMOlbGxzZsO2cnRlY2tuaW5nIiwKICAgICJUYWJsZSBvZiBDb250ZW50cyI6IklubmVow6VsbHNmw7ZydGVja25pbmciLAogICAgInJlc3RhcnQgcHJlc2VudGF0aW9uIjoidmlzYSBwcmVzZW50YXRpb25lbiBmcsOlbiBiw7ZyamFuIiwKICAgICJyZXN0YXJ0PyI6ImLDtnJqYSBvbSIKICB9LAogIGhlbHBfc3Y6CiAgICAiQmzDpGRkcmEgbWVkIGV0dCBrbGljayBtZWQgdsOkbnN0cmEgbXVza25hcHBlbiwgbWVsbGFuc2xhZ3N0YW5nZW50ZW4sICIgKwogICAgInbDpG5zdGVyLSBvY2ggaMO2Z2VycGlsdGFuZ2VudGVybmEgZWxsZXIgdGFuZ2VudGVybmEgUGcgVXAsIFBnIERuLiAiICsKICAgICJBbnbDpG5kIHRhbmdlbnRlcm5hIFMgb2NoIEIgZsO2ciBhdHQgw6RuZHJhIHRleHRlbnMgc3Rvcmxlay4iLAoKICBzdHJpbmdzOiB7IH0sCgogIGxvY2FsaXplOiBmdW5jdGlvbiAoc3JjKSB7CiAgICBpZiAoc3JjID09ICIiKQogICAgICByZXR1cm4gc3JjOwoKICAgICAvLyB0cnkgZnVsbCBsYW5ndWFnZSBjb2RlLCBlLmcuIGVuLVVTCiAgICAgdmFyIHMsIGxvb2t1cCA9IHczY19zbGlkeS5zdHJpbmdzW3czY19zbGlkeS5sYW5nXTsKCiAgICAgaWYgKGxvb2t1cCkKICAgICB7CiAgICAgICBzID0gbG9va3VwW3NyY107CgogICAgICAgaWYgKHMpCiAgICAgICAgcmV0dXJuIHM7CiAgICAgfQoKICAgICAvLyBzdHJpcCBjb3VudHJ5IGNvZGUgc3VmZml4LCBlLmcuCiAgICAgLy8gdHJ5IGVuIGlmIHVuZGVmaW5lZCBmb3IgZW4tVVMKICAgICB2YXIgbGcgPSB3M2Nfc2xpZHkubGFuZy5zcGxpdCgiLSIpOwoKICAgICBpZiAobGcubGVuZ3RoID4gMSkKICAgICB7CiAgICAgICBsb29rdXAgPSB3M2Nfc2xpZHkuc3RyaW5nc1tsZ1swXV07CgogICAgICAgaWYgKGxvb2t1cCkKICAgICAgIHsKICAgICAgICAgcyA9IGxvb2t1cFtzcmNdOwoKICAgICAgICAgaWYgKHMpCiAgICAgICAgICByZXR1cm4gczsKICAgICAgIH0KICAgICB9CgogICAgIC8vIG90aGVyd2lzZSBzdHJpbmcgYXMgaXMKICAgICByZXR1cm4gc3JjOwogIH0sCgogIGluaXRfbG9jYWxpemF0aW9uOiBmdW5jdGlvbiAoKSB7CiAgICB2YXIgaTE4biA9IHczY19zbGlkeTsKICAgIHZhciBoZWxwX3RleHQgPSB3M2Nfc2xpZHkuaGVscF90ZXh0OwoKICAgIC8vIGVhY2ggc3VjaCBsYW5ndWFnZSBhcnJheSBpcyBkZWNsYXJlZCBpbiB0aGUgbG9jYWxpemUgYXJyYXkKICAgIC8vIHRoaXMgaXMgdXNlZCBhcyBpbiAgdzNjX3NsaWR5LmxvY2FsaXplKCJmb28iKTsKICAgIHRoaXMuc3RyaW5ncyA9IHsKICAgICAgImVzIjp0aGlzLnN0cmluZ3NfZXMsCiAgICAgICJjYSI6dGhpcy5zdHJpbmdzX2NhLAogICAgICAiY3MiOnRoaXMuc3RyaW5nc19jcywKICAgICAgIm5sIjp0aGlzLnN0cmluZ3NfbmwsCiAgICAgICJkZSI6dGhpcy5zdHJpbmdzX2RlLAogICAgICAicGwiOnRoaXMuc3RyaW5nc19wbCwKICAgICAgImZyIjp0aGlzLnN0cmluZ3NfZnIsCiAgICAgICJodSI6dGhpcy5zdHJpbmdzX2h1LAogICAgICAiaXQiOnRoaXMuc3RyaW5nc19pdCwKICAgICAgImVsIjp0aGlzLnN0cmluZ3NfZWwsCiAgICAgICJqcCI6dGhpcy5zdHJpbmdzX2phLAogICAgICAiemgiOnRoaXMuc3RyaW5nc196aCwKICAgICAgInJ1Ijp0aGlzLnN0cmluZ3NfcnUsCiAgICAgICJzdiI6dGhpcy5zdHJpbmdzX3N2CiAgICB9LAoKICAgIGkxOG4uc3RyaW5nc19lc1toZWxwX3RleHRdID0gaTE4bi5oZWxwX2VzOwogICAgaTE4bi5zdHJpbmdzX2NhW2hlbHBfdGV4dF0gPSBpMThuLmhlbHBfY2E7CiAgICBpMThuLnN0cmluZ3NfY3NbaGVscF90ZXh0XSA9IGkxOG4uaGVscF9jczsKICAgIGkxOG4uc3RyaW5nc19ubFtoZWxwX3RleHRdID0gaTE4bi5oZWxwX25sOwogICAgaTE4bi5zdHJpbmdzX2RlW2hlbHBfdGV4dF0gPSBpMThuLmhlbHBfZGU7CiAgICBpMThuLnN0cmluZ3NfcGxbaGVscF90ZXh0XSA9IGkxOG4uaGVscF9wbDsKICAgIGkxOG4uc3RyaW5nc19mcltoZWxwX3RleHRdID0gaTE4bi5oZWxwX2ZyOwogICAgaTE4bi5zdHJpbmdzX2h1W2hlbHBfdGV4dF0gPSBpMThuLmhlbHBfaHU7CiAgICBpMThuLnN0cmluZ3NfaXRbaGVscF90ZXh0XSA9IGkxOG4uaGVscF9pdDsKICAgIGkxOG4uc3RyaW5nc19lbFtoZWxwX3RleHRdID0gaTE4bi5oZWxwX2VsOwogICAgaTE4bi5zdHJpbmdzX2phW2hlbHBfdGV4dF0gPSBpMThuLmhlbHBfamE7CiAgICBpMThuLnN0cmluZ3NfemhbaGVscF90ZXh0XSA9IGkxOG4uaGVscF96aDsKICAgIGkxOG4uc3RyaW5nc19ydVtoZWxwX3RleHRdID0gaTE4bi5oZWxwX3J1OwogICAgaTE4bi5zdHJpbmdzX3N2W2hlbHBfdGV4dF0gPSBpMThuLmhlbHBfc3Y7CgogICAgdzNjX3NsaWR5LmxhbmcgPSBkb2N1bWVudC5ib2R5LnBhcmVudE5vZGUuZ2V0QXR0cmlidXRlKCJsYW5nIik7CgogICAgaWYgKCF3M2Nfc2xpZHkubGFuZykKICAgICAgdzNjX3NsaWR5LmxhbmcgPSBkb2N1bWVudC5ib2R5LnBhcmVudE5vZGUuZ2V0QXR0cmlidXRlKCJ4bWw6bGFuZyIpOwoKICAgIGlmICghdzNjX3NsaWR5LmxhbmcpCiAgICAgIHczY19zbGlkeS5sYW5nID0gImVuIjsKICB9Cn07CgovLyBoYWNrIGZvciBiYWNrIGJ1dHRvbiBiZWhhdmlvcgppZiAodzNjX3NsaWR5LmllNiB8fCB3M2Nfc2xpZHkuaWU3KQp7CiAgZG9jdW1lbnQud3JpdGUoIjxpZnJhbWUgaWQ9J2hpc3RvcnlGcmFtZScgIiArCiAgInNyYz0namF2YXNjcmlwdDpcIjxodG1sIisiPjwvIisiaHRtbD5cIicgIiArCiAgImhlaWdodD0nMScgd2lkdGg9JzEnICIgKwogICJzdHlsZT0ncG9zaXRpb246YWJzb2x1dGU7bGVmdDotODAwcHgnPjwvaWZyYW1lPiIpOwp9CgovLyBhdHRhY2ggZXZlbnQgbGlzdGVuZXJzIGZvciBpbml0aWFsaXphdGlvbgp3M2Nfc2xpZHkuc2V0X3VwKCk7CgovLyBoaWRlIHRoZSBzbGlkZXMgYXMgc29vbiBhcyBib2R5IGVsZW1lbnQgaXMgYXZhaWxhYmxlCi8vIHRvIHJlZHVjZSBhbm5veWluZyBzY3JlZW4gbWVzcyBiZWZvcmUgdGhlIG9ubG9hZCBldmVudApzZXRUaW1lb3V0KHczY19zbGlkeS5oaWRlX3NsaWRlcywgNTApOwoK"></script>
</head>
<body>
<div class="slide titlepage">
  <h1 class="title">Bayes Models: Learning from Experience</h1>
  <p class="author">
Sanjiv R.Das
  </p>
</div>
<div id="BayesModels" class="slide section level2">
<h1>Bayes Models: Learning from Experience</h1>
<p>For a fairly good introduction to Bayes Rule, see Wikipedia, <a href="http://en.wikipedia.org/wiki/Bayes_theorem" class="uri">http://en.wikipedia.org/wiki/Bayes_theorem</a>. The various R packages for Bayesian inference are at: <a href="http://cran.r-project.org/web/views/Bayesian.html" class="uri">http://cran.r-project.org/web/views/Bayesian.html</a>.</p>
<p>In business, we often want to ask, is a given phenomena real or just a coincidence? Bayes theorem really helps with that. For example, we may ask  is Warren Buffets investment success a coincidence? How would you answer this question? Would it depend on your prior probability of Buffet being able to beat the market? How would this answer change as additional information about his performance was being released over time?</p>
</div>
<div id="bayes-theorem" class="slide section level2">
<h1>Bayes Theorem</h1>
<p>Bayes rule follows easily from a decomposition of joint probability, i.e.,</p>
<p><span class="math display">\[
Pr[A \cap B] = Pr(A|B)\; Pr(B) = Pr(B|A)\; Pr(A) 
\]</span></p>
<p>Then the last two terms may be arranged to give</p>
<p><span class="math display">\[
Pr(A|B) = \frac{Pr(B|A)\; Pr(A)}{Pr(B)}
\]</span></p>
<p>or</p>
<p><span class="math display">\[
Pr(B|A) = \frac{Pr(A|B)\; Pr(B)}{Pr(A)}
\]</span></p>
</div>
<div id="example-aids-testing" class="slide section level2">
<h1>Example: Aids Testing</h1>
<p>This is an interesting problem, because it shows that if you are diagnosed with AIDS, there is a good chance the diagnosis is wrong, but if you are diagnosed as not having AIDS then there is a good chance it is right - hopefully this is comforting news.</p>
<p>Define, <span class="math inline">\(\{Pos,Neg\}\)</span> as a positive or negative diagnosis of having AIDS. Also define <span class="math inline">\(\{Dis, NoDis\}\)</span> as the event of having the disease versus not having it. There are 1.5 million AIDS cases in the U.S. and about 300 million people which means the probability of AIDS in the population is 0.005 (half a percent). Hence, a random test will uncover someone with AIDS with a half a percent probability. The confirmation accuracy of the AIDS test is 99%, such that we have</p>
<p><span class="math display">\[
Pr(Pos | Dis) = 0.99 
\]</span></p>
<p>Hence the test is reasonably good. The accuracy of the test for people who do not have AIDS is</p>
<p><span class="math display">\[
Pr(Neg | NoDis) = 0.95
\]</span></p>
<p>What we really want is the probability of having the disease when the test comes up positive, i.e.we need to compute <span class="math inline">\(Pr(Dis | Pos)\)</span>. Using Bayes Rule we calculate:</p>
<p><span class="math display">\[
\begin{aligned}
Pr(Dis | Pos) &amp;= \frac{Pr(Pos | Dis)Pr(Dis)}{Pr(Pos)} \\
&amp;= \frac{Pr(Pos | Dis)Pr(Dis)}{Pr(Pos | Dis)Pr(Dis) 
+ Pr(Pos|NoDis) Pr(NoDis)} \\
&amp;= \frac{0.99 \times 0.005}{(0.99)(0.005) + (0.05)(0.995)} \\
&amp;= 0.0904936
\end{aligned}
\]</span></p>
<p>Hence, the chance of having AIDS when the test is positive is only 9%. We might also care about the chance of not having AIDS when the test is positive</p>
<p><span class="math display">\[
Pr(NoDis | Pos) = 1 - Pr(Dis | Pos) = 1 - 0.09 = 0.91
\]</span></p>
<p>Finally, what is the chance that we have AIDS even when the test is negative - this would also be a matter of concern to many of us, who might not relish the chance to be on some heavy drugs for the rest of our lives.</p>
<p><span class="math display">\[
\begin{aligned}
Pr(Dis | Neg) &amp;= \frac{Pr(Neg | Dis)Pr(Dis)}{Pr(Neg)} \\
&amp;= \frac{Pr(Neg | Dis)Pr(Dis)}{Pr(Neg | Dis)Pr(Dis) 
+ Pr(Neg|NoDis) Pr(NoDis)} \\
&amp;= \frac{0.01 \times 0.005}{(0.01)(0.005) + (0.95)(0.995)} \\
&amp;= 0.000053
\end{aligned}
\]</span></p>
<p>Hence, this is a worry we should not have. If the test is negative, there is a miniscule chance that we are infected with AIDS.</p>
</div>
<div id="computational-approach-using-sets" class="slide section level2">
<h1>Computational Approach using Sets</h1>
<p>The preceding analysis is a good lead in to (a) the connection with joint probability distributions, and (b) using R to demonstrate a computational way of thinking about Bayes theorem.</p>
<p>Lets begin by assuming that we have 300,000 people in the population, to scale down the numbers from the millions for convenience. Of these 1,500 have AIDS. So lets create the population and then sample from it. See the use of the <strong>sample</strong> function in R.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co">#PEOPLE WITH AIDS</span>
people =<span class="st"> </span><span class="kw">seq</span>(<span class="dv">1</span>,<span class="dv">300000</span>)
people_aids =<span class="st"> </span><span class="kw">sample</span>(people,<span class="dv">1500</span>)
people_noaids =<span class="st"> </span><span class="kw">setdiff</span>(people,people_aids)</code></pre></div>
<p>Note, how we also used the <strong>setdiff</strong> function to get the complement set of the people who do not have AIDS. Now, of the people who have AIDS, we know that 99% of them test positive so lets subset that list, and also take its complement. These are joint events, and their numbers proscribe the joint distribution.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">people_aids_pos =<span class="st"> </span><span class="kw">sample</span>(people_aids,<span class="dv">1500</span>*<span class="fl">0.99</span>)
people_aids_neg =<span class="st"> </span><span class="kw">setdiff</span>(people_aids,people_aids_pos)
<span class="kw">print</span>(<span class="kw">length</span>(people_aids_pos))</code></pre></div>
<pre><code>## [1] 1485</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">print</span>(<span class="kw">length</span>(people_aids_neg))</code></pre></div>
<pre><code>## [1] 15</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">people_aids_neg</code></pre></div>
<pre><code>##  [1] 269786 110275 102217 273127 174070 295311 274884   1466  28565 212891
## [11]  22175 171097 194190 260098  24360</code></pre>
<p>We can also subset the group that does not have AIDS, as we know that the test is negative for them 95% of the time.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co">#PEOPLE WITHOUT AIDS</span>
people_noaids_neg =<span class="st"> </span><span class="kw">sample</span>(people_noaids,<span class="dv">298500</span>*<span class="fl">0.95</span>)
people_noaids_pos =<span class="st"> </span><span class="kw">setdiff</span>(people_noaids,people_noaids_neg)
<span class="kw">print</span>(<span class="kw">length</span>(people_noaids_neg))</code></pre></div>
<pre><code>## [1] 283575</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">print</span>(<span class="kw">length</span>(people_noaids_pos))</code></pre></div>
<pre><code>## [1] 14925</code></pre>
<p>We can now compute the probability that someone actually has AIDS when the test comes out positive.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co">#HAVE AIDS GIVEN TEST IS POSITIVE</span>
pr_aids_given_pos =<span class="st"> </span>(<span class="kw">length</span>(people_aids_pos))/
<span class="st">       </span>(<span class="kw">length</span>(people_aids_pos)+<span class="kw">length</span>(people_noaids_pos))
pr_aids_given_pos</code></pre></div>
<pre><code>## [1] 0.0904936</code></pre>
<p>This confirms the formal Bayes computation that we had undertaken earlier. And of course, as we had examined earlier, whats the chance that you have AIDS when the test is negative, i.e., a false negative?</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co">#FALSE NEGATIVE: HAVE AIDS WHEN TEST IS NEGATIVE</span>
pr_aids_given_neg =<span class="st"> </span>(<span class="kw">length</span>(people_aids_neg))/
<span class="st">       </span>(<span class="kw">length</span>(people_aids_neg)+<span class="kw">length</span>(people_noaids_neg))
pr_aids_given_neg</code></pre></div>
<pre><code>## [1] 5.289326e-05</code></pre>
<p>Phew!</p>
<p>Note here that we first computed the joint sets covering joint outcomes, and then used these to compute conditional (Bayes) probabilities. The approach used R to apply a set-theoretic, computational approach to calculating conditional probabilities.</p>
</div>
<div id="a-second-opinion" class="slide section level2">
<h1>A Second Opinion</h1>
<p>What if we tested positive, and then decided to get a second opinion, i.e., take another test. What would now be the posterior probability in this case? Here is the calculation.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co">#SECOND OPINION MEDICAL TEST FOR AIDS</span>
<span class="fl">0.99</span>*<span class="fl">0.09</span>/(<span class="fl">0.99</span>*<span class="fl">0.09</span> +<span class="st"> </span><span class="fl">0.05</span>*<span class="fl">0.91</span>)</code></pre></div>
<pre><code>## [1] 0.6619614</code></pre>
<p>Note that we used the previous posterior probability (0.91) as the prior probability in this calculation.</p>
</div>
<div id="correlated-default" class="slide section level2">
<h1>Correlated Default</h1>
<p>Bayes theorem is very useful when we want to extract conditional default information. Bond fund managers are not as interested in the correlation of default of the bonds in their portfolio as much as the conditional default of bonds. What this means is that they care about the <em>conditional</em> probability of bond A defaulting if bond B has defaulted already.</p>
<p>Modern finance provides many tools to obtain the default probabilities of firms. Suppose we know that firm 1 has default probability <span class="math inline">\(p_1 = 1\%\)</span> and firm 2 has default probability <span class="math inline">\(p_2=3\%\)</span>. If the correlation of default of the two firms is 40% over one year, then if either bond defaults, what is the probability of default of the other, conditional on the first default?</p>
<h3 id="indicator-functions-for-default">Indicator Functions for Default</h3>
<p>We can see that even with this limited information, Bayes theorem allows us to derive the conditional probabilities of interest. First define <span class="math inline">\(d_i, i=1,2\)</span> as default indicators for firms 1 and 2. <span class="math inline">\(d_i=1\)</span> if the firm defaults, and zero otherwise. We note that:</p>
<p><span class="math display">\[
E(d_1)=1 . p_1 + 0 . (1-p_1) = p_1 = 0.01.
\]</span></p>
<p>Likewise</p>
<p><span class="math display">\[
E(d_2)=1 . p_2 + 0 . (1-p_2) = p_2 = 0.03.
\]</span></p>
<p>The Bernoulli distribution lets us derive the standard deviation of <span class="math inline">\(d_1\)</span> and <span class="math inline">\(d_2\)</span>.</p>
<p><span class="math display">\[
\begin{aligned}
\sigma_1 &amp;= \sqrt{p_1 (1-p_1)} = \sqrt{(0.01)(0.99)} = 0.099499 \\ 
\sigma_2 &amp;= \sqrt{p_2 (1-p_2)} = \sqrt{(0.03)(0.97)} = 0.17059 
\end{aligned}
\]</span></p>
<h3 id="default-correlation">Default Correlation</h3>
<p>Now, we note that</p>
<p><span class="math display">\[
\begin{aligned}
Cov(d_1,d_2) &amp;= E(d_1 . d_2) - E(d_1)E(d_2) \\
\rho \sigma_1 \sigma_2  &amp;= E(d_1 . d_2) - p_1 p_2 \\
(0.4)(0.099499)(0.17059) &amp;= E(d_1 . d_2) - (0.01)(0.03) \\
E(d_1 . d_2)  &amp;= 0.0070894 \\
E(d_1 . d_2)  &amp;\equiv  p_{12}
\end{aligned}
\]</span></p>
<p>where <span class="math inline">\(p_{12}\)</span> is the probability of default of both firm 1 and 2. We now get the conditional probabilities:</p>
<p><span class="math display">\[
\begin{aligned}
p(d_1 | d_2) &amp;= p_{12}/p_2 = 0.0070894/0.03 = 0.23631 \\
p(d_2 | d_1) &amp;= p_{12}/p_1 = 0.0070894/0.01 = 0.70894 
\end{aligned}
\]</span></p>
<p>These conditional probabilities are non-trivial in size, even though the individual probabilities of default are very small. What this means is that default contagion can be quite severe once firms begin to default. (This example used our knowledge of Bayes rule, correlations, covariances, and joint events.)</p>
</div>
<div id="continuous-space-bayes-theorem" class="slide section level2">
<h1>Continuous Space Bayes Theorem</h1>
<p>In Bayesian approaches, the terms prior, posterior, and likelihood are commonly used and we explore this terminology here. We are usually interested in the parameter <span class="math inline">\(\theta\)</span>, the mean of the distribution of some data <span class="math inline">\(x\)</span> (I am using the standard notation here). But in the Bayesian setting we do not just want the value of <span class="math inline">\(\theta\)</span>, but we want a distribution of values of <span class="math inline">\(\theta\)</span> starting from some prior assumption about this distribution. So we start with <span class="math inline">\(p(\theta)\)</span>, which we call the <strong>prior</strong> distribution. We then observe data <span class="math inline">\(x\)</span>, and combine the data with the prior to get the <strong>posterior</strong> distribution <span class="math inline">\(p(\theta | x)\)</span>. To do this, we need to compute the probability of seeing the data <span class="math inline">\(x\)</span> given our prior <span class="math inline">\(p(\theta)\)</span> and this probability is given by the <strong>likelihood</strong> function <span class="math inline">\(L(x | \theta)\)</span>. Assume that the variance of the data <span class="math inline">\(x\)</span> is known, i.e., is <span class="math inline">\(\sigma^2\)</span>.</p>
<h3 id="formulation">Formulation</h3>
<p>Applying Bayes theorem we have</p>
<p><span class="math display">\[
p(\theta | x) = \frac{L(x | \theta)\; p(\theta)}{\int L(x | \theta) \; p(\theta)\; d\theta}
\propto L(x | \theta)\; p(\theta)
\]</span></p>
<p>If we assume the prior distribution for the mean of the data is normal, i.e., <span class="math inline">\(p(\theta) \sim N[\mu_0, \sigma_0^2]\)</span>, and the likelihood is also normal, i.e., <span class="math inline">\(L(x | \theta) \sim N[\theta, \sigma^2]\)</span>, then we have that</p>
<p><span class="math display">\[
\begin{aligned}
p(\theta) &amp;= \frac{1}{\sqrt{2\pi \sigma_0^2}} \exp\left[-\frac{1}{2} \frac{(\theta-\mu_0)^2}{\sigma_0^2}   \right] \sim N[\theta | \mu_0, \sigma_0^2]  \; \; \propto \exp\left[-\frac{1}{2} \frac{(\theta-\mu_0)^2}{\sigma_0^2}   \right] \\
L(x | \theta) &amp;= \frac{1}{\sqrt{2\pi \sigma^2}} \exp\left[-\frac{1}{2} \frac{(x-\theta)^2}{\sigma^2}   \right] \sim N[x | \theta, \sigma^2] \; \; \propto \exp\left[-\frac{1}{2} \frac{(x-\theta)^2}{\sigma^2}   \right]
\end{aligned}
\]</span></p>
<h3 id="posterior-distribution">Posterior Distribution</h3>
<p>Given this, the posterior is as follows:</p>
<p><span class="math display">\[
p(\theta | x) \propto L(x | \theta) p(\theta) \;\; \propto \exp\left[-\frac{1}{2} \frac{(x-\theta)^2}{\sigma^2} -\frac{1}{2} \frac{(\theta-\mu_0)^2}{\sigma_0^2}   \right]
\]</span></p>
<p>Define the precision values to be <span class="math inline">\(\tau_0 = \frac{1}{\sigma_0^2}\)</span>, and <span class="math inline">\(\tau = \frac{1}{\sigma^2}\)</span>. Then it can be shown that when you observe a new value of the data <span class="math inline">\(x\)</span>, the posterior distribution is written down in closed form as:</p>
<p><span class="math display">\[
p(\theta | x) \sim N\left[ \frac{\tau_0}{\tau_0+\tau} \mu_0 +  \frac{\tau}{\tau_0+\tau} x, \; \; \frac{1}{\tau_0 + \tau} \right]
\]</span></p>
<p>When the posterior distribution and prior distribution have the same form, they are said to be conjugate with respect to the specific likelihood function.</p>
<h3 id="example">Example</h3>
<p>To take an example, suppose our prior for the mean of the equity premium per month is <span class="math inline">\(p(\theta) \sim N[0.005, 0.001^2]\)</span>. The standard deviation of the equity premium is 0.04. If next month we observe an equity premium of 1%, what is the posterior distribution of the mean equity premium?</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">mu0 =<span class="st"> </span><span class="fl">0.005</span>
sigma0 =<span class="st"> </span><span class="fl">0.001</span>
sigma=<span class="fl">0.04</span>
x =<span class="st"> </span><span class="fl">0.01</span>
tau0 =<span class="st"> </span><span class="dv">1</span>/sigma0^<span class="dv">2</span>
tau =<span class="st"> </span><span class="dv">1</span>/sigma^<span class="dv">2</span>
posterior_mean =<span class="st"> </span>tau0*mu0/(tau0+tau) +<span class="st"> </span>tau*x/(tau0+tau)
<span class="kw">print</span>(posterior_mean)</code></pre></div>
<pre><code>## [1] 0.005003123</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">posterior_var =<span class="st"> </span><span class="dv">1</span>/(tau0+tau)
<span class="kw">print</span>(<span class="kw">sqrt</span>(posterior_var))</code></pre></div>
<pre><code>## [1] 0.0009996876</code></pre>
<p>Hence, we see that after updating the mean has increased mildly because the data came in higher than expected.</p>
<h3 id="general-formula-for-n-sequential-updates">General Formula for <span class="math inline">\(n\)</span> sequential updates</h3>
<p>If we observe <span class="math inline">\(n\)</span> new values of <span class="math inline">\(x\)</span>, then the new posterior is</p>
<p><span class="math display">\[
p(\theta | x) \sim N\left[ \frac{\tau_0}{\tau_0+n\tau} \mu_0 +  \frac{\tau}{\tau_0+n\tau} \sum_{j=1}^n x_j, \; \; \frac{1}{\tau_0 + n \tau} \right]
\]</span></p>
<p>This is easy to derive, as it is just the result you obtain if you took each <span class="math inline">\(x_j\)</span> and updated the posterior one at a time.</p>
<p>Try this as an Exercise. <em>Estimate the equity risk premium</em>. We will use data and discrete Bayes to come up with a forecast of the equity risk premium. Proceed along the following lines using the <strong>LearnBayes</strong> package.</p>
<ol style="list-style-type: decimal">
<li>Well use data from 1926 onwards from the Fama-French data repository. All you need is the equity premium <span class="math inline">\((r_m-r_f)\)</span> data, and I will leave it up to you to choose if you want to use annual or monthly data. Download this and load it into R.</li>
<li>Using the series only up to the year 2000, present the descriptive statistics for the equity premium. State these in annualized terms.</li>
<li>Present the distribution of returns as a histogram.</li>
<li>Store the results of the histogram, i.e., the range of discrete values of the equity premium, and the probability of each one. Treat this as your prior distribution.</li>
<li>Now take the remaining data for the years after 2000, and use this data to update the prior and construct a posterior. Assume that the prior, likelihood, and posterior are normally distributed. Use the <strong>discrete.bayes</strong> function to construct the posterior distribution and plot it using a histogram. See if you can put the prior and posterior on the same plot to see how the new data has changed the prior.</li>
<li>What is the forecasted equity premium, and what is the confidence interval around your forecast?</li>
</ol>
</div>
<div id="bayes-classifier" class="slide section level2">
<h1>Bayes Classifier</h1>
<p>Suppose we want to classify entities (emails, consumers, companies, tumors, images, etc.) into categories <span class="math inline">\(c\)</span>. Think of a data set with rows each giving one instance of the data set with several characteristics, i.e., the <span class="math inline">\(x\)</span> variables, and the row will also contain the category <span class="math inline">\(c\)</span>. Suppose there are <span class="math inline">\(n\)</span> variables, and <span class="math inline">\(m\)</span> categories.</p>
<p>We use the data to construct the prior and conditional probabilities. Once these probabilities are computed we say that the model is trained.</p>
<p>The trained classifier contains the unconditional probabilities <span class="math inline">\(p(c)\)</span> of each class, which are merely frequencies with which each category appears. It also shows the conditional probability distributions <span class="math inline">\(p(x |c)\)</span> given as the mean and standard deviation of the occurrence of these terms in each class.</p>
<p>The posterior probabilities are computed as follows. These tell us the most likely category given the data <span class="math inline">\(x\)</span> on any observation.</p>
<p><span class="math display">\[
p(c=i | x_1,x_2,...,x_n) = \frac{p(x_1,x_2,...,x_n|c=i) \cdot p(c=i)}{\sum_{j=1}^m p(x_1,x_2,...,x_n|c=j) \cdot p(c=j)}, \quad \forall i=1,2,...,m
\]</span></p>
<p>In the naive Bayes model, it is assumed that all the <span class="math inline">\(x\)</span> variables are independent of each other, so that we may write</p>
<p><span class="math display">\[
p(x_1,x_2,...,x_n | c=i) = p(x_1 | c=i) \cdot p(x_1 | c=i) \cdot \cdot \cdot p(x_n | c=i) 
\]</span></p>
<p>We use the <strong>e1071</strong> package. It has a one-line command that takes in the tagged training dataset using the function <strong>naiveBayes()</strong>. It returns the trained classifier model. We may take this trained model and re-apply to the training data set to see how well it does. We use the <strong>predict()</strong> function for this. The data set here is the classic Iris data.</p>
<h3 id="example-1">Example</h3>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(e1071)
<span class="kw">data</span>(iris)
<span class="kw">print</span>(<span class="kw">head</span>(iris))</code></pre></div>
<pre><code>##   Sepal.Length Sepal.Width Petal.Length Petal.Width Species
## 1          5.1         3.5          1.4         0.2  setosa
## 2          4.9         3.0          1.4         0.2  setosa
## 3          4.7         3.2          1.3         0.2  setosa
## 4          4.6         3.1          1.5         0.2  setosa
## 5          5.0         3.6          1.4         0.2  setosa
## 6          5.4         3.9          1.7         0.4  setosa</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">tail</span>(iris)</code></pre></div>
<pre><code>##     Sepal.Length Sepal.Width Petal.Length Petal.Width   Species
## 145          6.7         3.3          5.7         2.5 virginica
## 146          6.7         3.0          5.2         2.3 virginica
## 147          6.3         2.5          5.0         1.9 virginica
## 148          6.5         3.0          5.2         2.0 virginica
## 149          6.2         3.4          5.4         2.3 virginica
## 150          5.9         3.0          5.1         1.8 virginica</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co">#NAIVE BAYES</span>
res =<span class="st"> </span><span class="kw">naiveBayes</span>(iris[,<span class="dv">1</span>:<span class="dv">4</span>],iris[,<span class="dv">5</span>])
<span class="co">#SHOWS THE PRIOR AND LIKELIHOOD FUNCTIONS</span>
res</code></pre></div>
<pre><code>## 
## Naive Bayes Classifier for Discrete Predictors
## 
## Call:
## naiveBayes.default(x = iris[, 1:4], y = iris[, 5])
## 
## A-priori probabilities:
## iris[, 5]
##     setosa versicolor  virginica 
##  0.3333333  0.3333333  0.3333333 
## 
## Conditional probabilities:
##             Sepal.Length
## iris[, 5]     [,1]      [,2]
##   setosa     5.006 0.3524897
##   versicolor 5.936 0.5161711
##   virginica  6.588 0.6358796
## 
##             Sepal.Width
## iris[, 5]     [,1]      [,2]
##   setosa     3.428 0.3790644
##   versicolor 2.770 0.3137983
##   virginica  2.974 0.3224966
## 
##             Petal.Length
## iris[, 5]     [,1]      [,2]
##   setosa     1.462 0.1736640
##   versicolor 4.260 0.4699110
##   virginica  5.552 0.5518947
## 
##             Petal.Width
## iris[, 5]     [,1]      [,2]
##   setosa     0.246 0.1053856
##   versicolor 1.326 0.1977527
##   virginica  2.026 0.2746501</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co">#SHOWS POSTERIOR PROBABILITIES</span>
<span class="kw">predict</span>(res,iris[,<span class="dv">1</span>:<span class="dv">4</span>],<span class="dt">type=</span><span class="st">&quot;raw&quot;</span>)</code></pre></div>
<pre><code>##               setosa   versicolor    virginica
##   [1,]  1.000000e+00 2.981309e-18 2.152373e-25
##   [2,]  1.000000e+00 3.169312e-17 6.938030e-25
##   [3,]  1.000000e+00 2.367113e-18 7.240956e-26
##   [4,]  1.000000e+00 3.069606e-17 8.690636e-25
##   [5,]  1.000000e+00 1.017337e-18 8.885794e-26
##   [6,]  1.000000e+00 2.717732e-14 4.344285e-21
##   [7,]  1.000000e+00 2.321639e-17 7.988271e-25
##   [8,]  1.000000e+00 1.390751e-17 8.166995e-25
##   [9,]  1.000000e+00 1.990156e-17 3.606469e-25
##  [10,]  1.000000e+00 7.378931e-18 3.615492e-25
##  [11,]  1.000000e+00 9.396089e-18 1.474623e-24
##  [12,]  1.000000e+00 3.461964e-17 2.093627e-24
##  [13,]  1.000000e+00 2.804520e-18 1.010192e-25
##  [14,]  1.000000e+00 1.799033e-19 6.060578e-27
##  [15,]  1.000000e+00 5.533879e-19 2.485033e-25
##  [16,]  1.000000e+00 6.273863e-17 4.509864e-23
##  [17,]  1.000000e+00 1.106658e-16 1.282419e-23
##  [18,]  1.000000e+00 4.841773e-17 2.350011e-24
##  [19,]  1.000000e+00 1.126175e-14 2.567180e-21
##  [20,]  1.000000e+00 1.808513e-17 1.963924e-24
##  [21,]  1.000000e+00 2.178382e-15 2.013989e-22
##  [22,]  1.000000e+00 1.210057e-15 7.788592e-23
##  [23,]  1.000000e+00 4.535220e-20 3.130074e-27
##  [24,]  1.000000e+00 3.147327e-11 8.175305e-19
##  [25,]  1.000000e+00 1.838507e-14 1.553757e-21
##  [26,]  1.000000e+00 6.873990e-16 1.830374e-23
##  [27,]  1.000000e+00 3.192598e-14 1.045146e-21
##  [28,]  1.000000e+00 1.542562e-17 1.274394e-24
##  [29,]  1.000000e+00 8.833285e-18 5.368077e-25
##  [30,]  1.000000e+00 9.557935e-17 3.652571e-24
##  [31,]  1.000000e+00 2.166837e-16 6.730536e-24
##  [32,]  1.000000e+00 3.940500e-14 1.546678e-21
##  [33,]  1.000000e+00 1.609092e-20 1.013278e-26
##  [34,]  1.000000e+00 7.222217e-20 4.261853e-26
##  [35,]  1.000000e+00 6.289348e-17 1.831694e-24
##  [36,]  1.000000e+00 2.850926e-18 8.874002e-26
##  [37,]  1.000000e+00 7.746279e-18 7.235628e-25
##  [38,]  1.000000e+00 8.623934e-20 1.223633e-26
##  [39,]  1.000000e+00 4.612936e-18 9.655450e-26
##  [40,]  1.000000e+00 2.009325e-17 1.237755e-24
##  [41,]  1.000000e+00 1.300634e-17 5.657689e-25
##  [42,]  1.000000e+00 1.577617e-15 5.717219e-24
##  [43,]  1.000000e+00 1.494911e-18 4.800333e-26
##  [44,]  1.000000e+00 1.076475e-10 3.721344e-18
##  [45,]  1.000000e+00 1.357569e-12 1.708326e-19
##  [46,]  1.000000e+00 3.882113e-16 5.587814e-24
##  [47,]  1.000000e+00 5.086735e-18 8.960156e-25
##  [48,]  1.000000e+00 5.012793e-18 1.636566e-25
##  [49,]  1.000000e+00 5.717245e-18 8.231337e-25
##  [50,]  1.000000e+00 7.713456e-18 3.349997e-25
##  [51,] 4.893048e-107 8.018653e-01 1.981347e-01
##  [52,] 7.920550e-100 9.429283e-01 5.707168e-02
##  [53,] 5.494369e-121 4.606254e-01 5.393746e-01
##  [54,]  1.129435e-69 9.999621e-01 3.789964e-05
##  [55,] 1.473329e-105 9.503408e-01 4.965916e-02
##  [56,]  1.931184e-89 9.990013e-01 9.986538e-04
##  [57,] 4.539099e-113 6.592515e-01 3.407485e-01
##  [58,]  2.549753e-34 9.999997e-01 3.119517e-07
##  [59,]  6.562814e-97 9.895385e-01 1.046153e-02
##  [60,]  5.000210e-69 9.998928e-01 1.071638e-04
##  [61,]  7.354548e-41 9.999997e-01 3.143915e-07
##  [62,]  4.799134e-86 9.958564e-01 4.143617e-03
##  [63,]  4.631287e-60 9.999925e-01 7.541274e-06
##  [64,] 1.052252e-103 9.850868e-01 1.491324e-02
##  [65,]  4.789799e-55 9.999700e-01 2.999393e-05
##  [66,]  1.514706e-92 9.787587e-01 2.124125e-02
##  [67,]  1.338348e-97 9.899311e-01 1.006893e-02
##  [68,]  2.026115e-62 9.999799e-01 2.007314e-05
##  [69,] 6.547473e-101 9.941996e-01 5.800427e-03
##  [70,]  3.016276e-58 9.999913e-01 8.739959e-06
##  [71,] 1.053341e-127 1.609361e-01 8.390639e-01
##  [72,]  1.248202e-70 9.997743e-01 2.256698e-04
##  [73,] 3.294753e-119 9.245812e-01 7.541876e-02
##  [74,]  1.314175e-95 9.979398e-01 2.060233e-03
##  [75,]  3.003117e-83 9.982736e-01 1.726437e-03
##  [76,]  2.536747e-92 9.865372e-01 1.346281e-02
##  [77,] 1.558909e-111 9.102260e-01 8.977398e-02
##  [78,] 7.014282e-136 7.989607e-02 9.201039e-01
##  [79,]  5.034528e-99 9.854957e-01 1.450433e-02
##  [80,]  1.439052e-41 9.999984e-01 1.601574e-06
##  [81,]  1.251567e-54 9.999955e-01 4.500139e-06
##  [82,]  8.769539e-48 9.999983e-01 1.742560e-06
##  [83,]  3.447181e-62 9.999664e-01 3.361987e-05
##  [84,] 1.087302e-132 6.134355e-01 3.865645e-01
##  [85,]  4.119852e-97 9.918297e-01 8.170260e-03
##  [86,] 1.140835e-102 8.734107e-01 1.265893e-01
##  [87,] 2.247339e-110 7.971795e-01 2.028205e-01
##  [88,]  4.870630e-88 9.992978e-01 7.022084e-04
##  [89,]  2.028672e-72 9.997620e-01 2.379898e-04
##  [90,]  2.227900e-69 9.999461e-01 5.390514e-05
##  [91,]  5.110709e-81 9.998510e-01 1.489819e-04
##  [92,]  5.774841e-99 9.885399e-01 1.146006e-02
##  [93,]  5.146736e-66 9.999591e-01 4.089540e-05
##  [94,]  1.332816e-34 9.999997e-01 2.716264e-07
##  [95,]  6.094144e-77 9.998034e-01 1.966331e-04
##  [96,]  1.424276e-72 9.998236e-01 1.764463e-04
##  [97,]  8.302641e-77 9.996692e-01 3.307548e-04
##  [98,]  1.835520e-82 9.988601e-01 1.139915e-03
##  [99,]  5.710350e-30 9.999997e-01 3.094739e-07
## [100,]  3.996459e-73 9.998204e-01 1.795726e-04
## [101,] 3.993755e-249 1.031032e-10 1.000000e+00
## [102,] 1.228659e-149 2.724406e-02 9.727559e-01
## [103,] 2.460661e-216 2.327488e-07 9.999998e-01
## [104,] 2.864831e-173 2.290954e-03 9.977090e-01
## [105,] 8.299884e-214 3.175384e-07 9.999997e-01
## [106,] 1.371182e-267 3.807455e-10 1.000000e+00
## [107,] 3.444090e-107 9.719885e-01 2.801154e-02
## [108,] 3.741929e-224 1.782047e-06 9.999982e-01
## [109,] 5.564644e-188 5.823191e-04 9.994177e-01
## [110,] 2.052443e-260 2.461662e-12 1.000000e+00
## [111,] 8.669405e-159 4.895235e-04 9.995105e-01
## [112,] 4.220200e-163 3.168643e-03 9.968314e-01
## [113,] 4.360059e-190 6.230821e-06 9.999938e-01
## [114,] 6.142256e-151 1.423414e-02 9.857659e-01
## [115,] 2.201426e-186 1.393247e-06 9.999986e-01
## [116,] 2.949945e-191 6.128385e-07 9.999994e-01
## [117,] 2.909076e-168 2.152843e-03 9.978472e-01
## [118,] 1.347608e-281 2.872996e-12 1.000000e+00
## [119,] 2.786402e-306 1.151469e-12 1.000000e+00
## [120,] 2.082510e-123 9.561626e-01 4.383739e-02
## [121,] 2.194169e-217 1.712166e-08 1.000000e+00
## [122,] 3.325791e-145 1.518718e-02 9.848128e-01
## [123,] 6.251357e-269 1.170872e-09 1.000000e+00
## [124,] 4.415135e-135 1.360432e-01 8.639568e-01
## [125,] 6.315716e-201 1.300512e-06 9.999987e-01
## [126,] 5.257347e-203 9.507989e-06 9.999905e-01
## [127,] 1.476391e-129 2.067703e-01 7.932297e-01
## [128,] 8.772841e-134 1.130589e-01 8.869411e-01
## [129,] 5.230800e-194 1.395719e-05 9.999860e-01
## [130,] 7.014892e-179 8.232518e-04 9.991767e-01
## [131,] 6.306820e-218 1.214497e-06 9.999988e-01
## [132,] 2.539020e-247 4.668891e-10 1.000000e+00
## [133,] 2.210812e-201 2.000316e-06 9.999980e-01
## [134,] 1.128613e-128 7.118948e-01 2.881052e-01
## [135,] 8.114869e-151 4.900992e-01 5.099008e-01
## [136,] 7.419068e-249 1.448050e-10 1.000000e+00
## [137,] 1.004503e-215 9.743357e-09 1.000000e+00
## [138,] 1.346716e-167 2.186989e-03 9.978130e-01
## [139,] 1.994716e-128 1.999894e-01 8.000106e-01
## [140,] 8.440466e-185 6.769126e-06 9.999932e-01
## [141,] 2.334365e-218 7.456220e-09 1.000000e+00
## [142,] 2.179139e-183 6.352663e-07 9.999994e-01
## [143,] 1.228659e-149 2.724406e-02 9.727559e-01
## [144,] 3.426814e-229 6.597015e-09 1.000000e+00
## [145,] 2.011574e-232 2.620636e-10 1.000000e+00
## [146,] 1.078519e-187 7.915543e-07 9.999992e-01
## [147,] 1.061392e-146 2.770575e-02 9.722942e-01
## [148,] 1.846900e-164 4.398402e-04 9.995602e-01
## [149,] 1.439996e-195 3.384156e-07 9.999997e-01
## [150,] 2.771480e-143 5.987903e-02 9.401210e-01</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co">#CONFUSION MATRIX</span>
out =<span class="st"> </span><span class="kw">table</span>(<span class="kw">predict</span>(res,iris[,<span class="dv">1</span>:<span class="dv">4</span>]),iris[,<span class="dv">5</span>])
out</code></pre></div>
<pre><code>##             
##              setosa versicolor virginica
##   setosa         50          0         0
##   versicolor      0         47         3
##   virginica       0          3        47</code></pre>
</div>
<div id="bayes-nets" class="slide section level2">
<h1>Bayes Nets</h1>
<p>Higher-dimension Bayes problems and joint distributions over several outcomes/events are easy to visualize with a network diagram, also called a Bayes net. A Bayes net is a directed, acyclic graph (known as a DAG), i.e., cycles are not permitted in the graph.</p>
<p>A good way to understand a Bayes net is with an example of economic distress. There are three levels at which distress may be noticed: economy level (<span class="math inline">\(E=1\)</span>), industry level (<span class="math inline">\(I=1\)</span>), or at a particular firm level (<span class="math inline">\(F=1\)</span>). Economic distress can lead to industry distress and/or firm distress, and industry distress may or may not result in a firms distress.</p>
<p>The probabilities are as follows. Note that the probabilities in the first tableau are unconditional, but in all the subsequent tableaus they are conditional probabilities. See @(fig:bayesnet1).</p>
<div class="figure" style="text-align: center">
<img src="data:image/png;base64,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6afmiy++MA0aNDDDhg0z55xzTiDikbl48WKzatUq89FHH5mjjjqqXObnn39uWrZsafr27Ws6duxYkLwDBw6YadOmmdmzZ5uaNWuaBx980Bx33HEFlambk4vAUb8tS8mtfuWtebVq1SwJffXVV2b8+PGmXbt25vrrrzddu3Y1Xbp0MY0bNza7d+82TZo0MS1atAgEKGTWq1fPfPbZZ2bChAnmjDPOsDLPPPNMa+08+eSThr+mTZua5s2b5y3z6KOPNscff7zZtm2btaQuv/zycjLMu1DdmFgEZEklVHUQRv369c0pp5xiCeKEE04wp59+um0NU6WTTjrJWljkCSoh8+STTy4nICeT6RhWG9bUrbfeaubOnWv69OmTt1hICjkQopIQEEklvA8wzePPm6pUqWIH+MUXX2yOPfZY76WC31M20zz+XEI+ZMg0DwuIqWYQCVlKQkAkVYJ9AB/VSy+9ZE477TRz4oknRtLCTz75xOzYscOS4nnnnWfefPNNM2fOHDtla9asmWFKeN9995n27dubW265xeDfWrFihdmyZYu1wN555x1z1llnmaFDh5oaNWqU1xkr7bXXXjOPPfaY9b/hoxo4cKC57LLLNAUsR6m034ikSkC/WC47d+60/iCsmr1791pyGD16dKitwx/2/vvv21W49evXW/lXXHGFGTBggPnyyy+ttbVw4UI7FXz++edtXfbs2WP2799vHn30UfP666+ba665xk5XN27caH1rkOudd95ZXu+33nrLzJo1y7Rq1cqS7vz5881dd91lDh06ZH7605+W59Ob0kVAJFUCusXaYLUN6wWSYmBDBGFPl5CLrLVr19pVuBtvvNGSCdYbBNapUydzzDHH2Pc33XSTwacFqW3evNlMnTrVjBo1yhIPPjSsJ77HYurdu7c5++yzrWawnHr27GktMNrDQgDENmPGDINDnTKVShsBabgE9MvWgzZt2phBgwbZ1uzbt8+sWbPGWjNhNg+CYCqHg5s6QDQ4vUn4rPBPQVhYQdSPxPaCKVOmGKaHjoggH8ro3r27mThxolm3bl35NZzzrCLWqlXL3s/iANPCl19+2VpwLBAolTYCIqkS0C/WE/uI3GoYxNCoUaMjfDthNBNyQW6mPUwQGUTjrDqsL6ajJLevi/eQGkTEn9fxTtu8+XjPSiJkh5WlVPoIHLksVPrtrRQthBiw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qhAQAj4REEn5BErZhIAQiAcBkVQ8uEuqEBACPhEQSWUA6uuvvzZffPGFOXz4cIZc4VxC5sGDB8327dvDERBBqV999ZU5cOCA2b17dwTSMosAzw8//NDiiV7jSpn6FH3tzTffNPv27YurennL/fTTT83LL79sPvnkk7zLSHdjtXQX3PcMlEWLFplnn33WfPDBB6Zq1aqmevXq9jIVA9gGDRqYYcOGmXPOOcfdVvArHZzO/dhjj5nXXnvNVKlSxdStW9ecf/755qKLLiq4/IoKoCO/99575plnnjHLly83X375pW3rRx99ZI455hjTsmVLc95555lu3bpVdHtg39FJH3zwQfPUU0+ZJk2amAceeMCW/fnnn5vNmzebF154weJdo0aNtDIpA72dfvrppkuXLmnzhXGBgUiH/cc//mGee+45079/f/OrX/3qG6LoW4sXLzarVq0yYHzUUUeV9y3aCt59+/Y1HTt2/Ma9uXwBUU6bNs3Mnj3b1KxZ02J73HHH5VJE3nn99KmzzjrLth2dv/HGG+b66683l1xySd4yo7wRHc6fP9/iy5j985//bPUWZB2yktTxxx9vevbsaWXecMMN5rvf/a657rrr7OdDhw7Zzrhs2TLz/vvvB1kvS4aNGzc23/nOd8y4cePswPzjH/9ozj333EDluMLoTLt27TJ33323JaQf/ehHpk6dOrYetHP//v3m6aeftuQVNkmdeOKJpnfv3mbdunXm9ddfd1W0lgDEA3l1797dEhAXwX7Lli22c5x88sk2/1tvvWUmTJhg+vXrFzlJ8UA55ZRTLDnxcHvnnXfK2+B9Q9/iofPZZ5+Zm2++2QwePNhce+219mn83//+18ycOdMOgF//+temT58+3ltzel+rVi2L14YNG8ymTZtMVJaU3z5FW0ePHm11dcstt5iPP/44p/bFmRkddu3a1Wzbts3qi7ESdMpKUtWqVTP169e3nQ7lnnDCCeWDAyWcdNJJ1sIiT5CJjs7Tjs5eu3Zt27GaNWtmiSNIOZRFO3bu3GkgQd7z1Icgjz766HJRyOYzHSrshKXasGFDazliBbgEef3whz+0AxYLiwRB/etf/zJz5841f/3rX40jqRYtWpixY8da3bn7o3r16o5OnC7Rt6hv8+bNbRbXt+hnWOdYU7feeqttWyEkhd6QU69evXRVCfz7XPsUum3atGng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" alt="Conditional probabilities" width="65%" />
<p class="caption">
Conditional probabilities
</p>
</div>
<p>The Bayes net shows the pathways of economic distress. There are three channels: <span class="math inline">\(a\)</span> is the inducement of industry distress from economy distress; <span class="math inline">\(b\)</span> is the inducement of firm distress directly from economy distress; <span class="math inline">\(c\)</span> is the inducement of firm distress directly from industry distress. See @(fig:bayesnet2).</p>
<div class="figure" style="text-align: center">
<img src="data:image/png;base64,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4sWLzZIlS8znn39u93RniIwAHfzI3tG/ACTg0bdR3mqI487MmTPtqhPWfivFnwCBOFasWGH+9re/meeee84wQc3+NgyVEZC6evXqdnvg7t27m0suucTI7tG2uQQ82vbJa+0Cx53+/fub2rVr57UuKrzyBIhh+t5775mrr77a/s/a/n333df2thHuL774wqxcudJ89913NtYpv19zzTVa91959KHlIAEPDW28M964caPtfW/dulURd+JtysLaM0wyceJE89prr9le9o9+9CNz2mmnmf3228/2vr/99ls7YX3HHXeYKVOmmPfff988/PDDWjpaSDB6v0jAo2eTSNQIx505c+bYPU8aN24ciTqpEhUnwJj30qVLzTPPPGPFeuDAgeZXv/qVadKkif2bnBlead++vRX3Tz75xKxZs8buffPll18aXQMVZx/mmRLwMOnGNG963az7XrhwoTn99NMLb/CYNkfV3k2AYREcsIYNG2bHu0866SS7KVkmHL4nxmnbtm3tVsFMYBN9iaEWCXgmqej8LgGPji0iU5Ng6WCPHj3szRyZiqkiFSawzz77GCYmf/e73xlWF9WvX7/EvOipb9q0yfbGOYBeOROcStEkIAGPpl3yVismuhYtWmT3/L744osNN75S/AmwwoSJ6GAyGhFnmIxlhOzxzg/LCXnr+uyzz+xKlaDViLhSNAlIwKNpl7zViqWDbFrFOmCi7igliwDLBt9++23zyCOP2JUoDJGwjJAJTP5n+IxeOIKvFH0CEvDo28hbDelprV271o5/n3DCCXY81FvhKih0AiwLve+++8zNN99s7YyYM+5dp04dO3nZoUMHc/DBB9tA1aw+eeWVV0KvkwqoHAEJeOX4JersYM9vJrKOOOKIRLUt7Y2hp/3yyy+bP/7xj9brslGjRmbcuHFm0KBBpkWLFjZAB3ZniIX14E8//bRFxkNdQyjRvXok4NG1jfeaBY477PlNr0wpOQSwLQLOWnCWDv7sZz8zZ5xxhp3MLBrbFAHn+CAxXq4UTQIS8GjaxXut6KHNmjXL3riKuOMdf+gF8nbFtggklgQed9xxZv/99y9WLuPfrP+eN2+e/Y7eN58pRZOAZiqiaRfvtWJFAmu/CwoK7Bio9wqowFAJMNYdbAWMIDP+XTTxOdcASw0RfBK9b1YmKUWTgAQ8mnbxWitWH9DjYs9vet9V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PxVQKSIgAmUSkICXiUdfIuLNmze3k5qbNm2yEX3YN0WOPro2RCD/BLQKJf82iHwNMh19mjRpYl3uFy5cGPl6q4IikHQCEvCkW9hR+zIj+vA7EX3k6OMIrrIRgQoSkIBXEFwaT0O4O3XqZL012fzq0UcfNUT2URIBEcgPAQl4frjHttQgog9R7pcuXWodfbZt2xbb9qjiIhBnAprEjLP18lR3Ivrg6IO7feDoc+KJJ+apNipWBNJLQAKeXttXquW1a9e2jj4Mpbz66qvW0WfEiBGVylMni4AI5EZAAp4bLx39HwKBow+OPfTEn3rqKbtGHMcfJREQAT8EJOB+OCeylExHH9aI33vvvTYsmxx9EmluNSqCBCTgETRKnKoUOPocf/zxBhH/+9//bnviBx98cJyaobqKQCwJaBVKLM0WrUoHjj4nnXSSadq0qY3oI0efaNlItUkmAfXAk2lX763KdPTByYef8847z7rhe6+MCsyaAHu9L1682MyaNcusXbvW8EZFeL2DDjrIdOjQIet8dGB+CEjA88M9kaUi4tz4J598snnooYeso89ZZ51l6tevn8j2xrlRO3bsMHPmzDETJkww06dPtztO8hmJ/eCJjcqqonPPPde0adPGfq5/okdAQyjRs0msaxQ4+owaNcosX75cjj4RtObWrVvNpEmTzAUXXGDD5s2fP9961DZq1MgccMABZsOGDbZHfvvtt5vf/OY3ZtWqVRFshaoEAfXAdR04J4CjzyGHHGKXF7744os2og/j40r5J7Br1y7z2Wefmd///vdm9uzZhsAdxEAdP3683f+d5aEMqSDezz//vHXU2n///c0NN9xg+E4pWgQk4NGyR2Jqg6PP4Ycfbl/Np0yZYoVCjj75N++6devsW9H7779vna94sF599dWmWbNmdvybGh544IF2OSiblc2cOdO88cYbVvQ7duyY/waoBnsQkIDvgUN/uCIgRx9XJN3m8+WXX5qXX37ZfP/996ZFixZm3Lhxdtgks5Rq1aoZloGeeuqpZv369aZdu3YG4VeKHgEJePRskpgasaKBybBhw4bZnjiOPkT0oWeu5J/Azp07zRdffGHHt5mrYGdJ9rQpKe23337mzDPPNMRB5W2qYcOGJR2mz/JMQAKeZwMkvfjA0eeEE04wmzdvLnT06datW9KbHrn2scqEpYLffvutHdJiwpL5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AfcEJODumSpHERABEfBCQALuBbMKEQEREAH3BCTg7pkqRxEQARHwQkAC7gWzChEBERAB9wQk4O6ZKkcREAER8EJAAu4FswoRAREQAfcEJODumSpHERABEfBCQALuBbMKEQEREAH3BCTg7pkqRxEQARHwQkAC7gWzChEBERAB9wQk4O6ZKkcREAER8EJAAu4FswoRAREQAfcEJODumSpHERABEfBCQALuBbMKEQEREAH3BCTg7pkqRxEQARHwQkAC7gWzChEBERAB9wQk4O6ZKkcREAER8EJAAu4FswoRAREQAfcEJODumSpHERABEfBCQALuBbMKEQEREAH3BCTg7pkqRxEQARHwQkAC7gWzChEBERAB9wQk4O6ZKkcREAER8EJAAu4FswoRAREQAfcEJODumSpHERABEfBCQALuBbMKEQEREAH3BCTg7pkqRxEQARHwQkAC7gWzChEBERAB9wQk4O6ZKkcREAER8EJAAu4FswoRAREQAfcEJODumSpHERABEfBCQALuBbMKEQEREAH3BCTg7pkqRxEQARHwQkAC7gWzChEBERAB9wQk4O6ZKkcREAER8EJAAu4FswoRAREQAfcEJODumSpHERABEfBCQALuBbMKEQEREAH3BCTg7pkqRxEQARHwQkAC7gWzChEBERAB9wQk4O6ZKkcREAER8EJAAu4FswoRAREQAfcEJODumSpHERABEfBCQALuBbMKEQEREAH3BCTg7pkqRxEQARHwQkAC7gWzChEBERAB9wQk4O6ZKkcREAER8EJAAu4FswoRAREQAfcEJODumSpHERABEfBCQALuBbMKEQEREAH3BCTg7pkqRxEQARHwQkAC7gWzChEBERAB9wQk4O6ZKkcREAER8EJAAu4FswoRAREQAfcEJODumSpHERABEfBCQALuBbMKEQEREAH3BCTg7pkqRxEQARHwQkAC7gWzChEBERAB9wQk4O6ZKkcREAER8EJAAu4FswoRAREQAfcEJODumSpHERABEfBCQALuBbMKEQEREAH3BCTg7pkqRxEQARHwQkAC7gWzChEBERAB9wQk4O6ZKkcREAER8EJAAu4FswoRAREQAfcEJODumSpHERABEfBCQALuBbMKEQEREAH3BCTg7pkqRxEQARHwQkAC7gWzChEBERAB9wQk4O6ZKkcREAER8EJAAu4FswoRAREQAfcEJODumSpHERABEfBCQALuBbMKEQEREAH3BCTg7pkqRxEQARHwQkAC7gWzChEBERAB9wQk4O6ZKkcREAER8EJAAu4FswoRAREQAfcEJODumSpHERABEfBCQALuBbMKEQEREAH3BCTg7pkqRxEQARHwQkAC7gWzChEBERAB9wQk4O6ZKkcREAER8EJAAu4FswoRAREQAfcEJODumSpHERABEfBCQALuBbMKEQEREAH3BCTg7pkqRxEQARHwQkAC7gWzChEBERAB9wQk4O6ZKkcREAER8EJAAu4FswoRAREQAfcEJODumSpHERABEfBCQALuBbMKEQEREAH3BCTg7pkqRxEQARHwQkAC7gWzChEBERAB9wQk4O6ZKkcREAER8EJAAu4FswoRAREQAfcEJODumSpHERABEfBCQALuBbMKEQEREAH3BCTg7pkqRxEQARHwQkAC7gWzChEBERAB9wQk4O6ZKkcREAER8EJAAu4FswoRAREQAfcEJODumSpHERABEfBCQALuBbMKEQEREAH3BCTg7pkqRxEQARHwQkAC7gWzChEBERAB9wQk4O6ZKkcREAER8EJAAu4FswoRAREQAfcEJODumSpHERABEfBCQALuBbMKEQEREAH3BCTg7pkqRxEQARHwQkAC7gWzChEBERAB9wQk4O6ZKkcREAER8EJAAu4FswoRAREQAfcEJODumSpHERABEfBCQALuBbMKEQEREAH3BCTg7pkqRxEQARHwQkAC7gWzChEBERAB9wQk4O6ZKkcREAER8EJAAu4FswoRAREQAfcEJODumSpHERABEfBCQALuBbMKEQEREAH3BCTg7pkqRxEQARHwQkAC7gWzChEBERAB9wQk4O6ZKkcREAER8EJAAu4FswoRAREQAfcEJODumSpHERABEfBCQALuBbMKEQEREAH3BCTg7pkqRxEQARHwQkAC7gWzChEBERAB9wQk4O6ZKkcREAER8EJAAu4FswoRAREQAfcEJODumSpHERABEfBCQALuBXO0Ctm5c6fZvn272bVrl/eKUeaGDRvMp59+6r1sVwV+//33Zt26dWbJkiWusqxwPvDcuHGj5Yld85XKuqa41latWmW++OKLfFWvwuVu3brVLFq0yGzZsqXCeYR54t5hZp5L3tzUkydPNu+884755ptvzF577WWqVatmswAiF8H+++9vfvjDH5pevXrlknWZx3IzciM++uijZtmyZaZKlSqmYcOGpn///mbEiBFlnpvLl5SzePHiwnI4lzbus88+Ztu2bebbb7819evXt2UOHz48l6zLPZab/KuvvjKvvvqqef311813331n2W7atMlUr17dtGvXzvTr18/06dOn3LwqcwA38MSJE82kSZNMixYtzD/+8Q+bHe2fM2eOmTt3rrVvrVq1Si2GPLhO2rdvbw4//PBSjwvjC0SKm/n22283M2fONNjpl7/8ZbGiuJZfeeUVM23aNAPjqlWrFl7LtBXeQ4cONd27dy92bi4f8BB57LHHzDPPPGPq1q1r2dasWTOXLCp8bDbXVM+ePW3bsfnKlSvNZZddZo499tgKl+nzRGz44osvWr7cuzfeeKO1m886ZFNWZAS8du3aZsCAAbbOP/vZz8wJJ5xgLr30Uvv3jh077I3z2muvma+//jqbdmV9DCLavHlzM2TIEDNhwgQrItdff7059NBDs84jmwMp54ADDrA3LuV89NFH5g9/+INp06aNFdTVq1ebN9980/ZUsskv22O40RYuXGj+9Kc/WbE+/fTTTYMGDezDA65r1641L730khX2sAW8Xr16ZtCgQea9994zK1asKGwCPUhEGWE/4ogjrDjzJbb++OOP7Y3TpEkTezyc/vrXv5phw4Z5F3Ae7tgQ4aaj8eWXXxa2IfMXrmU6ADyUf/GLX5jRo0ebSy65xPbi3n33XfPkk09acbjyyivN0UcfnXlqTr/vu+++ltesWbPMBx98YHz1wLO9pmjrhRdeaG11xRVXmM2bN+fUvnwejA179+5t5s+fb+3FvRLFFBkB33vvvU3jxo3tDcKFWKdOncIbmQuG3ik9c45xmbgp6bVwY+633372JkBUETmXqWg5PNUph54kqWnTpoaLhN6xqwS3BQsWGB5I/E5vkYcVvf4gUQf+5mYLO/FGRTt5w6H3GCSE/bTTTrNiRs+chHg//PDD5rnnnjM33XSTCQS8bdu25s9//rPz6yCoS1n/Z9qQG7y0xLVMfQ888EB7SHAtc13zFkkv/KqrrrJtq4yAYzfKadSoUWlVcf55rtcUtm3ZsqXzeoSdITaEK9drlFNkBDyARE+Vn8zEjQPMY445xtSoUSPzK2e/UwavuqSi5TsrZHdGmeVk5ktvimEMl70oetcPPPCA7Z0heq1bt84s0v7OEEqXLl2sqBb7MqQPYJCZuFm4yXmIBjaAA6+xa9assQ/Y4HjEkCG0onkE30fl/8DOQXuoF9cVHRCGTngAMCzoIvlkEdVrygXHOOYROQEvCSI973nz5lkB4omexESPlKEFHlKuEr3Yt99+2769HHbYYSVmy83P+Gkw7sybAUMuL7zwgj2esUtE/pRTTjHdunWzY+kMudBjp0fNkMzNN99sGNo48sgjzciRI83BBx9cWBa2mzp1qh1/Zw6At50gTw7itZp2M4TCePFPfvITa2eGHxBvhlfeeOMN+0ZEz33GjBn2tbZTp07mggsusOW4rDNvQIxzP/vss3acG4YDBw4048ePNy6uPSbDPvvsM9sR4YHN5B5l8areZvfbEOzuuusuy5phBx5itJ+hJHruDNswtnzyyScX2gwIPPCYw2Euh+EdbHr88cdbuwVzSRZWJf+pyDUVFMk8DG1jCKlZs2b2WmeeKXibCa4VhkqZD+Ft7IwzzrD8OTeb6y7b46gTb7xck8wLcf/xtsrQF9e6r7mEgE1F/4+kgNMzASYiQq+FG5kLnPG0pCQu1ilTpth2IhqMCXOzuhJwXnW52VjtMXjw4DLfXBBxesEIIZNzjNFz43Tu3NmuHHj88ccN8xJXX3217T3y6o7octEzJMAwQCBEn3zyib1JsdvSpUvtxFrHjh3Nj370I2tHJlIRfybySMEE3/Lly+28AKIMGx482JwJbMSLoR/ewjgeboEohVHn++67zxx33HF2UpchHP6m7HPPPbdClx91xBY8jN5//317XZ911ln2YYftadPLL79sWX744Ye2DHjQ233ooYfstQE/RHr27Nnm1ltvtR2a6667rrA+PECffvpp06FDB/sAZALuhhtusCJV0XoXZv6fXypyTQV50H6EkjkQri2uAyYGEUomNnl4M+mLzc877zzz1ltv2bb/5S9/KbzmsrnuOCab4+DONfzII4+YM888076BYps777zTzl3ERWsiKeBcqBgUUUAIuDi5mH2+KgYXXlj/8/T//PPP7c0bLLNCRF0lGCIY69evz3pYhgfl/fffb4W2b9++dh6CMUB6jf/617/MbbfdZv6xe+VI165d7ZAH9T7xxBNtD58blN70U089ZQWXsVnymj59urn44outADImzFwGN2mwpIzePfMA9DyZjCPRI+vRo4c55JBD7DVAj4ih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" alt="Bayesian network" width="65%" />
<p class="caption">
Bayesian network
</p>
</div>
<p>Note here that each pair of conditional probabilities adds up to 1. The channels in the tableaus refer to the arrows in the Bayes net diagram.</p>
<h4 id="conditional-probability---1">Conditional Probability - 1</h4>
<p>Now we will compute an answer to the question: What is the probability that the industry is distressed if the firm is known to be in distress? The calculation is as follows:</p>
<p><span class="math display">\[
\begin{aligned}
Pr(I=1|F=1) &amp;= \frac{Pr(F=1|I=1)\cdot Pr(I=1)}{Pr(F=1)} \\ 
Pr(F=1|I=1)\cdot Pr(I=1) &amp;= Pr(F=1|I=1)\cdot Pr(I=1|E=1)\cdot Pr(E=1) \\ 
 &amp;+ Pr(F=1|I=1)\cdot Pr(I=1|E=0)\cdot Pr(E=0)\\ 
&amp;= 0.95 \times 0.6 \times 0.1 + 0.8 \times 0.2 \times 0.9 = 0.201 \\ 
\end{aligned}
\]</span></p>
<p><span class="math display">\[
\begin{aligned}
Pr(F=1|I=0)\cdot Pr(I=0) &amp;= Pr(F=1|I=0)\cdot Pr(I=0|E=1)\cdot Pr(E=1) \\
&amp;+ Pr(F=1|I=0)\cdot Pr(I=0|E=0)\cdot Pr(E=0)\\ 
&amp;= 0.7 \times 0.4 \times 0.1 + 0.1 \times 0.8 \times 0.9 = 0.100 
\end{aligned}
\]</span></p>
<p><span class="math display">\[
\begin{aligned}
Pr(F=1) &amp;= Pr(F=1|I=1)\cdot Pr(I=1) \\
&amp;+ Pr(F=1|I=0)\cdot Pr(I=0) = 0.301 
\end{aligned}
\]</span></p>
<p><span class="math display">\[
Pr(I=1|F=1) = \frac{Pr(F=1|I=1)\cdot Pr(I=1)}{Pr(F=1)} = \frac{0.201}{0.301} = 0.6677741
\]</span></p>
<h4 id="computational-set-theoretic-approach">Computational set-theoretic approach</h4>
<p>We may write a R script to compute the conditional probability that the industry is distressed when a firm is distressed. This uses the set approach that we visited earlier.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co">#BAYES NET COMPUTATIONS</span>

E =<span class="st"> </span><span class="kw">seq</span>(<span class="dv">1</span>,<span class="dv">100000</span>)
n =<span class="st"> </span><span class="kw">length</span>(E)

E1 =<span class="st"> </span><span class="kw">sample</span>(E,<span class="kw">length</span>(E)*<span class="fl">0.1</span>)
E0 =<span class="st"> </span><span class="kw">setdiff</span>(E,E1)

E1I1 =<span class="st"> </span><span class="kw">sample</span>(E1,<span class="kw">length</span>(E1)*<span class="fl">0.6</span>)
E1I0 =<span class="st"> </span><span class="kw">setdiff</span>(E1,E1I1)
E0I1 =<span class="st"> </span><span class="kw">sample</span>(E0,<span class="kw">length</span>(E0)*<span class="fl">0.2</span>)
E0I0 =<span class="st"> </span><span class="kw">setdiff</span>(E0,E0I1)

E1I1F1 =<span class="st"> </span><span class="kw">sample</span>(E1I1,<span class="kw">length</span>(E1I1)*<span class="fl">0.95</span>)
E1I1F0 =<span class="st"> </span><span class="kw">setdiff</span>(E1I1,E1I1F1)
E1I0F1 =<span class="st"> </span><span class="kw">sample</span>(E1I0,<span class="kw">length</span>(E1I0)*<span class="fl">0.70</span>)
E1I0F0 =<span class="st"> </span><span class="kw">setdiff</span>(E1I0,E1I0F1)
E0I1F1 =<span class="st"> </span><span class="kw">sample</span>(E0I1,<span class="kw">length</span>(E0I1)*<span class="fl">0.80</span>)
E0I1F0 =<span class="st"> </span><span class="kw">setdiff</span>(E0I1,E0I1F1)
E0I0F1 =<span class="st"> </span><span class="kw">sample</span>(E0I0,<span class="kw">length</span>(E0I0)*<span class="fl">0.10</span>)
E0I0F0 =<span class="st"> </span><span class="kw">setdiff</span>(E0I0,E0I0F1)

pr_I1_given_F1 =<span class="st"> </span><span class="kw">length</span>(<span class="kw">c</span>(E1I1F1,E0I1F1))/
<span class="st">     </span><span class="kw">length</span>(<span class="kw">c</span>(E1I1F1,E1I0F1,E0I1F1,E0I0F1))
<span class="kw">print</span>(pr_I1_given_F1)</code></pre></div>
<pre><code>## [1] 0.6677741</code></pre>
<p>Running this program gives the desired probability and confirms the previous result.</p>
<h4 id="conditional-probability---2">Conditional Probability - 2</h4>
<p>Compute the conditional probability that the economy is in distress if the firm is in distress. Compare this to the previous conditional probability we computed of 0.6677741. Should it be lower?</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">pr_E1_given_F1 =<span class="st"> </span><span class="kw">length</span>(<span class="kw">c</span>(E1I1F1,E1I0F1))/<span class="kw">length</span>(<span class="kw">c</span>(E1I1F1,E1I0F1,E0I1F1,E0I0F1))
<span class="kw">print</span>(pr_E1_given_F1)</code></pre></div>
<pre><code>## [1] 0.282392</code></pre>
<p>Yes, it should be lower than the probability that the industry is in distress when the firm is in distress, because the economy is one network layer removed from the firm, unlike the industry.</p>
<h4 id="r-packages-for-bayes-nets">R Packages for Bayes Nets</h4>
<p>What packages does R provide for doing Bayes Nets?</p>
<p>See: <a href="http://cran.r-project.org/web/views/Bayesian.html" class="uri">http://cran.r-project.org/web/views/Bayesian.html</a></p>
</div>
<div id="bayes-in-marketing" class="slide section level2">
<h1>Bayes in Marketing</h1>
<p>In pilot market tests (part of a larger market research campaign), Bayes theorem shows up in a simple manner. Suppose we have a project whose value is <span class="math inline">\(x\)</span>. If the product is successful (<span class="math inline">\(S\)</span>), the payoff is <span class="math inline">\(+100\)</span> and if the product fails (<span class="math inline">\(F\)</span>) the payoff is <span class="math inline">\(-70\)</span>. The probability of these two events is:</p>
<p><span class="math display">\[
Pr(S) = 0.7, \quad Pr(F) = 0.3
\]</span></p>
<p>You can easily check that the expected value is <span class="math inline">\(E(x) = 49\)</span>. Suppose we were able to buy protection for a failed product, then this protection would be a put option (of the real option type), and would be worth <span class="math inline">\(0.3 \times 70 = 21\)</span>. Since the put saves the loss on failure, the value is simply the expected loss amount, conditional on loss. Market researchers think of this as the value of <strong>perfect information</strong>.</p>
<h4 id="product-launch">Product Launch?</h4>
<p>Would you proceed with this product launch given these odds? <strong>Yes</strong>, the expected value is positive (note that we are assuming away risk aversion issues here - but this is not a finance topic, but a marketing research analysis).</p>
<h4 id="pilot-test">Pilot Test</h4>
<p>Now suppose there is an intermediate choice, i.e.you can undertake a pilot test (denoted <span class="math inline">\(T\)</span>). Pilot tests are not highly accurate though they are reasonably sophisticated. The pilot test signals success (<span class="math inline">\(T+\)</span>) or failure (<span class="math inline">\(T-\)</span>) with the following probabilities:</p>
<p><span class="math display">\[
Pr(T+ | S) = 0.8 \\
Pr(T- | S) = 0.2 \\
Pr(T+ | F) = 0.3 \\
Pr(T- | F) = 0.7 
\]</span></p>
<p>What are these? We note that <span class="math inline">\(Pr(T+ | S)\)</span> stands for the probability that the pilot signals success when indeed the underlying product launch will be successful. Thus the pilot in this case gives only an accurate reading of success 80% of the time. Analogously, one can interpret the other probabilities.</p>
<p>We may compute the probability that the pilot gives a positive result:</p>
<p><span class="math display">\[
\begin{aligned}
Pr(T+) &amp;= Pr(T+ | S)Pr(S) + Pr(T+ | F)Pr(F) \\
&amp;= (0.8)(0.7)+(0.3)(0.3) = 0.65 
\end{aligned}
\]</span></p>
<p>and that the result is negative:</p>
<p><span class="math display">\[
\begin{aligned}
Pr(T-) &amp;= Pr(T- | S)Pr(S) + Pr(T- | F)Pr(F) \\
&amp;= (0.2)(0.7)+(0.7)(0.3) = 0.35 
\end{aligned}
\]</span></p>
<p>which now allows us to compute the following conditional probabilities:</p>
<p><span class="math display">\[
\begin{aligned}
Pr(S | T+) &amp;= \frac{Pr(T+|S)Pr(S)}{Pr(T+)} = \frac{(0.8)(0.7)}{0.65} = 0.86154 \\
Pr(S | T-) &amp;= \frac{Pr(T-|S)Pr(S)}{Pr(T-)} = \frac{(0.2)(0.7)}{0.35} = 0.4 \\
Pr(F | T+) &amp;= \frac{Pr(T+|F)Pr(F)}{Pr(T+)} = \frac{(0.3)(0.3)}{0.65} = 0.13846 \\
Pr(F | T-) &amp;= \frac{Pr(T-|F)Pr(F)}{Pr(T-)} = \frac{(0.7)(0.3)}{0.35} = 0.6 
\end{aligned}
\]</span></p>
<p>Armed with these conditional probabilities, we may now re-evaluate our product launch. If the pilot comes out positive, what is the expected value of the product launch? This is as follows:</p>
<p><span class="math display">\[ 
E(x | T+) = 100 Pr(S|T+) +(-70) Pr(F|T+) \\
= 100(0.86154)-70(0.13846) \\
= 76.462
\]</span></p>
<p>And if the pilot comes out negative, then the value of the launch is:</p>
<p><span class="math display">\[
E(x | T-) = 100 Pr(S|T-) +(-70) Pr(F|T-) \\
= 100(0.4)-70(0.6) \\
= -2
\]</span></p>
<p>So. we see that if the pilot is negative, then we know that the expected value from the main product launch is negative, and we do not proceed. Thus, the overall expected value after the pilot is</p>
<p><span class="math display">\[
E(x) = E(x|T+)Pr(T+) + E(x|T-)Pr(T-) \\
= 76.462(0.65) + (0)(0.35) \\
= 49.70
\]</span></p>
<p>The incremental value over the case without the pilot test is <span class="math inline">\(0.70\)</span>. This is the information value of the pilot test.</p>
</div>
<div id="other-marketing-applications" class="slide section level2">
<h1>Other Marketing Applications</h1>
<p>Bayesian methods show up in many areas in the Marketing field. Especially around customer heterogeneity, see <span class="citation">@RePEc:eee:econom:v:89:y:1998:i:1-2:p:57-78</span>. Other papers are as follows:</p>
<ul>
<li>See the paper The HB Revolution: How Bayesian Methods Have Changed the Face of Marketing Research, by <span class="citation">@AllenbyBakkenRossi</span>.</li>
<li>See also the paper by David Bakken, titled ``The Bayesian Revolution in Marketing Research.</li>
<li>In conjoint analysis, see the paper by Sawtooth software. <a href="https://www.sawtoothsoftware.com/download/techpap/undca15.pdf" class="uri">https://www.sawtoothsoftware.com/download/techpap/undca15.pdf</a></li>
</ul>
</div>

  <!-- dynamically load mathjax for compatibility with self-contained -->
  <script>
    (function () {
      var script = document.createElement("script");
      script.type = "text/javascript";
      script.src  = "https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
      document.getElementsByTagName("head")[0].appendChild(script);
    })();
  </script>

</body>
</html>
